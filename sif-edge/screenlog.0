ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37228h (225832) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047250 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047260 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2e0 vaddr=40080000 size=04d38h ( 19768) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c02c0h (787136) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001102e8 vaddr=40084d38 size=14efch ( 85756) load[0m
[0;32mI (510) esp_image: segment 6: paddr=001251ec vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125258 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  b0a3a2e82...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D18 len 000272E8 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28490062.0, 101770352.0, 49873884.0)[0m
wakeup clock
[0;32mI (23828) sntp: The current date/time in Germany is: Sat Nov 30 10:21:04 2024[0m
[0;32mI (23828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24788) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25468) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (26168) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26868) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27548) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28288) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (28968) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (29688) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30378) energy: Energy Manager state retrieved: (405.6, 1732958243898700, 239.2, 10, 1732958236884484, 0)[0m
[0;32mI (30388) energy: Last mean panel power: 405.6mW[0m
[0;32mI (30388) energy: Duration of deep sleep: 198s[0m
[0;32mI (30388) energy: Mean load power: 239.2 mW  duration duty cycle: 10s[0m
[0;32mI (30398) energy: panel energy in deep sleep: 80308.8mWs[0m
[0;32mI (30398) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30408) energy: battery energy in deep sleep: 79873.2mWs[0m
New measureTemp event with ID: 1036
New getNextDutyFreqE event with ID: 1037
[0;32mI (31488) energy: Force deep sleep 200
[0m
[0;32mI (32578) functions: MeasureTempFunction started[0m
[0;31mE (32598) dht: Initialization error, problem in phase 'B'[0m
Could not read data from sensor
[0;32mI (32678) functions: CalcDutyFreqFunction started[0m
[0;32mI (32678) CalcDutyFreqFunction: Start battery level: 62.097656[0m
[0;32mI (32678) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (32688) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (32688) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (32698) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (32698) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (32708) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403485
Timestamp of last solar prediction: 403485
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
slope: 2.419531
[0;32mI (32778) CalcDutyFreqFunction: Battery slope: 2.4[0m
[0;32mI (32788) CalcDutyFreqFunction: Day0 battery checkpoint: 62.097656[0m
[0;32mI (32788) CalcDutyFreqFunction: Day1 battery checkpoint: 59.678123[0m
[0;32mI (32798) CalcDutyFreqFunction: Day2 battery checkpoint: 57.258595[0m
[0;32mI (32808) CalcDutyFreqFunction: Day3 battery checkpoint: 54.839062[0m
[0;32mI (32808) CalcDutyFreqFunction: Day4 battery checkpoint: 52.419533[0m
[0;32mI (32818) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.695152%  checkpoint: 52.419533%   energy consumed from battery: 0.722550% [0m
[0;32mI (32828) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.695152%).[0m
[0;32mI (32838) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.874870%  checkpoint: 52.419533%   energy consumed from battery: 0.789939% [0m
[0;32mI (32858) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.874870%).[0m
[0;32mI (32858) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 42.143303%  checkpoint: 52.419533%   energy consumed from battery: 0.890605% [0m
[0;32mI (32878) CalcDutyFreqFunction: Pushed stack element (4, 800s, 42.143303%).[0m
[0;32mI (32888) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 42.587791%  checkpoint: 52.419533%   energy consumed from battery: 1.057282% [0m
[0;32mI (32898) CalcDutyFreqFunction: Pushed stack element (4, 600s, 42.587791%).[0m
[0;32mI (32908) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 43.465874%  checkpoint: 52.419533%   energy consumed from battery: 1.386571% [0m
[0;32mI (32918) CalcDutyFreqFunction: Pushed stack element (4, 400s, 43.465874%).[0m
[0;32mI (32928) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 46.016541%  checkpoint: 52.419533%   energy consumed from battery: 2.343078% [0m
[0;32mI (32948) CalcDutyFreqFunction: Pushed stack element (4, 200s, 46.016541%).[0m
[0;32mI (32948) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 47.943359%  checkpoint: 54.839062%   energy consumed from battery: 1.926800% [0m
[0;32mI (32968) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 47.943359%).[0m
[0;32mI (32978) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 48.123077%  checkpoint: 54.839062%   energy consumed from battery: 2.106502% [0m
[0;32mI (32988) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 48.123077%).[0m
[0;32mI (32998) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 48.391510%  checkpoint: 54.839062%   energy consumed from battery: 2.374946% [0m
[0;32mI (33008) CalcDutyFreqFunction: Pushed stack element (3, 800s, 48.391510%).[0m
[0;32mI (33018) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 48.835999%  checkpoint: 54.839062%   energy consumed from battery: 2.819418% [0m
[0;32mI (33038) CalcDutyFreqFunction: Pushed stack element (3, 600s, 48.835999%).[0m
[0;32mI (33038) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 49.714081%  checkpoint: 54.839062%   energy consumed from battery: 3.697522% [0m
[0;32mI (33058) CalcDutyFreqFunction: Pushed stack element (3, 400s, 49.714081%).[0m
[0;32mI (33068) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 52.264740%  checkpoint: 54.839062%   energy consumed from battery: 6.248209% [0m
[0;32mI (33078) CalcDutyFreqFunction: Pushed stack element (3, 200s, 52.264740%).[0m
[0;32mI (33088) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 41.006226%  checkpoint: 57.258595%   energy consumed from battery: 0.722550% [0m
[0;32mI (33098) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 41.006226%).[0m
[0;32mI (33108) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 41.185944%  checkpoint: 57New temp event with ID: 1038
.258595%   energy consumed from battery: 0.789939% [0m
[0;32mI (33118) functions: MeasureTempFunction terminated[0m
[0;32mI (33128) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 41.185944%).[0m
[0;32mI (33138) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 41.454376%  checkpoint: 57.258595%   energy consumed from battery: 0.890605% [0m
[0;32mI (33158) CalcDutyFreqFunction: Pushed stack element (2, 800s, 41.454376%).[0m
[0;32mI (33158) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 41.898865%  checkpoint: 57.258595%   energy consumed from battery: 1.057282% [0m
[0;32mI (33178) CalcDutyFreqFunction: Pushed stack element (2, 600s, 41.898865%).[0m
[0;32mI (33178) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 42.776947%  checkpoint: 57.258595%   energy consumed from battery: 1.386571% [0m
[0;32mI (33198) CalcDutyFreqFunction: Pushed stack element (2, 400s, 42.776947%).[0m
[0;32mI (33208) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 45.327610%  checkpoint: 57.258595%   energy consumed from battery: 2.343078% [0m
[0;32mI (33218) CalcDutyFreqFunction: Pushed stack element (2, 200s, 45.327610%).[0m
[0;32mI (33228) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 4.146309%  checkpoint: 59.678123%   energy consumed from battery: 0.722550% [0m
[0;32mI (33238) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 4.146309%).[0m
[0;32mI (33248) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 4.326015%  checkpoint: 59.678123%   energy consumed from battery: 0.789939% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 4.326015%).[0m
[0;32mI (33268) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 4.594455%  checkpoint: 59.678123%   energy consumed from battery: 0.890605% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (1, 800s, 4.594455%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 5.038939%  checkpoint: 59.678123%   energy consumed from battery: 1.057282% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (1, 600s, 5.038939%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 5.917029%  checkpoint: 59.678123%   energy consumed from battery: 1.386571% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (1, 400s, 5.917029%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 8.467707%  checkpoint: 59.678123%   energy consumed from battery: 2.343078% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (1, 200s, 8.467707%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.722550%  checkpoint: 62.097656%   energy consumed from battery: 0: MQTT resourceWakeup: reconnecting[0m
[0;32mI (34578) functions: SendToMqttFunction started[0m
[0;32mI (34578) energy: Energy status for hourly reporting retrieved: (1732957303530453, 28462626.0, 101442080.0, 49580916.0)[0m
[0;32mI (34578) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732958474286,"temp":22.0}]}]}> to topic 4/230/data[0m
[0;32mI (34608) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732958474286,"loadPower":526.5,"loadEnergy":7915.6,"batteryPower":-35.8,"batteryEnergy":13877.4,"batteryRSOC":99.0,"panelPower":522.5,"panelEnergy":28295.3}]}]}> to topic 4/230/data[0m
[0;32mI (34638) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732958474286,"voltage":3.9,"rsoc":62.1,"rate":-2.9}]}]}> to topic 4/230/data[0m
hour: 10  lastHour:10
[0;32mI (34638) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732958474286,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34658) functions: SendToMqttFunction terminated[0m
[0;32mI (34678) functions: SetSleepTimeFunction started[0m
[0;32mI (34678) energy: Set sleepTime_s to 200[0m
[0;32mI (34678) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36558) mqtt: MQTT resourceSleep[0m
[0;32mI (36558) energy: Energy manager terminates.[0m
[0;32mI (36558) energy: Energy manager terminated.[0m
[0;32mI (36558) energy: Mean panel power: 425.3 mW  duration duty cycle: 6s[0m
[0;32mI (36568) energy: Mean load power: 182.0 mW  duration duty cycle: 6s[0m
[0;32mI (36568) energy: Load energy: 28496440.0 mWs (diff: 1092.0mWs)[0m
[0;32mI (36578) energy: Battery energy: 49959148.0 mWs (diff: 1080.0mWs)[0m
[0;32mI (36588) energy: Panel energy: 101863736.0 mWs (diff: 2552.0mWs)[0m
[0;32mI (36598) energy: Energy Manager saved state: (425.3, 1732958477715037, 182.0, 6, 1732958474695207, 0)[0m
[0;32mI (36618) energy: Energy saved: (28496452.0, 101863760.0, 49959156.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46
[0;32mI (3818) energy: Energy retrieved: (28496452.0, 101863760.0, 49959156.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 10:24:58 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25218) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25898) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26578) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27278) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (27978) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (28658) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (29348) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30048) energy: Energy Manager state retrieved: (425.3, 1732958477715037, 182.0, 6, 1732958474695207, 0)[0m
[0;32mI (30048) energy: Last mean panel power: 425.3mW[0m
[0;32mI (30048) energy: Duration of deep sleep: 198s[0m
[0;32mI (30058) energy: Mean load power: 182.0 mW  duration duty cycle: 6s[0m
[0;32mI (30068) energy: panel energy in deep sleep: 84216.0mWs[0m
[0;32mI (30068) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30078) energy: battery energy in deep sleep: 83780.4mWs[0m
New measureTemp event with ID: 1040
New getNextDutyFreqE event with ID: 1041
[0;32mI (31158) energy: Force deep sleep 200
[0m
[0;32mI (32258) functions: MeasureTempFunction started[0m
New temp event with ID: 1042
[0;32mI (32278) functions: MeasureTempFunction terminated[0m
[0;32mI (32358) functions: CalcDutyFreqFunction started[0m
[0;32mI (32358) CalcDutyFreqFunction: Start battery level: 58.210938[0m
[0;32mI (32358) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (32368) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (32368) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (32378) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (32378) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (32388) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403485
Timestamp of last solar prediction: 403485
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
slope: 1.642187
[0;32mI (32458) CalcDutyFreqFunction: Battery slope: 1.6[0m
[0;32mI (32468) CalcDutyFreqFunction: Day0 battery checkpoint: 58.210938[0m
[0;32mI (32468) CalcDutyFreqFunction: Day1 battery checkpoint: 56.568748[0m
[0;32mI (32478) CalcDutyFreqFunction: Day2 battery checkpoint: 54.926563[0m
[0;32mI (32488) CalcDutyFreqFunction: Day3 battery checkpoint: 53.284374[0m
[0;32mI (32488) CalcDutyFreqFunction: Day4 battery checkpoint: 51.642189[0m
[0;32mI (32498) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.202068%  checkpoint: 51.642189%   energy consumed from battery: 0.537659% [0m
[0;32mI (32508) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.202068%).[0m
[0;32mI (32518) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.284466%  checkpoint: 51.642189%   energy consumed from battery: 0.568558% [0m
[0;32mI (32538) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.284466%).[0m
[0;32mI (32538) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.407776%  checkpoint: 51.642189%   energy consumed from battery: 0.614791% [0m
[0;32mI (32558) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.407776%).[0m
[0;32mI (32568) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.612476%  checkpoint: 51.642189%   energy consumed from battery: 0.691540% [0m
[0;32mI (32578) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.612476%).[0m
[0;32mI (32588) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 42.018787%  checkpoint: 51.642189%   energy consumed from battery: 0.843905% [0m
[0;32mI (32598) CalcDutyFreqFunction: Pushed stack element (4, 400s, 42.018787%).[0m
[0;32mI (32608) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 43.214012%  checkpoint: 51.642189%   energy consumed from battery: 1.292124% [0m
[0;32mI (32628) CalcDutyFreqFunction: Pushed stack element (4, 200s, 43.214012%).[0m
[0;32mI (32628) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.647728%  checkpoint: 53.284374%   energy consumed from battery: 1.433758% [0m
[0;32mI (32648) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.647728%).[0m
[0;32mI (32658) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.730125%  checkpoint: 53.284374%   energy consumed from battery: 1.516154% [0m
[0;32mI (32668) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.730125%).[0m
[0;32mI (32678) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.853447%  checkpoint: 53.284374%   energy consumed from battery: 1.639441% [0m
[0;32mI (32688) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.853447%).[0m
[0;32mI (32698) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 45.058159%  checkpoint: 53.284374%   energy consumed from battery: 1.844107% [0m
[0;32mI (32718) CalcDutyFreqFunction: Pushed stack element (3, 600s, 45.058159%).[0m
[0;32mI (32718) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.464470%  checkpoint: 53.284374%   energy consumed from battery: 2.250413% [0m
[0;32mI (32738) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.464470%).[0m
[0;32mI (32748) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.659691%  checkpoint: 53.284374%   energy consumed from battery: 3.445664% [0m
[0;32mI (32758) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.659691%).[0m
[0;32mI (32768) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.908096%  checkpoint: 54.926563%   energy consumed from battery: 0.537659% [0m
[0;32mI (32778) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.908096%).[0m
[0;32mI (32788) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.990494%  checkpoint: 54.926563%   energy consumed from battery: 0.568558% [0m
[0;32mI (32798) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.990494%).[0m
[0;32mI (32808) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 35.113796%  checkpoint: 54.926563%   energy consumed from battery: 0.614791% [0m
[0;32mI (32828) CalcDutyFreqFunction: Pushed stack element (2, 800s, 35.113796%).[0m
[0;32mI (32828) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 35.318501%  checkpoint: 54.926563%   energy consumed from battery: 0.691540% [0m
[0;32mI (32848) CalcDutyFreqFunction: Pushed stack element (2, 600s, 35.318501%).[0m
[0;32mI (32858) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 35.724812%  checkpoint: 54.926563%   energy consumed from battery: 0.843905% [0m
[0;32mI (32868) CalcDutyFreqFunction: Pushed stack element (2, 400s, 35.724812%).[0m
[0;32mI (32878) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 36.920040%  checkpoint: 54.926563%   energy consumed from battery: 1.292124% [0m
[0;32mI (32888) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.920040%).[0m
[0;32mI (32898) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.537659%  checkpoint: 56.568748%   energy consumed from battery: 0.537659% [0m
[0;32mI (32918) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.537659%).[0m
[0;32mI (32918) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.568558%  checkpoint: 56.568748%   energy consumed from battery: 0.568558% [0m
[0;32mI (32938) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.568558%).[0m
[0;32mI (32948) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.614791%  checkpoint: 56.568748%   energy consumed from battery: 0.614791% [0m
[0;32mI (32958) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.614791%).[0m
[0;32mI (32968) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.691540%  checkpoint: 56.568748%   energy consumed from battery: 0.691540% [0m
[0;32mI (32978) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.691540%).[0m
[0;32mI (32988) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.843905%  checkpoint: 56.568748%   energy consumed from battery: 0.843905% [0m
[0;32mI (32998) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.843905%).[0m
[0;32mI (33008) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.292124%  checkpoint: 56.568748%   energy consumed from battery: 1.292124% [0m
[0;32mI (33028) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.292124%).[0m
[0;32mI (33028) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.537659%  checkpoint: 58.210938%   energy consumed from battery: 0.537659% [0m
[0;32mI (33048) CalcDutyFreqFunction: Pushed stack element (0, 1200s, 0.537659rminated[0m
[0;32mI (32458) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (34258) functions: SendToMqttFunction started[0m
[0;32mI (34258) energy: Energy status for hourly reporting retrieved: (1732957303530453, 28462626.0, 101442080.0, 49580916.0)[0m
[0;32mI (34258) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732958707469,"temp":22.0}]}]}> to topic 4/230/data[0m
[0;32mI (34288) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732958707469,"loadPower":473.0,"loadEnergy":7917.4,"batteryPower":-31.0,"batteryEnergy":13902.4,"batteryRSOC":47.0,"panelPower":481.8,"panelEnergy":28322.2}]}]}> to topic 4/230/data[0m
[0;32mI (34318) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732958707469,"voltage":3.8,"rsoc":58.2,"rate":-8.3}]}]}> to topic 4/230/data[0m
hour: 10  lastHour:10
[0;32mI (34328) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732958707469,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34338) functions: SendToMqttFunction terminated[0m
[0;32mI (34358) functions: SetSleepTimeFunction started[0m
[0;32mI (34358) energy: Set sleepTime_s to 200[0m
[0;32mI (34358) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36228) mqtt: MQTT resourceSleep[0m
[0;32mI (36228) energy: Energy manager terminates.[0m
[0;32mI (36228) energy: Energy manager terminated.[0m
[0;32mI (36228) energy: Mean panel power: 420.0 mW  duration duty cycle: 6s[0m
[0;32mI (36238) energy: Mean load power: 172.0 mW  duration duty cycle: 6s[0m
[0;32mI (36248) energy: Load energy: 28502800.0 mWs (diff: 1032.0mWs)[0m
[0;32mI (36248) energy: Battery energy: 50049140.0 mWs (diff: 1172.0mWs)[0m
[0;32mI (36258) energy: Panel energy: 101960856.0 mWs (diff: 2520.0mWs)[0m
[0;32mI (36278) energy: Energy Manager saved state: (420.0, 1732958711403212, 172.0, 6, 1732958708382771, 0)[0m
[0;32mI (36288) energy: Energy saved: (28502808.0, 101960872.0, 50049148.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37228h (225832) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047250 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047260 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2e0 vaddr=40080000 size=04d38h ( 19768) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c02c0h (787136) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001102e8 vaddr=40084d38 size=14efch ( 85756) load[0m
[0;32mI (510) esp_image: segment 6: paddr=001251ec vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125258 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  b0a3a2e82...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D18 len 000272E8 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28502808.0, 101960872.0, 50049148.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 10:28:52 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24548) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25238) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25928) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26628) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27298) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (27988) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (28688) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (29368) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30058) energy: Energy Manager state retrieved: (420.0, 1732958711403212, 172.0, 6, 1732958708382771, 0)[0m
[0;32mI (30068) energy: Last mean panel power: 420.0mW[0m
[0;32mI (30068) energy: Duration of deep sleep: 198s[0m
[0;32mI (30068) energy: Mean load power: 172.0 mW  duration duty cycle: 6s[0m
[0;32mI (30078) energy: panel energy in deep sleep: 83160.0mWs[0m
[0;32mI (30088) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30088) energy: battery energy in deep sleep: 82724.4mWs[0m
New measureTemp event with ID: 1044
New getNextDutyFreqE event with ID: 1045
[0;32mI (31168) energy: Force deep sleep 200
[0m
[0;32mI (32268) functions: MeasureTempFunction started[0m
New temp event with ID: 1046
[0;32mI (32288) functions: MeasureTempFunction terminated[0m
[0;32mI (32368) functions: CalcDutyFreqFunction started[0m
[0;32mI (32368) CalcDutyFreqFunction: Start battery level: 62.675781[0m
[0;32mI (32368) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (32378) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (32378) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (32388) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (32388) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (32398) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403485
Timestamp of last solar prediction: 403485
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
slope: 2.535156
[0;32mI (32468) CalcDutyFreqFunction: Battery slope: 2.5[0m
[0;32mI (32478) CalcDutyFreqFunction: Day0 battery checkpoint: 62.675781[0m
[0;32mI (32478) CalcDutyFreqFunction: Day1 battery checkpoint: 60.140625[0m
[0;32mI (32488) CalcDutyFreqFunction: Day2 battery checkpoint: 57.605469[0m
[0;32mI (32498) CalcDutyFreqFunction: Day3 battery checkpoint: 55.070312[0m
[0;32mI (32498) CalcDutyFreqFunction: Day4 battery checkpoint: 52.535156[0m
[0;32mI (32508) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.179070%  checkpoint: 52.535156%   energy consumed from battery: 0.529015% [0m
[0;32mI (32518) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.179070%).[0m
[0;32mI (32528) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.256889%  checkpoint: 52.535156%   energy consumed from battery: 0.558195% [0m
[0;32mI (32548) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.256889%).[0m
[0;32mI (32478) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (32548) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.373268%  checkpoint: 52.535156%   energy consumed from battery: 0.601857% [0m
[0;32mI (32568) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.373268%).[0m
[0;32mI (32578) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.566608%  checkpoint: 52.535156%   energy consumed from battery: 0.674338% [0m
[0;32mI (32598) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.566608%).[0m
[0;32mI (32598) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.950310%  checkpoint: 52.535156%   energy consumed from battery: 0.818228% [0m
[0;32mI (32618) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.950310%).[0m
[0;32mI (32628) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 43.079063%  checkpoint: 52.535156%   energy consumed from battery: 1.241519% [0m
[0;32mI (32638) CalcDutyFreqFunction: Pushed stack element (4, 200s, 43.079063%).[0m
[0;32mI (32648) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.489799%  checkpoint: 55.070312%   energy consumed from battery: 1.410707% [0m
[0;32mI (32668) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.489799%).[0m
[0;32mI (32668) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.567619%  checkpoint: 55.070312%   energy consumed from battery: 1.488520% [0m
[0;32mI (32688) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.567619%).[0m
[0;32mI (32688) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.683983%  checkpoint: 55.070312%   energy consumed from battery: 1.604951% [0m
[0;32mI (32708) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.683983%).[0m
[0;32mI (32718) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.877342%  checkpoint: 55.070312%   energy consumed from battery: 1.798234% [0m
[0;32mI (32728) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.877342%).[0m
[0;32mI (32738) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.261040%  checkpoint: 55.070312%   energy consumed from battery: 2.181942% [0m
[0;32mI (32748) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.261040%).[0m
[0;32mI (32758) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.389793%  checkpoint: 55.070312%   energy consumed from battery: 3.310717% [0m
[0;32mI (32778) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.389793%).[0m
[0;32mI (32778) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.615196%  checkpoint: 57.605469%   energy consumed from battery: 0.529015% [0m
[0;32mI (32798) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.615196%).[0m
[0;32mI (32808) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.693016%  checkpoint: 57.605469%   energy consumed from battery: 0.558195% [0m
[0;32mI (32818) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.693016%).[0m
[0;32mI (32828) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.809395%  checkpoint: 57.605469%   energy consumed from battery: 0.601857% [0m
[0;32mI (32838) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.809395%).[0m
[0;32mI (32848) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 35.002739%  checkpoint: 57.605469%   energy consumed from battery: 0.674338% [0m
[0;32mI (32858) CalcDutyFreqFunction: Pushed stack element (2, 600s, 35.002739%).[0m
[0;32mI (32868) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 35.386436%  checkpoint: 57.605469%   energy consumed from battery: 0.818228% [0m
[0;32mI (32888) CalcDutyFreqFunction: Pushed stack element (2, 400s, 35.386436%).[0m
[0;32mI (32888) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 36.515194%  checkpoint: 57.605469%   energy consumed from battery: 1.241519% [0m
[0;32mI (32908) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.515194%).[0m
[0;32mI (32918) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.529015%  checkpoint: 60.140625%   energy consumed from battery: 0.529015% [0m
[0;32mI (32928) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.529015%).[0m
[0;32mI (32938) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.558195%  checkpoint: 60.140625%   energy consumed from battery: 0.558195% [0m
[0;32mI (32948) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.558195%).[0m
[0;32mI (32958) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.601857%  checkpoint: 60.140625%   energy consumed from battery: 0.601857% [0m
[0;32mI (32978) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.601857%).[0m
[0;32mI (32978) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.674338%  checkpoint: 60.140625%   energy consumed from battery: 0.674338% [0m
[0;32mI (32998) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.674338%).[0m
[0;32mI (33008) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.818228%  checkpoint: 60.140625%   energy consumed from battery: 0.818228% [0m
[0;32mI (33018) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.818228%).[0m
[0;32mI (33028) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.241519%  checkpoint: 60.140625%   energy consumed from battery: 1.241519% [0m
[0;32mI (33038) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.241519%).[0m
[0;32mI (33048) CalcDutyFreqFunction: Day0 sleep time: 1200s  re
[0;32mI (33228) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (33598) functions: SendToMqttFunction started[0m
[0;32mI (33598) energy: Energy status for hourly reporting retrieved: (1732957303530453, 28462626.0, 101442080.0, 49580916.0)[0m
[0;32mI (33598) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732958941258,"temp":22.8}]}]}> to topic 4/230/data[0m
[0;32mI (33628) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732958941258,"loadPower":470.6,"loadEnergy":7919.0,"batteryPower":-159.3,"batteryEnergy":13926.5,"batteryRSOC":56.0,"panelPower":358.5,"panelEnergy":28348.8}]}]}> to topic 4/230/data[0m
[0;32mI (33648) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732958941258,"voltage":3.8,"rsoc":62.7,"rate":-2.9}]}]}> to topic 4/230/data[0m
hour: 10  lastHour:10
[0;32mI (33658) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732958941258,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (33678) functions: SendToMqttFunction terminated[0m
[0;32mI (33698) functions: SetSleepTimeFunction started[0m
[0;32mI (33698) energy: Set sleepTime_s to 200[0m
[0;32mI (33698) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35238) mqtt: MQTT resourceSleep[0m
[0;32mI (35238) energy: Energy manager terminates.[0m
[0;32mI (35238) energy: Energy manager terminated.[0m
[0;32mI (35238) energy: Mean panel power: 390.4 mW  duration duty cycle: 5s[0m
[0;32mI (35248) energy: Mean load power: 185.6 mW  duration duty cycle: 5s[0m
[0;32mI (35258) energy: Load energy: 28508638.0 mWs (diff: 928.0mWs)[0m
[0;32mI (35258) energy: Battery energy: 50135632.0 mWs (diff: 476.0mWs)[0m
[0;32mI (35268) energy: Panel energy: 102056216.0 mWs (diff: 1952.0mWs)[0m
[0;32mI (35288) energy: Energy Manager saved state: (390.4, 1732958944197667, 185.6, 5, 1732958942182945, 0)[0m
[0;32mI (35298) energy: Energy saved: (28508646.0, 102056232.0, 50135640.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37228h (225832) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047250 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047260 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2e0 vaddr=40080000 size=04d38h ( 19768) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c02c0h (787136) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001102e8 vaddr=40084d38 size=14efch ( 85756) load[0m
[0;32mI (510) esp_image: segment 6: paddr=001251ec vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125258 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  b0a3a2e82...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D18 len 000272E8 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;31mE (3798) i2cdev: Could not write to device [0x0b at 0]: -1 (ESP_FAIL)[0m
Error in setting power mode
[0;32mI (4818) energy: Energy retrieved: (28508646.0, 102056232.0, 50135640.0)[0m
wakeup clock
[0;32mI (24818) sntp: The current date/time in Germany is: Sat Nov 30 10:32:46 2024[0m
[0;32mI (24818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (25538) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (26228) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (26938) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (27638) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28328) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28998) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29698) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30378) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (31068) energy: Energy Manager state retrieved: (390.4, 1732958944197667, 185.6, 5, 1732958942182945, 0)[0m
[0;32mI (31078) energy: Last mean panel power: 390.4mW[0m
[0;32mI (31078) energy: Duration of deep sleep: 198s[0m
[0;32mI (31078) energy: Mean load power: 185.6 mW  duration duty cycle: 5s[0m
[0;32mI (31088) energy: panel energy in deep sleep: 77299.2mWs[0m
[0;32mI (31098) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (31098) energy: battery energy in deep sleep: 76863.6mWs[0m
New measureTemp event with ID: 1048
New getNextDutyFreqE event with ID: 1049
[0;32mI (32188) energy: Force deep sleep 200
[0m
[0;32mI (33288) functions: MeasureTempFunction started[0m
New temp event with ID: 1050
[0;32mI (33308) functions: MeasureTempFunction terminated[0m
[0;32mI (33388) functions: CalcDutyFreqFunction started[0m
[0;32mI (33388) CalcDutyFreqFunction: Start battery level: 63.687500[0m
[0;32mI (33388) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33398) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33398) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33408) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33418) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
slope: 2.737500
[0;32mI (33488) CalcDutyFreqFunction: Battery slope: 2.7[0m
[0;32mI (33498) CalcDutyFreqFunction: Day0 battery checkpoint: 63.687500[0m
[0;32mI (33498) CalcDutyFreqFunction: Day1 battery checkpoint: 60.950001[0m
[0;32mI (33508) CalcDutyFreqFunction: Day2 battery checkpoint: 58.212502[0m
[0;32mI (33518) CalcDutyFreqFunction: Day3 battery checkpoint: 55.474998[0m
[0;32mI (33518) CalcDutyFreqFunction: Day4 battery checkpoint: 52.737499[0m
[0;32mI (33528) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.140251%  checkpoint: 52.737499%   energy consumed from battery: 0.514459% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.140251%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.210388%  checkpoint: 52.737499%   energy consumed from battery: 0.540771% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.210388%).[0m
[0;32mI (33488) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33568) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.315407%  checkpoint: 52.737499%   energy consumed from battery: 0.580158% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.315407%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.489899%  checkpoint: 52.737499%   energy consumed from battery: 0.645585% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.489899%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.836700%  checkpoint: 52.737499%   energy consumed from battery: 0.775633% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.836700%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.860161%  checkpoint: 52.737499%   energy consumed from battery: 1.159431% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.860161%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.232079%  checkpoint: 55.474998%   energy consumed from battery: 1.371890% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.232079%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.302208%  checkpoint: 55.474998%   energy consumed from battery: 1.442056% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.302208%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.407219%  checkpoint: 55.474998%   energy consumed from battery: 1.547087% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.407219%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.581718%  checkpoint: 55.474998%   energy consumed from battery: 1.721561% [0m
[0;32mI (33748) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.581718%).[0m
[0;32mI (33758) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.928520%  checkpoint: 55.474998%   energy consumed from battery: 2.068354% [0m
[0;32mI (33768) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.928520%).[0m
[0;32mI (33778) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.951988%  checkpoint: 55.474998%   energy consumed from battery: 3.091817% [0m
[0;32mI (33798) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.951988%).[0m
[0;32mI (33798) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.138573%  checkpoint: 58.212502%   energy consumed from battery: 0.514459% [0m
[0;32mI (33818) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.138573%).[0m
[0;32mI (33828) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.208706%  checkpoint: 58.212502%   energy consumed from battery: 0.540771% [0m
[0;32mI (33838) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.208706%).[0m
[0;32mI (33848) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.313725%  checkpoint: 58.212502%   energy consumed from battery: 0.580158% [0m
[0;32mI (33858) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.313725%).[0m
[0;32mI (33868) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.488216%  checkpoint: 58.212502%   energy consumed from battery: 0.645585% [0m
[0;32mI (33878) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.488216%).[0m
[0;32mI (33888) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.835018%  checkpoint: 58.212502%   energy consumed from battery: 0.775633% [0m
[0;32mI (33908) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.835018%).[0m
[0;32mI (33908) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.858486%  checkpoint: 58.212502%   energy consumed from battery: 1.159431% [0m
[0;32mI (33928) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.858486%).[0m
[0;32mI (33938) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.514459%  checkpoint: 60.950001%   energy consumed from battery: 0.514459% [0m
[0;32mI (33948) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.514459%).[0m
[0;32mI (33958) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.540771%  checkpoint: 60.950001%   energy consumed from battery: 0.540771% [0m
[0;32mI (33968) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.540771%).[0m
[0;32mI (33978) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.580158%  checkpoint: 60.950001%   energy consumed from battery: 0.580158% [0m
[0;32mI (33998) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.580158%).[0m
[0;32mI (33998) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.645585%  checkpoint: 60.950001%   energy consumed from battery: 0.645585% [0m
[0;32mI (34018) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.645585%).[0m
[0;32mI (34028) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.775633%  checkpoint: 60.950001%   energy consumed from battery: 0.775633% [0m
[0;32mI (34038) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.775633%).[0m
[0;32mI (34048) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.159431%  checkpoint: 60.950001%   energy consumed from battery: 1.159431% [0m
[0;32mI (34058) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.159431%).[0m
[0;32mI (34068) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.514459%  checkpoint: 63.687500%   energy consumed from battery: 0.514459% [0m
[0;32mI (34078) conds[0m
[0;32mI (34248) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34598) functions: SendToMqttFunction started[0m
[0;32mI (34598) energy: Energy status for hourly reporting retrieved: (1732957303530453, 28462626.0, 101442080.0, 49580916.0)[0m
[0;32mI (34598) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732959174976,"temp":23.2}]}]}> to topic 4/230/data[0m
[0;32mI (34628) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732959174976,"loadPower":546.8,"loadEnergy":7920.8,"batteryPower":-12.5,"batteryEnergy":13950.1,"batteryRSOC":99.0,"panelPower":546.6,"panelEnergy":28373.8}]}]}> to topic 4/230/data[0m
[0;32mI (34648) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732959174976,"voltage":3.9,"rsoc":63.7,"rate":-2.7}]}]}> to topic 4/230/data[0m
hour: 10  lastHour:10
[0;32mI (34658) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732959174976,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34678) functions: SendToMqttFunction terminated[0m
[0;32mI (34698) functions: SetSleepTimeFunction started[0m
[0;32mI (34698) energy: Set sleepTime_s to 200[0m
[0;32mI (34698) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36258) mqtt: MQTT resourceSleep[0m
[0;32mI (36258) energy: Energy manager terminates.[0m
[0;32mI (36258) energy: Energy manager terminated.[0m
[0;32mI (36258) energy: Mean panel power: 441.6 mW  duration duty cycle: 5s[0m
[0;32mI (36268) energy: Mean load power: 245.6 mW  duration duty cycle: 5s[0m
[0;32mI (36268) energy: Load energy: 28515398.0 mWs (diff: 1228.0mWs)[0m
[0;32mI (36278) energy: Battery energy: 50220648.0 mWs (diff: 1120.0mWs)[0m
[0;32mI (36288) energy: Panel energy: 102146216.0 mWs (diff: 2208.0mWs)[0m
[0;32mI (36298) energy: Energy Manager saved state: (441.6, 1732959177913394, 245.6, 5, 1732959175900988, 0)[0m
[0;32mI (36328) energy: Energy saved: (28515414.0, 102146240.0, 50220660.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x3 (DOWNLOAD_BOOT(UART0/UART1/SDIO_REI_REO_V2))
waiting for download
BBRBBRBBBJBBBCRBBRBBRBBRBBRBBRBBRBBBBBBBBRBBRBBRBBBFBBBBBBBBCBBBBBBBBBBCBBBBBBBBBBCBBBBFBBFBBBBBBBBCBBBbBBrBBrBrBzBFBBBBBBBBCBBBbBBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBBrBrB%BFBBBBBBBBCBBBbBBrBBBrBrBbCBBBbBBets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) load[0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (196) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (206) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) load[0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) load[0m
[0;32mI (529) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (529) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (550) cpu_start: Pro cpu start user code[0m
[0;32mI (550) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (550) app_init: Application information:[0m
[0;32mI (553) app_init: Project name:     sif_dht[0m
[0;32mI (558) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (563) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (569) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (581) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (586) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (591) efuse_init: Chip rev:         v3.0[0m
[0;32mI (596) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (603) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (609) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (615) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (622) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (628) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (636) spi_flash: detected chip: generic[0m
[0;32mI (639) spi_flash: flash io: dio[0m
[0;33mW (643) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (669) main_task: Started on CPU0[0m
[0;32mI (679) main_task: Calling app_main()[0m
Wakeup was not caused by deep sleep: 0
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) load[0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (196) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (206) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) load[0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) load[0m
[0;32mI (529) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (529) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (550) cpu_start: Pro cpu start user code[0m
[0;32mI (550) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (550) app_init: Application information:[0m
[0;32mI (553) app_init: Project name:     sif_dht[0m
[0;32mI (558) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (563) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (569) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (581) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (586) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (591) efuse_init: Chip rev:         v3.0[0m
[0;32mI (596) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (603) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (609) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (615) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (622) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (628) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (636) spi_flash: detected chip: generic[0m
[0;32mI (639) spi_flash: flash io: dio[0m
[0;33mW (643) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (669) main_task: Started on CPU0[0m
[0;32mI (679) main_task: Calling app_main()[0m
Wakeup was not caused by deep sleep: 0
[0;32mI (3899) energy: Energy retrieved: (28515414.0, 102146240.0, 50220660.0)[0m
wakeup clock
[0;32mI (23899) sntp: The current date/time in Germany is: Sat Nov 30 10:36:36 2024[0m
[0;32mI (23899) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24599) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25279) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25959) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26639) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27329) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28019) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28719) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29419) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30119) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30829) energy: Energy Manager state retrieved: (441.6, 1732959177913394, 245.6, 5, 1732959175900988, 0)[0m
[0;32mI (30829) energy: Last mean panel power: 441.6mW[0m
[0;32mI (30829) energy: Duration of deep sleep: 195s[0m
[0;32mI (30839) energy: Mean load power: 245.6 mW  duration duty cycle: 5s[0m
[0;32mI (30849) energy: panel energy in deep sleep: 86112.0mWs[0m
[0;32mI (30849) energy: load energy in deep sleep: 429.0mWs[0m
[0;32mI (30859) energy: battery energy in deep sleep: 85683.0mWs[0m
New measureTemp event with ID: 0
New getNextDutyFreqE event with ID: 1
[0;32mI (31939) energy: Force deep sleep 300
[0m
[0;32mI (33029) functions: MeasureTempFunction started[0m
New temp event with ID: 2
[0;32mI (33049) functions: MeasureTempFunction terminated[0m
[0;32mI (33129) functions: CalcDutyFreqFunction started[0m
[0;32mI (33129) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33129) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33139) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33139) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33149) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33149) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33159) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33229) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: -6.000000
[0;32mI (33239) CalcDutyFreqFunction: Battery slope: -6.0[0m
[0;32mI (33239) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33249) CalcDutyFreqFunction: Day1 battery checkpoint: 26.000000[0m
[0;32mI (33259) CalcDutyFreqFunction: Day2 battery checkpoint: 32.000000[0m
[0;32mI (33259) CalcDutyFreqFunction: Day3 battery checkpoint: 38.000000[0m
[0;32mI (33269) CalcDutyFreqFunction: Day4 battery checkpoint: 44.000000[0m
[0;32mI (33279) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.255608%  checkpoint: 44.000000%   energy consumed from battery: 0.557715% [0m
[0;32mI (33289) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.255608%).[0m
[0;32mI (33299) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.348717%  checkpoint: 44.000000%   energy consumed from battery: 0.592635% [0m
[0;32mI (33309) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.348717%).[0m
[0;32mI (33319) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.488075%  checkpoint: 44.000000%   energy consumed from battery: 0.644908% [0m
[0;32mI (33339) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.488075%).[0m
[0;32mI (33339) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.719616%  checkpoint: 44.000000%   energy consumed from battery: 0.731740% [0m
[0;32mI (33359) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.719616%).[0m
[0;32mI (33369) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 42.179924%  checkpoint: 44.000000%   energy consumed from battery: 0.904333% [0m
[0;32mI (33379) CalcDutyFreqFunction: Pushed stack element (4, 400s, 42.179924%).[0m
[0;32mI (33389) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 43.538200%  checkpoint: 44.000000%   energy consumed from battery: 1.413693% [0m
[0;32mI (33399) CalcDutyFreqFunction: Pushed stack element (4, 200s, 43.538200%).[0m
[0;32mI (33409) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 45.025475%  checkpoint: 38.000000%   energy consumed from battery: 1.487239% [0m
[0;32mI (33419) CalcDutyFreqFunction: Popped stack element (4, 200s, 43.538200%). Restarting day 3[0m
[0;32mI (33429) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 45.025475%  checkpoint: 38.000000%   energy consumed from battery: 1.487239% [0m
[0;32mI (33449) CalcDutyFreqFunction: Popped stack element (4, 400s, 42.179924%). Restarting day 3[0m
[0;32mI (33459) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 43.667198%  checkpoint: 38.000000%   energy consumed from battery: 1.487239% [0m
[0;32mI (33469) CalcDutyFreqFunction: Popped stack element (4, 600s, 41.719616%). Restarting day 3[0m
[0;32mI (33479) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 43.206890%  checkpoint: 38.000000%   energy consumed from battery: 1.487239% [0m
[0;32mI (33499) CalcDutyFreqFunction: Popped stack element (4, 800s, 41.488075%). Restarting day 3[0m
[0;32mI (33509) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 42.975349%  checkpoint: 38.000000%   energy consumed from battery: 1.487239% [0m
[0;32mI (33519) CalcDutyFreqFunction: Popped stack element (4, 1000s, 41.348717%). Restarting day 3[0m
[0;32mI (33529) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 42.835991%  checkpoint: 38.000000%   energy consumed from battery: 1.487239% [0m
[0;32mI (33539) CalcDutyFreqFunction: Popped stack element (4, 1200s, 41.255608%). Restarting day 3[0m
[0;32mI (33549) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 42.742882%  checkpoint: 38.000000%   energy consumed from battery: 1.487239% [0m
[0;32mI (33569) CalcDutyFreqFunction: Day0: sleep time: 1200s  checkpoint: 20.000000%[0m
[0;32mI (33579) CalcDutyFreqFunction: Day1: sleep time: 1200s  checkpoint: 26.000000%[0m
[0;32mI (33579) CalcDutyFreqFunction: Day2: sleep time: 1200s  checkpoint: 32.000000%[0m
[0;32mI (33589) CalcDutyFreqFunction: Day3: sleep time: 1200s  checkpoint: 38.000000%[0m
[0;32mI (33599) CalcDutyFreqFunction: Day4: sleep time: 1200s  checkpoint: 43.538200%[0m
[0;31mE (33609) CalcDutyFreqFunction: No settings can guarantee target[0m
New adjustDutyFreqE event with ID: 3
[0;32mI (33619) energy: Create AdjustDutyFreqEvent with 1200 seconds[0m
[0;32mI (34329) functions: SendToMqttFunction started[0m
[0;32mI (34329) energy: Energy status for hourly reporting retrieved: (1732957303530453, 28462626.0, 101442080.0, 49580916.0)[0m
[0;32mI (34329) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732959405800,"temp":23.4}]}]}> to topic 4/230/data[0m
[0;32mI (34359) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732959405800,"loadPower":165.9,"loadEnergy":7922.3,"batteryPower":152.7,"batteryEnergy":13976.8,"batteryRSOC":99.0,"panelPower":541.0,"panelEnergy":28401.3}]}]}> to topic 4/230/data[0m
[0;32mI (34379) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732959405800,"voltage":3.9,"rsoc":67.0,"rate":-4.0}]}]}> to topic 4/230/data[0m
hour: 10  lastHour:10
[0;32mI (34389) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732959405800,"period":300}]}]}> to topic 4/230/data[0m
[0;32mI (34409) functions: SendToMqttFunction terminated[0m
[0;32mI (34429) functions: SetSleepTimeFunction started[0m
[0;32mI (34429) energy: Set sleepTime_s to 1200[0m
[0;32mI (34429) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35939) mqtt: MQTT resourceSleep[0m
[0;32mI (35939) energy: Energy manager terminates.[0m
[0;32mI (35939) energy: Energy manager terminated.[0m
[0;32mI (35939) energy: Mean panel power: 419.2 mW  duration duty cycle: 5s[0m
[0;32mI (35949) energy: Mean load power: 139.6 mW  duration duty cycle: 5s[0m
[0;32mI (35949) energy: Load energy: 28520362.0 mWs (diff: 698.0mWs)[0m
[0;32mI (35959) energy: Battery energy: 50317040.0 mWs (diff: 1724.0mWs)[0m
[0;32mI (35969) energy: Panel energy: 102245248.0 mWs (diff: 2096.0mWs)[0m
[0;32mI (35999) energy: Energy Manager saved state: (419.2, 1732959408683373, 139.6, 5, 1732959406359200, 0)[0m
[0;32mI (36009) energy: Energy saved: (28520374.0, 102245272.0, 50317064.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28520374.0, 102245272.0, 50317064.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 10:42:08 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25188) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25898) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26588) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27278) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27968) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28658) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29358) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30038) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30728) energy: Energy Manager state retrieved: (419.2, 1732959408683373, 139.6, 5, 1732959406359200, 0)[0m
[0;32mI (30738) energy: Last mean panel power: 419.2mW[0m
[0;32mI (30738) energy: Duration of deep sleep: 296s[0m
[0;32mI (30738) energy: Mean load power: 139.6 mW  duration duty cycle: 5s[0m
[0;32mI (30748) energy: panel energy in deep sleep: 124083.2mWs[0m
[0;32mI (30758) energy: load energy in deep sleep: 651.2mWs[0m
[0;32mI (30758) energy: battery energy in deep sleep: 123432.0mWs[0m
New measureTemp event with ID: 4
New getNextDutyFreqE event with ID: 5
[0;32mI (31838) energy: Force deep sleep 1200
[0m
[0;32mI (32938) functions: MeasureTempFunction started[0m
New temp event with ID: 6
[0;32mI (32958) functions: MeasureTempFunction terminated[0m
[0;32mI (33038) functions: CalcDutyFreqFunction started[0m
[0;32mI (33038) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33038) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33048) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33048) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33138) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (33148) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33148) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33158) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33168) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33168) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33178) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33188) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.051811%  checkpoint: 50.000000%   energy consumed from battery: 0.481296% [0m
[0;32mI (33198) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.051811%).[0m
[0;32mI (33208) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.104366%  checkpoint: 50.000000%   energy consumed from battery: 0.501008% [0m
[0;32mI (33218) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.104366%).[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.183025%  checkpoint: 50.000000%   energy consumed from battery: 0.530516% [0m
[0;32mI (33248) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.183025%).[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.313755%  checkpoint: 50.000000%   energy consumed from battery: 0.579534% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.313755%).[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.573578%  checkpoint: 50.000000%   energy consumed from battery: 0.676963% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.573578%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.340332%  checkpoint: 50.000000%   energy consumed from battery: 0.964498% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.340332%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 43.623810%  checkpoint: 50.000000%   energy consumed from battery: 1.283456% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 43.623810%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 43.676361%  checkpoint: 50.000000%   energy consumed from battery: 1.336023% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 43.676361%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 43.755005%  checkpoint: 50.000000%   energy consumed from battery: 1.414710% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (3, 800s, 43.755005%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 43.885742%  checkpoint: 50.000000%   energy consumed from battery: 1.545423% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (3, 600s, 43.885742%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.145569%  checkpoint: 50.000000%   energy consumed from battery: 1.805234% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.145569%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 44.912323%  checkpoint: 50.000000%   energy consumed from battery: 2.571993% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 200s, 44.912323%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 33.010468%  checkpoint: 50.000000%   energy consumed from battery: 0.481296% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 33.010468%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 33.063023%  checkpoint: 50.000000%   energy consumed from battery: 0.501008% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 33.063023%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 33.141678%  checkpoint: 50.000000%   energy consumed from battery: 0.530516% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (2, 800s, 33.141678%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 33.272404%  checkpoint: 50.000000%   energy consumed from battery: 0.579534% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (2, 600s, 33.272404%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 33.532230%  checkpoint: 50.000000%   energy consumed from battery: 0.676963% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 400s, 33.532230%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 34.298985%  checkpoint: 50.000000%   energy consumed from battery: 0.964498% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 200s, 34.298985%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.481296%  checkpoint: 50.000000%   energy consumed from battery: 0.481296% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.481296%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.501008%  checkpoint: 50.000000%   energy consumed from battery: 0.501008% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.501008%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.530516%  checkpoint: 50.000000%   energy consumed from battery: 0.530516% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.530516%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.579534%  checkpoint: 50.000000%   energy consumed from battery: 0.579534% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.579534%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.676963%  checkpoint: 50.000000%   energy consumed from battery: 0.676963% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.676963%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 0.964498%  checkpoint: 50.000000%   energy consumed from battery: 0.964498% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 200s, 0.964498%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.481296%  checkpoint: 50.000000%   energy consumed from battery: 0.481296% [0m
[0;32mI (33728) ds[0m
[0;32mI (33898) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34138) functions: SendToMqttFunction started[0m
[0;32mI (34138) energy: Energy status for hourly reporting retrieved: (1732957303530453, 28462626.0, 101442080.0, 49580916.0)[0m
[0;32mI (34138) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732959737437,"temp":23.6}]}]}> to topic 4/230/data[0m
[0;32mI (34168) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732959737437,"loadPower":513.6,"loadEnergy":7924.1,"batteryPower":223.1,"batteryEnergy":14013.6,"batteryRSOC":99.0,"panelPower":70.3,"panelEnergy":28439.2}]}]}> to topic 4/230/data[0m
[0;32mI (34188) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732959737437,"voltage":4.1,"rsoc":73.7,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 10  lastHour:10
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732959737437,"period":1200}]}]}> to topic 4/230/data[0m
[0;32mI (34208) functions: SendToMqttFunction terminated[0m
[0;32mI (34338) functions: SetSleepTimeFunction started[0m
[0;32mI (34338) energy: Set sleepTime_s to 200[0m
[0;32mI (34338) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35838) mqtt: MQTT resourceSleep[0m
[0;32mI (35838) energy: Energy manager terminates.[0m
[0;32mI (35838) energy: Energy manager terminated.[0m
[0;32mI (35838) energy: Mean panel power: 374.4 mW  duration duty cycle: 5s[0m
[0;32mI (35848) energy: Mean load power: 180.8 mW  duration duty cycle: 5s[0m
[0;32mI (35858) energy: Load energy: 28526934.0 mWs (diff: 904.0mWs)[0m
[0;32mI (35858) energy: Battery energy: 50449324.0 mWs (diff: 1236.0mWs)[0m
[0;32mI (35868) energy: Panel energy: 102381936.0 mWs (diff: 1872.0mWs)[0m
[0;32mI (35888) energy: Energy Manager saved state: (374.4, 1732959740308785, 180.8, 5, 1732959738364249, 0)[0m
[0;32mI (35898) energy: Energy saved: (28526946.0, 102381960.0, 50449336.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28526946.0, 102381960.0, 50449336.0)[0m
wakeup clock
[0;32mI (23828) sntp: The current date/time in Germany is: Sat Nov 30 11:02:28 2024[0m
[0;32mI (23828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24548) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25228) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25908) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26598) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27288) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27968) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28668) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29378) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30068) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30758) energy: Energy Manager state retrieved: (374.4, 1732959740308785, 180.8, 5, 1732959738364249, 0)[0m
[0;32mI (30758) energy: Last mean panel power: 374.4mW[0m
[0;32mI (30758) energy: Duration of deep sleep: 1185s[0m
[0;32mI (30768) energy: Mean load power: 180.8 mW  duration duty cycle: 5s[0m
[0;32mI (30778) energy: panel energy in deep sleep: 443664.0mWs[0m
[0;32mI (30778) energy: load energy in deep sleep: 2607.0mWs[0m
[0;32mI (30788) energy: battery energy in deep sleep: 441057.0mWs[0m
New measureTemp event with ID: 8
New getNextDutyFreqE event with ID: 9
[0;32mI (31868) energy: Force deep sleep 200
[0m
[0;32mI (32968) functions: MeasureTempFunction started[0m
New temp event with ID: 10
[0;32mI (32988) functions: MeasureTempFunction terminated[0m
[0;32mI (33168) functions: CalcDutyFreqFunction started[0m
[0;32mI (33168) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33168) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33168) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33168) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33188) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33188) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33198) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33198) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
slope: 0.000000
[0;32mI (33268) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33278) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33288) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33288) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33298) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.131012%  checkpoint: 50.000000%   energy consumed from battery: 0.510998% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.131012%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.199314%  checkpoint: 50.000000%   energy consumed from battery: 0.536622% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.199314%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.301586%  checkpoint: 50.000000%   energy consumed from battery: 0.574978% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.301586%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.471504%  checkpoint: 50.000000%   energy consumed from battery: 0.638693% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.471504%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.809235%  checkpoint: 50.000000%   energy consumed from battery: 0.765337% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.809235%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.805889%  checkpoint: 50.000000%   energy consumed from battery: 1.139090% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.805889%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.168560%  checkpoint: 50.000000%   energy consumed from battery: 1.362662% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.168560%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.236858%  checkpoint: 50.000000%   energy consumed from battery: 1.430992% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.236858%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.339123%  checkpoint: 50.000000%   energy consumed from battery: 1.533275% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.339123%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.509045%  checkpoint: 50.000000%   energy consumed from battery: 1.703181% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.509045%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.846783%  checkpoint: 50.000000%   energy consumed from battery: 2.040898% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.846783%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.843426%  checkpoint: 50.000000%   energy consumed from battery: 3.037574% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.843426%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.020767%  checkpoint: 50.000000%   energy consumed from battery: 0.510998% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.020767%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.089069%  checkpoint: 50.000000%   energy consumed from battery: 0.536622% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.089069%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.191341%  checkpoint: 50.000000%   energy consumed from battery: 0.574978% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.191341%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.361252%  checkpoint: 50.000000%   energy consumed from battery: 0.638693% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.361252%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.698990%  checkpoint: 50.000000%   energy consumed from battery: 0.765337% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.698990%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.695644%  checkpoint: 50.000000%   energy consumed from battery: 1.139090% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.695644%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.510998%  checkpoint: 50.000000%   energy consumed from battery: 0.510998% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.510998%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.536622%  checkpoint: 50.000000%   energy consumedry: 0.765337% [0m
[0;32mI (33818) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.765337%).[0m
[0;32mI (33828) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.139090%  checkpoint: 50.000000%   energy consumed from battery: 1.139090% [0m
[0;32mI (33838) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.139090%).[0m
[0;32mI (33848) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.510998%  checkpoint: 50.000000%   energy consumed from battery: 0.510998% [0m
[0;32mI (33858) CalcDutyFreqFunction: Pushed stack element (0, 1200s, 0.510998%).[0m
[0;32mI (33868) CalcDutyFreqFunction: Day0 sleep time: 1000s  required battery level 0.536622%  checkpoint: 50.000000%   energy consumed from battery: 0.536622% [0m
[0;32mI (33878) CalcDutyFreqFunction: Pushed stack element (0, 1000s, 0.536622%).[0m
[0;32mI (33888) CalcDutyFreqFunction: Day0 sleep time: 800s  required battery level 0.574978%  checkpoint: 50.000000%   energy consumed from battery: 0.574978% [0m
[0;32mI (33908) CalcDutyFreqFunction: Pushed stack element (0, 800s, 0.574978%).[0m
[0;32mI (33908) CalcDutyFreqFunction: Day0 sleep time: 600s  required battery level 0.638693%  checkpoint: 50.000000%   energy consumed from battery: 0.638693% [0m
[0;32mI (33928) CalcDutyFreqFunction: Pushed stack element (0, 600s, 0.638693%).[0m
[0;32mI (33938) CalcDutyFreqFunction: Day0 sleep time: 400s  required battery level 0.765337%  checkpoint: 50.000000%   energy consumed from battery: 0.765337% [0m
[0;32mI (33948) CalcDutyFreqFunction: Pushed stack element (0, 400s, 0.765337%).[0m
[0;32mI (33958) CalcDutyFreqFunction: Day0 sleep time: 200s  required battery level 1.139090%  checkpoint: 50.000000%   energy consumed from battery: 1.139090% [0m
[0;32mI (33968) CalcDutyFreqFunction: Pushed stack element (0, 200s, 1.139090%).[0m
[0;32mI (33978) energy: Day0: sleep time: 200s  Battery level required at start: 1.139090%[0m
[0;32mI (33988) energy: Day1: sleep time: 200s  Battery28) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (34028) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34268) functions: SendToMqttFunction started[0m
[0;32mI (34268) energy: Energy status for hourly reporting retrieved: (1732957303530453, 28462626.0, 101442080.0, 49580916.0)[0m
[0;32mI (34268) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732960958101,"temp":24.0}]}]}> to topic 4/230/data[0m
[0;32mI (34298) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732960958101,"loadPower":513.6,"loadEnergy":7926.4,"batteryPower":9.5,"batteryEnergy":14138.8,"batteryRSOC":99.0,"panelPower":582.6,"panelEnergy":28566.1}]}]}> to topic 4/230/data[0m
[0;32mI (34318) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732960958101,"voltage":4.0,"rsoc":50.8,"rate":0.0}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:10
[0;32mI (34328) mqtt: Sent <{"sensors":[{"name":"energyHourly","values":[{"timestamp":1732960958101,"energyLoad":20.2,"energyPanel":387.8,"energyBattery":366.3}]}]}> to topic 4/230/data[0m
[0;32mI (34358) energy: Energy stats saved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34368) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732960958101,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34368) functions: SetSleepTimeFunction started[0m
[0;32mI (34378) functions: SendToMqttFunction terminated[0m
[0;32mI (34378) energy: Set sleepTime_s to 200[0m
[0;32mI (34388) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35868) mqtt: MQTT resourceSleep[0m
[0;32mI (35868) energy: Energy manager terminates.[0m
[0;32mI (35868) energy: Energy manager terminated.[0m
[0;32mI (35868) energy: Mean panel power: 419.2 mW  duration duty cycle: 5s[0m
[0;32mI (35878) energy: Mean load power: 186.0 mW  duration duty cycle: 5s[0m
[0;32mI (35878) energy: Load energy: 28535492.0 mWs (diff: 930.0mWs)[0m
[0;32mI (35888) energy: Battery energy: 50900228.0 mWs (diff: 1652.0mWs)[0m
[0;32mI (35898) energy: Panel energy: 102838656.0 mWs (diff: 2096.0mWs)[0m
[0;32mI (35958) energy: Energy Manager saved state: (419.2, 1732960960971194, 186.0, 5, 1732960959125917, 0)[0m
[0;32mI (35978) energy: Energy saved: (28535516.0, 102838704.0, 50900256.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3828) energy: Energy retrieved: (28535516.0, 102838704.0, 50900256.0)[0m
wakeup clock
[0;32mI (23828) sntp: The current date/time in Germany is: Sat Nov 30 11:06:22 2024[0m
[0;32mI (23828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24538) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25238) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25938) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26618) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27308) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28018) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28708) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29398) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30098) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30798) energy: Energy Manager state retrieved: (419.2, 1732960960971194, 186.0, 5, 1732960959125917, 0)[0m
[0;32mI (30798) energy: Last mean panel power: 419.2mW[0m
[0;32mI (30808) energy: Duration of deep sleep: 198s[0m
[0;32mI (30808) energy: Mean load power: 186.0 mW  duration duty cycle: 5s[0m
[0;32mI (30818) energy: panel energy in deep sleep: 83001.6mWs[0m
[0;32mI (30818) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30828) energy: battery energy in deep sleep: 82566.0mWs[0m
New measureTemp event with ID: 12
New getNextDutyFreqE event with ID: 13
[0;32mI (31908) energy: Force deep sleep 200
[0m
[0;32mI (33008) functions: MeasureTempFunction started[0m
New temp event with ID: 14
[0;32mI (33028) functions: MeasureTempFunction terminated[0m
[0;32mI (33108) functions: CalcDutyFreqFunction started[0m
[0;32mI (33108) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33108) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33118) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33128) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33128) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33138) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33208) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (33218) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33218) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33238) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33238) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.140991%  checkpoint: 50.000000%   energy consumed from battery: 0.514747% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.140991%).[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.211308%  checkpoint: 50.000000%   energy consumed from battery: 0.541117% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.211308%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.316586%  checkpoint: 50.000000%   energy consumed from battery: 0.580590% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.316586%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.491447%  checkpoint: 50.000000%   energy consumed from battery: 0.646160% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.491447%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.838985%  checkpoint: 50.000000%   energy consumed from battery: 0.776491% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.838985%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.864658%  checkpoint: 50.000000%   energy consumed from battery: 1.161126% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.864658%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.237309%  checkpoint: 50.000000%   energy consumed from battery: 1.372659% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.237309%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.307621%  checkpoint: 50.000000%   energy consumed from battery: 1.442978% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.307621%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.412907%  checkpoint: 50.000000%   energy consumed from battery: 1.548238% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.412907%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.587772%  checkpoint: 50.000000%   energy consumed from battery: 1.723093% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.587772%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.935307%  checkpoint: 50.000000%   energy consumed from battery: 2.070643% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.935307%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.960972%  checkpoint: 50.000000%   energy consumed from battery: 3.096337% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.960972%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.148293%  checkpoint: 50.000000%   energy consumed from battery: 0.514747% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.148293%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.218605%  checkpoint: 50.000000%   energy consumed from battery: 0.541117% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.218605%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.323891%  checkpoint: 50.000000%   energy consumed from battery: 0.580590% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.323891%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.498753%  checkpoint: 50.000000%   energy consumed from battery: 0.646160% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.498753%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.846291%  checkpoint: 50.000000%   energy consumed from battery: 0.776491% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.846291%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.871960%  checkpoint: 50.000000%   energy consumed from battery: 1.161126% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.871960%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.514747%  checkpoint: 50.000000%   energy consumed from battery: 0.514747% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.514747%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.541117%  checkpoint: 50.000000%   energy consumed from battery: 0.541117% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.541117%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.580590%  checkpoint: 50.000000%   energy consumed from battery: 0.580590% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.580590%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.646160%  checkpoint: 50.000000%   energy consumed from battery: 0.646160% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.646160%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.776491%  checkpoint: 50.000000%   energy consumed from battery: 0.776491% [0m
[0;32mI (33758) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.776491%).[0m
[0;32mI (33768) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.161126%  checkpoint: 50.000000%   energy consumed from battery: 1.161126% [0m
[0;32mI (33778) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.161126%).[0m
[0;32mI (33788) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.514747%  checkpoint: 50.000000%   energy consumed from battery: 0.514747% [0m
[0;32mI (33798) nds[0m
[0;32mI (33968) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34208) functions: SendToMqttFunction started[0m
[0;32mI (34208) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34208) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732961191801,"temp":24.9}]}]}> to topic 4/230/data[0m
[0;32mI (34238) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732961191801,"loadPower":515.3,"loadEnergy":7928.2,"batteryPower":20.7,"batteryEnergy":14164.6,"batteryRSOC":99.0,"panelPower":591.9,"panelEnergy":28593.0}]}]}> to topic 4/230/data[0m
[0;32mI (34258) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732961191801,"voltage":4.0,"rsoc":76.3,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34268) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732961191801,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34288) functions: SendToMqttFunction terminated[0m
[0;32mI (34408) functions: SetSleepTimeFunction started[0m
[0;32mI (34408) energy: Set sleepTime_s to 200[0m
[0;32mI (34408) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35918) mqtt: MQTT resourceSleep[0m
[0;32mI (35918) energy: Energy manager terminates.[0m
[0;32mI (35918) energy: Energy manager terminated.[0m
[0;32mI (35918) energy: Mean panel power: 436.8 mW  duration duty cycle: 5s[0m
[0;32mI (35928) energy: Mean load power: 192.8 mW  duration duty cycle: 5s[0m
[0;32mI (35938) energy: Load energy: 28541920.0 mWs (diff: 964.0mWs)[0m
[0;32mI (35938) energy: Battery energy: 50993192.0 mWs (diff: 1576.0mWs)[0m
[0;32mI (35948) energy: Panel energy: 102935352.0 mWs (diff: 2184.0mWs)[0m
[0;32mI (35968) energy: Energy Manager saved state: (436.8, 1732961194681178, 192.8, 5, 1732961192726853, 0)[0m
[0;32mI (35978) energy: Energy saved: (28541928.0, 102935368.0, 50993208.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28541928.0, 102935368.0, 50993208.0)[0m
wakeup clock
[0;32mI (23828) sntp: The current date/time in Germany is: Sat Nov 30 11:10:16 2024[0m
[0;32mI (23828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25198) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25898) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26598) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27288) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27968) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28658) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29338) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30028) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30728) energy: Energy Manager state retrieved: (436.8, 1732961194681178, 192.8, 5, 1732961192726853, 0)[0m
[0;32mI (30738) energy: Last mean panel power: 436.8mW[0m
[0;32mI (30738) energy: Duration of deep sleep: 198s[0m
[0;32mI (30738) energy: Mean load power: 192.8 mW  duration duty cycle: 5s[0m
[0;32mI (30748) energy: panel energy in deep sleep: 86486.4mWs[0m
[0;32mI (30758) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30758) energy: battery energy in deep sleep: 86050.8mWs[0m
New measureTemp event with ID: 16
New getNextDutyFreqE event with ID: 17
[0;32mI (31848) energy: Force deep sleep 200
[0m
[0;32mI (32938) functions: MeasureTempFunction started[0m
New temp event with ID: 18
[0;32mI (32958) functions: MeasureTempFunction terminated[0m
[0;32mI (33038) functions: CalcDutyFreqFunction started[0m
[0;32mI (33038) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33038) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33048) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33048) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33138) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (33148) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33148) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33158) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33168) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33168) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33178) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33188) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.154083%  checkpoint: 50.000000%   energy consumed from battery: 0.519650% [0m
[0;32mI (33198) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.154083%).[0m
[0;32mI (33208) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.226967%  checkpoint: 50.000000%   energy consumed from battery: 0.546995% [0m
[0;32mI (33218) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.226967%).[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.336174%  checkpoint: 50.000000%   energy consumed from battery: 0.587928% [0m
[0;32mI (33248) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.336174%).[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.517460%  checkpoint: 50.000000%   energy consumed from battery: 0.655924% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.517460%).[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.877892%  checkpoint: 50.000000%   energy consumed from battery: 0.791077% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.877892%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.941551%  checkpoint: 50.000000%   energy consumed from battery: 1.189943% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.941551%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.327293%  checkpoint: 50.000000%   energy consumed from battery: 1.385732% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.327293%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.400169%  checkpoint: 50.000000%   energy consumed from battery: 1.458653% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.400169%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.509392%  checkpoint: 50.000000%   energy consumed from battery: 1.567807% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.509392%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.690666%  checkpoint: 50.000000%   energy consumed from battery: 1.749131% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.690666%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.051109%  checkpoint: 50.000000%   energy consumed from battery: 2.109538% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.051109%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.114769%  checkpoint: 50.000000%   energy consumed from battery: 3.173180% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.114769%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.315182%  checkpoint: 50.000000%   energy consumed from battery: 0.519650% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.315182%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.388069%  checkpoint: 50.000000%   energy consumed from battery: 0.546995% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.388069%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.497276%  checkpoint: 50.000000%   energy consumed from battery: 0.587928% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.497276%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.678555%  checkpoint: 50.000000%   energy consumed from battery: 0.655924% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.678555%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 35.038994%  checkpoint: 50.000000%   energy consumed from battery: 0.791077% [0m
[0;32mI (33558) 0s  required battery level 36.102654%  checkpoint: 50.000000%   energy consumed from battery: 1.189943% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.102654%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.519650%  checkpoint: 50.000000%   energy consumed from battery: 0.519650% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.519650%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.546995%  checkpoint: 50.000000%   energy consumed from battery: 0.546995% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.546995%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.587928%  checkpoint: 50.000000%   energy consumed from battery: 0.587928% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.587928%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.655924%  checkpoint: 50.000000%   energy consumed from battery: 0.655924% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.655924%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.791077%  checkpoint: 50.000000%   energy consumed from battery: 0.791077% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.791077%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.189943%  checkpoint: 50.000000%   energy consumed from battery: 1.189943% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.189943%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.519650%  checkpoint: 50.000000%   energy consumed from battery: 0.519650% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (0, 1200s, 0.519650%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day0 sleep time: 10nds[0m
[0;32mI (33898) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34238) functions: SendToMqttFunction started[0m
[0;32mI (34238) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34238) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732961425225,"temp":25.0}]}]}> to topic 4/230/data[0m
[0;32mI (34268) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732961425225,"loadPower":503.9,"loadEnergy":7930.0,"batteryPower":19.0,"batteryEnergy":14191.4,"batteryRSOC":99.0,"panelPower":588.6,"panelEnergy":28620.7}]}]}> to topic 4/230/data[0m
[0;32mI (34288) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732961425225,"voltage":4.0,"rsoc":75.5,"rate":-3.3}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34298) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732961425225,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34308) functions: SendToMqttFunction terminated[0m
[0;32mI (34338) functions: SetSleepTimeFunction started[0m
[0;32mI (34338) energy: Set sleepTime_s to 200[0m
[0;32mI (34338) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35848) mqtt: MQTT resourceSleep[0m
[0;32mI (35848) energy: Energy manager terminates.[0m
[0;32mI (35848) energy: Energy manager terminated.[0m
[0;32mI (35848) energy: Mean panel power: 438.4 mW  duration duty cycle: 5s[0m
[0;32mI (35858) energy: Mean load power: 178.4 mW  duration duty cycle: 5s[0m
[0;32mI (35868) energy: Load energy: 28548304.0 mWs (diff: 892.0mWs)[0m
[0;32mI (35868) energy: Battery energy: 51089724.0 mWs (diff: 1696.0mWs)[0m
[0;32mI (35878) energy: Panel energy: 103035240.0 mWs (diff: 2192.0mWs)[0m
[0;32mI (35898) energy: Energy Manager saved state: (438.4, 1732961428107046, 178.4, 5, 1732961426152682, 0)[0m
[0;32mI (35908) energy: Energy saved: (28548314.0, 103035256.0, 51089736.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28548314.0, 103035256.0, 51089736.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 11:14:09 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24528) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25208) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25898) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26588) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27288) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27988) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28688) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29378) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30068) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30738) energy: Energy Manager state retrieved: (438.4, 1732961428107046, 178.4, 5, 1732961426152682, 0)[0m
[0;32mI (30738) energy: Last mean panel power: 438.4mW[0m
[0;32mI (30748) energy: Duration of deep sleep: 198s[0m
[0;32mI (30748) energy: Mean load power: 178.4 mW  duration duty cycle: 5s[0m
[0;32mI (30758) energy: panel energy in deep sleep: 86803.2mWs[0m
[0;32mI (30758) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30768) energy: battery energy in deep sleep: 86367.6mWs[0m
New measureTemp event with ID: 20
New getNextDutyFreqE event with ID: 21
[0;32mI (31858) energy: Force deep sleep 200
[0m
[0;32mI (32948) functions: MeasureTempFunction started[0m
New temp event with ID: 22
[0;32mI (32968) functions: MeasureTempFunction terminated[0m
[0;32mI (33048) functions: CalcDutyFreqFunction started[0m
[0;32mI (33048) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33048) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33058) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33148) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (33158) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33158) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33168) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33178) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33178) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33188) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33198) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.126423%  checkpoint: 50.000000%   energy consumed from battery: 0.509268% [0m
[0;32mI (33208) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.126423%).[0m
[0;32mI (33218) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.193810%  checkpoint: 50.000000%   energy consumed from battery: 0.534547% [0m
[0;32mI (33228) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.193810%).[0m
[0;32mI (33238) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.294708%  checkpoint: 50.000000%   energy consumed from battery: 0.572388% [0m
[0;32mI (33248) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.294708%).[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.462337%  checkpoint: 50.000000%   energy consumed from battery: 0.635247% [0m
[0;32mI (33278) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.462337%).[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.795502%  checkpoint: 50.000000%   energy consumed from battery: 0.760189% [0m
[0;32mI (33298) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.795502%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.778782%  checkpoint: 50.000000%   energy consumed from battery: 1.128920% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.778782%).[0m
[0;32mI (33328) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.136875%  checkpoint: 50.000000%   energy consumed from battery: 1.358048% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.136875%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.204258%  checkpoint: 50.000000%   energy consumed from battery: 1.425460% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.204258%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.305149%  checkpoint: 50.000000%   energy consumed from battery: 1.526368% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.305149%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.472782%  checkpoint: 50.000000%   energy consumed from battery: 1.693991% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.472782%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.805943%  checkpoint: 50.000000%   energy consumed from battery: 2.027170% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.805943%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.789219%  checkpoint: 50.000000%   energy consumed from battery: 3.010453% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.789219%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 33.961979%  checkpoint: 50.000000%   energy consumed from battery: 0.509268% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 33.961979%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.029366%  checkpoint: 50.000000%   energy consumed from battery: 0.534547% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.029366%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.130257%  checkpoint: 50.000000%   energy consumed from battery: 0.572388% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.130257%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.297890%  checkpoint: 50.000000%   energy consumed from battery: 0.635247% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.297890%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.631050%  checkpoint: 50.000000%   energy consumed from battery: 0.760189% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.631050%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.614326%  checkpoint: 50.000000%   energy consumed from battery: 1.128920% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.614326%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.509268%  checkpoint: 50.000000%   energy consumed from battery: 0.509268% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.509268%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.534547%  checkpoint: 50.000000%   energy consumed from battery: 0.534547% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.534547%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.572388%  checkpoint: 50.000000%   energy consumed from battery: 0.572388% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.572388%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.635247%  checkpoint: 50.000000%   energy consumed from battery: 0.635247% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.635247%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.760189%  checkpoint: 50.000000%   energy consumed from battery: 0.760189% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.760189%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.128920%  checkpoint: 50.000000%   energy consumed from battery: 1.128920% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.128920%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.509268%  checkpoint: 50.000000%   energy consumed from battery: 0.509268% [0m
[0;32mI (33738) nds[0m
[0;32mI (33908) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34148) functions: SendToMqttFunction started[0m
[0;32mI (34148) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34148) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732961658757,"temp":25.1}]}]}> to topic 4/230/data[0m
[0;32mI (34178) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732961658757,"loadPower":515.5,"loadEnergy":7931.9,"batteryPower":-68.4,"batteryEnergy":14218.2,"batteryRSOC":83.0,"panelPower":606.7,"panelEnergy":28648.5}]}]}> to topic 4/230/data[0m
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732961658757,"voltage":4.0,"rsoc":77.5,"rate":-4.4}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34208) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732961658757,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34218) functions: SendToMqttFunction terminated[0m
[0;32mI (34248) functions: SetSleepTimeFunction started[0m
[0;32mI (34248) energy: Set sleepTime_s to 200[0m
[0;32mI (34248) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35858) mqtt: MQTT resourceSleep[0m
[0;32mI (35858) energy: Energy manager terminates.[0m
[0;32mI (35858) energy: Energy manager terminated.[0m
[0;32mI (35858) energy: Mean panel power: 443.2 mW  duration duty cycle: 5s[0m
[0;32mI (35868) energy: Mean load power: 210.4 mW  duration duty cycle: 5s[0m
[0;32mI (35878) energy: Load energy: 28555326.0 mWs (diff: 1052.0mWs)[0m
[0;32mI (35878) energy: Battery energy: 51185908.0 mWs (diff: 1524.0mWs)[0m
[0;32mI (35888) energy: Panel energy: 103135472.0 mWs (diff: 2216.0mWs)[0m
[0;32mI (35908) energy: Energy Manager saved state: (443.2, 1732961661635952, 210.4, 5, 1732961659681370, 0)[0m
[0;32mI (35918) energy: Energy saved: (28555334.0, 103135488.0, 51185924.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28555334.0, 103135488.0, 51185924.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 11:18:02 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25218) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (26108) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26788) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27458) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28138) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28818) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29508) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30188) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30888) energy: Energy Manager state retrieved: (443.2, 1732961661635952, 210.4, 5, 1732961659681370, 0)[0m
[0;32mI (30898) energy: Last mean panel power: 443.2mW[0m
[0;32mI (30898) energy: Duration of deep sleep: 198s[0m
[0;32mI (30898) energy: Mean load power: 210.4 mW  duration duty cycle: 5s[0m
[0;32mI (30908) energy: panel energy in deep sleep: 87753.6mWs[0m
[0;32mI (30908) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30918) energy: battery energy in deep sleep: 87318.0mWs[0m
New measureTemp event with ID: 24
New getNextDutyFreqE event with ID: 25
[0;32mI (31998) energy: Force deep sleep 200
[0m
[0;32mI (33098) functions: MeasureTempFunction started[0m
New temp event with ID: 26
[0;32mI (33118) functions: MeasureTempFunction terminated[0m
[0;32mI (33198) functions: CalcDutyFreqFunction started[0m
[0;32mI (33198) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33198) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33208) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33208) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33218) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33218) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33298) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (33308) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33308) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33318) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33328) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33328) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.187878%  checkpoint: 50.000000%   energy consumed from battery: 0.532338% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.187878%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.267597%  checkpoint: 50.000000%   energy consumed from battery: 0.562208% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.267597%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.386803%  checkpoint: 50.000000%   energy consumed from battery: 0.606921% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.386803%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.584846%  checkpoint: 50.000000%   energy consumed from battery: 0.681196% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.584846%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.978523%  checkpoint: 50.000000%   energy consumed from battery: 0.828829% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.978523%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 43.140411%  checkpoint: 50.000000%   energy consumed from battery: 1.264526% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (4, 200s, 43.140411%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.559937%  checkpoint: 50.000000%   energy consumed from battery: 1.419568% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.559937%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.639679%  checkpoint: 50.000000%   energy consumed from battery: 1.499222% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.639679%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.758881%  checkpoint: 50.000000%   energy consumed from battery: 1.618456% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.758881%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.956909%  checkpoint: 50.000000%   energy consumed from battery: 1.816523% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.956909%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.350586%  checkpoint: 50.000000%   energy consumed from battery: 2.210210% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.350586%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.512482%  checkpoint: 50.000000%   energy consumed from battery: 3.372068% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.512482%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.746689%  checkpoint: 50.000000%   energy consumed from battery: 0.532338% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.746689%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.826412%  checkpoint: 50.000000%   energy consumed from battery: 0.562208% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.826412%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.945618%  checkpoint: 50.000000%   energy consumed from battery: 0.606921% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.945618%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 35.143654%  checkpoint: 50.000000%   energy consumed from battery: 0.681196% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (2, 600s, 35.143654%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 35.537338%  checkpoint: 50.000000%   energy consumed from battery: 0.828829% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (2, 400s, 35.537338%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 36.699223%  checkpoint: 50.000000%   energy consumed from battery: 1.264526% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.699223%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.532338%  checkpoint: 50.000000%   energy consumed from battery: 0.532338% [0m
[0;32mI (33758) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.532338%).[0m
[0;32mI (33768) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.562208%  checkpoint: 50.000000%   energy consumed from battery: 0.562208% [0m
[0;32mI (33778) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.562208%).[0m
[0;32mI (33788) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.606921%  checkpoint: 50.000000%   energy consumed from battery: 0.606921% [0m
[0;32mI (33808) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.606921%).[0m
[0;32mI (33808) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.681196%  checkpoint: 50.000000%   energy consumed from battery: 0.681196% [0m
[0;32mI (33828) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.681196%).[0m
[0;32mI (33838) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.828829%  checkpoint: 50.000000%   energy consumed from battery: 0.828829% [0m
[0;32mI (33848) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.828829%).[0m
[0;32mI (33858) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.264526%  checkpoint: 50.000000%   energy consumed from battery: 1.264526% [0m
[0;32mI (33868) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.264526%).[0m
[0;32mI (33878) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.532338%  checkpoint: 50.000000%   energy consumed from battery: 0.532338% [0m
[0;32mI (33888) nds[0m
[0;32mI (34058) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34298) functions: SendToMqttFunction started[0m
[0;32mI (34298) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34298) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732961892271,"temp":25.4}]}]}> to topic 4/230/data[0m
[0;32mI (34328) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732961892271,"loadPower":498.4,"loadEnergy":7933.8,"batteryPower":11.1,"batteryEnergy":14245.3,"batteryRSOC":99.0,"panelPower":593.7,"panelEnergy":28676.7}]}]}> to topic 4/230/data[0m
[0;32mI (34348) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732961892271,"voltage":4.0,"rsoc":73.7,"rate":-4.4}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34358) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732961892271,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34368) functions: SendToMqttFunction terminated[0m
[0;32mI (34498) functions: SetSleepTimeFunction started[0m
[0;32mI (34498) energy: Set sleepTime_s to 200[0m
[0;32mI (34498) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35998) mqtt: MQTT resourceSleep[0m
[0;32mI (35998) energy: Energy manager terminates.[0m
[0;32mI (35998) energy: Energy manager terminated.[0m
[0;32mI (35998) energy: Mean panel power: 464.0 mW  duration duty cycle: 5s[0m
[0;32mI (36008) energy: Mean load power: 190.8 mW  duration duty cycle: 5s[0m
[0;32mI (36018) energy: Load energy: 28561930.0 mWs (diff: 954.0mWs)[0m
[0;32mI (36018) energy: Battery energy: 51283620.0 mWs (diff: 1660.0mWs)[0m
[0;32mI (36028) energy: Panel energy: 103236928.0 mWs (diff: 2320.0mWs)[0m
[0;32mI (36048) energy: Energy Manager saved state: (464.0, 1732961895142815, 190.8, 5, 1732961893198321, 0)[0m
[0;32mI (36058) energy: Energy saved: (28561940.0, 103236944.0, 51283628.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28561940.0, 103236944.0, 51283628.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 11:21:56 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25208) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25908) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26588) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27278) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27968) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28668) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29358) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30068) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30768) energy: Energy Manager state retrieved: (464.0, 1732961895142815, 190.8, 5, 1732961893198321, 0)[0m
[0;32mI (30768) energy: Last mean panel power: 464.0mW[0m
[0;32mI (30778) energy: Duration of deep sleep: 198s[0m
[0;32mI (30778) energy: Mean load power: 190.8 mW  duration duty cycle: 5s[0m
[0;32mI (30788) energy: panel energy in deep sleep: 91872.0mWs[0m
[0;32mI (30788) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30798) energy: battery energy in deep sleep: 91436.4mWs[0m
New measureTemp event with ID: 28
New getNextDutyFreqE event with ID: 29
[0;32mI (31878) energy: Force deep sleep 200
[0m
[0;32mI (32978) functions: MeasureTempFunction started[0m
New temp event with ID: 30
[0;32mI (32998) functions: MeasureTempFunction terminated[0m
[0;32mI (33078) functions: CalcDutyFreqFunction started[0m
[0;32mI (33078) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33078) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33088) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33178) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (33188) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33188) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33198) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33208) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33208) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.150230%  checkpoint: 50.000000%   energy consumed from battery: 0.518208% [0m
[0;32mI (33238) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.150230%).[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.222382%  checkpoint: 50.000000%   energy consumed from battery: 0.545266% [0m
[0;32mI (33258) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.222382%).[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.330406%  checkpoint: 50.000000%   energy consumed from battery: 0.585770% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.330406%).[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.509846%  checkpoint: 50.000000%   energy consumed from battery: 0.653052% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.509846%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.866447%  checkpoint: 50.000000%   energy consumed from battery: 0.786787% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.866447%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.918938%  checkpoint: 50.000000%   energy consumed from battery: 1.181467% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.918938%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.300835%  checkpoint: 50.000000%   energy consumed from battery: 1.381887% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.300835%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.372978%  checkpoint: 50.000000%   energy consumed from battery: 1.454043% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.372978%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.481010%  checkpoint: 50.000000%   energy consumed from battery: 1.562052% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.481010%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.660454%  checkpoint: 50.000000%   energy consumed from battery: 1.741472% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.660454%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.017052%  checkpoint: 50.000000%   energy consumed from battery: 2.098099% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.017052%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.069542%  checkpoint: 50.000000%   energy consumed from battery: 3.150580% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.069542%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.266109%  checkpoint: 50.000000%   energy consumed from battery: 0.518208% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.266109%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.338253%  checkpoint: 50.000000%   energy consumed from battery: 0.545266% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.338253%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.446281%  checkpoint: 50.000000%   energy consumed from battery: 0.585770% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.446281%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.625721%  checkpoint: 50.000000%   energy consumed from battery: 0.653052% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.625721%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.982327%  checkpoint: 50.000000%   energy consumed from battery: 0.786787% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.982327%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 36.034813%  checkpoint: 50.000000%   energy consumed from battery: 1.181467% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.034813%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.518208%  checkpoint: 50.000000%   energy consumed from battery: 0.518208% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.518208%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.545266%  checkpoint: 50.000000%   energy consumed from battery: 0.545266% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.545266%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.585770%  checkpoint: 50.000000%   energy consumed from battery: 0.585770% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.585770%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.653052%  checkpoint: 50.000000%   energy consumed from battery: 0.653052% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.653052%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.786787%  checkpoint: 50.000000%   energy consumed from battery: 0.786787% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.786787%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.181467%  checkpoint: 50.000000%   energy consumed from battery: 1.181467% [0m
[0;32mI (33748) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.181467%).[0m
[0;32mI (33758) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.518208%  checkpoint: 50.000000%   energy consumed from battery: 0.518208% [0m
[0;32mI (33768) nds[0m
[0;32mI (33938) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34278) functions: SendToMqttFunction started[0m
[0;32mI (34278) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34278) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732962125672,"temp":25.7}]}]}> to topic 4/230/data[0m
[0;32mI (34308) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732962125672,"loadPower":447.7,"loadEnergy":7935.7,"batteryPower":12.7,"batteryEnergy":14273.5,"batteryRSOC":99.0,"panelPower":593.7,"panelEnergy":28706.5}]}]}> to topic 4/230/data[0m
[0;32mI (34328) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732962125672,"voltage":3.9,"rsoc":75.9,"rate":-3.3}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34338) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732962125672,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34348) functions: SendToMqttFunction terminated[0m
[0;32mI (34378) functions: SetSleepTimeFunction started[0m
[0;32mI (34378) energy: Set sleepTime_s to 200[0m
[0;32mI (34378) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35878) mqtt: MQTT resourceSleep[0m
[0;32mI (35878) energy: Energy manager terminates.[0m
[0;32mI (35878) energy: Energy manager terminated.[0m
[0;32mI (35878) energy: Mean panel power: 438.4 mW  duration duty cycle: 5s[0m
[0;32mI (35888) energy: Mean load power: 189.6 mW  duration duty cycle: 5s[0m
[0;32mI (35898) energy: Load energy: 28568910.0 mWs (diff: 948.0mWs)[0m
[0;32mI (35898) energy: Battery energy: 51384992.0 mWs (diff: 1636.0mWs)[0m
[0;32mI (35908) energy: Panel energy: 103344144.0 mWs (diff: 2192.0mWs)[0m
[0;32mI (35928) energy: Energy Manager saved state: (438.4, 1732962128542988, 189.6, 5, 1732962126598851, 0)[0m
[0;32mI (35938) energy: Energy saved: (28568918.0, 103344160.0, 51385008.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;31mE (3858) i2cdev: Could not write to device [0x0b at 0]: -1 (ESP_FAIL)[0m
Error in setting power mode
[0;32mI (4878) energy: Energy retrieved: (28568918.0, 103344160.0, 51385008.0)[0m
wakeup clock
[0;32mI (24878) sntp: The current date/time in Germany is: Sat Nov 30 11:25:50 2024[0m
[0;32mI (24878) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (25568) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (26258) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (26958) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (27648) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (28338) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (29018) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (29718) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (30408) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (31108) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (31818) energy: Energy Manager state retrieved: (438.4, 1732962128542988, 189.6, 5, 1732962126598851, 0)[0m
[0;32mI (31818) energy: Last mean panel power: 438.4mW[0m
[0;32mI (31818) energy: Duration of deep sleep: 198s[0m
[0;32mI (31828) energy: Mean load power: 189.6 mW  duration duty cycle: 5s[0m
[0;32mI (31828) energy: panel energy in deep sleep: 86803.2mWs[0m
[0;32mI (31838) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (31838) energy: battery energy in deep sleep: 86367.6mWs[0m
New measureTemp event with ID: 32
New getNextDutyFreqE event with ID: 33
[0;32mI (32928) energy: Force deep sleep 200
[0m
[0;32mI (34018) functions: MeasureTempFunction started[0m
New temp event with ID: 34
[0;32mI (34038) functions: MeasureTempFunction terminated[0m
[0;32mI (34118) functions: CalcDutyFreqFunction started[0m
[0;32mI (34118) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (34118) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (34128) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (34128) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (34138) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (34138) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (34148) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (34218) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (34228) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (34228) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (34238) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (34248) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (34248) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (34258) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (34268) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.147942%  checkpoint: 50.000000%   energy consumed from battery: 0.517342% [0m
[0;32mI (34278) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.147942%).[0m
[0;32mI (34288) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.219627%  checkpoint: 50.000000%   energy consumed from battery: 0.544229% [0m
[0;32mI (34298) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.219627%).[0m
[0;32mI (34308) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.326935%  checkpoint: 50.000000%   energy consumed from battery: 0.584475% [0m
[0;32mI (34328) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.326935%).[0m
[0;32mI (34328) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.505196%  checkpoint: 50.000000%   energy consumed from battery: 0.651329% [0m
[0;32mI (34348) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.505196%).[0m
[0;32mI (34358) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.859581%  checkpoint: 50.000000%   energy consumed from battery: 0.784213% [0m
[0;32mI (34368) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.859581%).[0m
[0;32mI (34378) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.905384%  checkpoint: 50.000000%   energy consumed from battery: 1.176382% [0m
[0;32mI (34388) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.905384%).[0m
[0;32mI (34398) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.284992%  checkpoint: 50.000000%   energy consumed from battery: 1.379580% [0m
[0;32mI (34408) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.284992%).[0m
[0;32mI (34418) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.356678%  checkpoint: 50.000000%   energy consumed from battery: 1.451277% [0m
[0;32mI (34438) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.356678%).[0m
[0;32mI (34438) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.463978%  checkpoint: 50.000000%   energy consumed from battery: 1.558599% [0m
[0;32mI (34458) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.463978%).[0m
[0;32mI (34468) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.642231%  checkpoint: 50.000000%   energy consumed from battery: 1.736878% [0m
[0;32mI (34478) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.642231%).[0m
[0;32mI (34488) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.996632%  checkpoint: 50.000000%   energy consumed from battery: 2.091234% [0m
[0;32mI (34498) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.996632%).[0m
[0;32mI (34508) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.042439%  checkpoint: 50.000000%   energy consumed from battery: 3.137019% [0m
[0;32mI (34528) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.042439%).[0m
[0;32mI (34528) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.236713%  checkpoint: 50.000000%   energy consumed from battery: 0.517342% [0m
[0;32mI (34548) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.236713%).[0m
[0;32mI (34558) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.308403%  checkpoint: 50.000000%   energy consumed from battery: 0.544229% [0m
[0;32mI (34568) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.308403%).[0m
[0;32mI (34578) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.415703%  checkpoint: 50.000000%   energy consumed from battery: 0.584475% [0m
[0;32mI (34588) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.415703%).[0m
[0;32mI (34598) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.593967%  checkpoint: 50.000000%   energy consumed from battery: 0.651329% [0m
[0;32mI (34608) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.593967%).[0m
[0;32mI (34618) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.948357%  checkpoint: 50.000000%   energy consumed from battery: 0.784213% [0m
[0;32mI (34638) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.948357%).[0m
[0;32mI (34638) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.994160%  checkpoint: 50.000000%   energy consumed from battery: 1.176382% [0m
[0;32mI (34658) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.994160%).[0m
[0;32mI (34668) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.517342%  checkpoint: 50.000000%   energy consumed from battery: 0.517342% [0m
[0;32mI (34678) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.517342%).[0m
[0;32mI (34688) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.544229%  checkpoint: 50.000000%   energy consumed from battery: 0.544229% [0m
[0;32mI (34698) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.544229%).[0m
[0;32mI (34708) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.584475%  checkpoint: 50.000000%   energy consumed from battery: 0.584475% [0m
[0;32mI (34728) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.584475%).[0m
[0;32mI (34728) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.651329%  checkpoint: 50.000000%   energy consumed from battery: 0.651329% [0m
[0;32mI (34748) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.651329%).[0m
[0;32mI (34758) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.784213%  checkpoint: 50.000000%   energy consumed from battery: 0.784213% [0m
[0;32mI (34768) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.784213%).[0m
[0;32mI (34778) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.176382%  checkpoint: 50.000000%   energy consumed from battery: 1.176382% [0m
[0;32mI (34788) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.176382%).[0m
[0;32mI (34798) CalcDutyFreqFunction: Day0 sleep time: 1200s  re[0;32mI (34978) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (35318) functions: SendToMqttFunction started[0m
[0;32mI (35318) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (35318) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732962360077,"temp":25.8}]}]}> to topic 4/230/data[0m
[0;32mI (35348) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732962360077,"loadPower":336.2,"loadEnergy":7937.5,"batteryPower":36.7,"batteryEnergy":14300.4,"batteryRSOC":95.0,"panelPower":617.8,"panelEnergy":28737.5}]}]}> to topic 4/230/data[0m
[0;32mI (35368) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732962360077,"voltage":4.0,"rsoc":76.8,"rate":-3.3}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (35378) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732962360077,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (35388) functions: SendToMqttFunction terminated[0m
[0;32mI (35418) functions: SetSleepTimeFunction started[0m
[0;32mI (35418) energy: Set sleepTime_s to 200[0m
[0;32mI (35418) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36928) mqtt: MQTT resourceSleep[0m
[0;32mI (36928) energy: Energy manager terminates.[0m
[0;32mI (36928) energy: Energy manager terminated.[0m
[0;32mI (36928) energy: Mean panel power: 787.2 mW  duration duty cycle: 5s[0m
[0;32mI (36938) energy: Mean load power: 184.0 mW  duration duty cycle: 5s[0m
[0;32mI (36938) energy: Load energy: 28575410.0 mWs (diff: 920.0mWs)[0m
[0;32mI (36948) energy: Battery energy: 51481944.0 mWs (diff: 1724.0mWs)[0m
[0;32mI (36958) energy: Panel energy: 103456240.0 mWs (diff: 3936.0mWs)[0m
[0;32mI (36968) energy: Energy Manager saved state: (787.2, 1732962362956462, 184.0, 5, 1732962361004308, 0)[0m
[0;32mI (36978) energy: Energy saved: (28575422.0, 103456288.0, 51481968.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28575422.0, 103456288.0, 51481968.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 11:29:44 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24688) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25368) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (26068) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26748) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27438) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28118) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28808) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29508) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30218) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30918) energy: Energy Manager state retrieved: (787.2, 1732962362956462, 184.0, 5, 1732962361004308, 0)[0m
[0;32mI (30918) energy: Last mean panel power: 787.2mW[0m
[0;32mI (30928) energy: Duration of deep sleep: 198s[0m
[0;32mI (30928) energy: Mean load power: 184.0 mW  duration duty cycle: 5s[0m
[0;32mI (30938) energy: panel energy in deep sleep: 155865.6mWs[0m
[0;32mI (30948) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30948) energy: battery energy in deep sleep: 155430.0mWs[0m
New measureTemp event with ID: 36
New getNextDutyFreqE event with ID: 37
[0;32mI (32028) energy: Force deep sleep 200
[0m
[0;32mI (33128) functions: MeasureTempFunction started[0m
New temp event with ID: 38
[0;32mI (33148) functions: MeasureTempFunction terminated[0m
[0;32mI (33228) functions: CalcDutyFreqFunction started[0m
[0;32mI (33228) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33238) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33238) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33248) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33248) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33328) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (33338) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33338) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33348) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33358) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33358) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33378) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.137146%  checkpoint: 50.000000%   energy consumed from battery: 0.513305% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.137146%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.206718%  checkpoint: 50.000000%   energy consumed from battery: 0.539388% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.206718%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.310822%  checkpoint: 50.000000%   energy consumed from battery: 0.578431% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.310822%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.483765%  checkpoint: 50.000000%   energy consumed from battery: 0.643288% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.483765%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.827545%  checkpoint: 50.000000%   energy consumed from battery: 0.772201% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.827545%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.842049%  checkpoint: 50.000000%   energy consumed from battery: 1.152651% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.842049%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.210854%  checkpoint: 50.000000%   energy consumed from battery: 1.368814% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.210854%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.280434%  checkpoint: 50.000000%   energy consumed from battery: 1.438368% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.280434%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.384529%  checkpoint: 50.000000%   energy consumed from battery: 1.542483% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.384529%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.557472%  checkpoint: 50.000000%   energy consumed from battery: 1.715434% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.557472%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.901253%  checkpoint: 50.000000%   energy consumed from battery: 2.059201% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.901253%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.915749%  checkpoint: 50.000000%   energy consumed from battery: 3.073735% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.915749%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.099224%  checkpoint: 50.000000%   energy consumed from battery: 0.513305% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.099224%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.168800%  checkpoint: 50.000000%   energy consumed from battery: 0.539388% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.168800%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.272900%  checkpoint: 50.000000%   energy consumed from battery: 0.578431% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.272900%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.445843%  checkpoint: 50.000000%   energy consumed from battery: 0.643288% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.445843%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.789623%  checkpoint: 50.000000%   energy consumed from battery: 0.772201% [0m
[0;32mI (33748) 0s  required battery level 35.804131%  checkpoint: 50.000000%   energy consumed from battery: 1.152651% [0m
[0;32mI (33768) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.804131%).[0m
[0;32mI (33778) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.513305%  checkpoint: 50.000000%   energy consumed from battery: 0.513305% [0m
[0;32mI (33788) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.513305%).[0m
[0;32mI (33798) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.539388%  checkpoint: 50.000000%   energy consumed from battery: 0.539388% [0m
[0;32mI (33808) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.539388%).[0m
[0;32mI (33818) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.578431%  checkpoint: 50.000000%   energy consumed from battery: 0.578431% [0m
[0;32mI (33838) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.578431%).[0m
[0;32mI (33838) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.643288%  checkpoint: 50.000000%   energy consumed from battery: 0.643288% [0m
[0;32mI (33858) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.643288%).[0m
[0;32mI (33868) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.772201%  checkpoint: 50.000000%   energy consumed from battery: 0.772201% [0m
[0;32mI (33878) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.772201%).[0m
[0;32mI (33888) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.152651%  checkpoint: 50.000000%   energy consumed from battery: 1.152651% [0m
[0;32mI (33898) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.152651%).[0m
[0;32mI (33908) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.513305%  checkpoint: 50.000000%   energy consumed from battery: 0.513305% [0m
[0;32mI (33918) CalcDutyFreqFunction: Pushed stack element (0, 1200s, 0.513305%).[0m
[0;32mI (33928) CalcDutyFreqFunction: Day0 sleep time: 10nds[0m
[0;32mI (34088) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34428) functions: SendToMqttFunction started[0m
[0;32mI (34428) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34428) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732962593819,"temp":26.0}]}]}> to topic 4/230/data[0m
[0;32mI (34458) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732962593819,"loadPower":513.9,"loadEnergy":7939.4,"batteryPower":46.3,"batteryEnergy":14346.4,"batteryRSOC":81.0,"panelPower":613.8,"panelEnergy":28787.9}]}]}> to topic 4/230/data[0m
[0;32mI (34478) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732962593819,"voltage":3.9,"rsoc":78.0,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34488) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732962593819,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34498) functions: SendToMqttFunction terminated[0m
[0;32mI (34528) functions: SetSleepTimeFunction started[0m
[0;32mI (34528) energy: Set sleepTime_s to 200[0m
[0;32mI (34528) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36038) mqtt: MQTT resourceSleep[0m
[0;32mI (36038) energy: Energy manager terminates.[0m
[0;32mI (36038) energy: Energy manager terminated.[0m
[0;32mI (36038) energy: Mean panel power: 796.8 mW  duration duty cycle: 5s[0m
[0;32mI (36048) energy: Mean load power: 172.4 mW  duration duty cycle: 5s[0m
[0;32mI (36058) energy: Load energy: 28582100.0 mWs (diff: 862.0mWs)[0m
[0;32mI (36058) energy: Battery energy: 51647720.0 mWs (diff: 1764.0mWs)[0m
[0;32mI (36068) energy: Panel energy: 103637648.0 mWs (diff: 3984.0mWs)[0m
[0;32mI (36088) energy: Energy Manager saved state: (796.8, 1732962596699508, 172.4, 5, 1732962594745129, 0)[0m
[0;32mI (36098) energy: Energy saved: (28582108.0, 103637680.0, 51647736.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28582108.0, 103637680.0, 51647736.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 11:33:37 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24538) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25238) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25958) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26648) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27338) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28038) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28718) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29408) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30118) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30828) energy: Energy Manager state retrieved: (796.8, 1732962596699508, 172.4, 5, 1732962594745129, 0)[0m
[0;32mI (30838) energy: Last mean panel power: 796.8mW[0m
[0;32mI (30838) energy: Duration of deep sleep: 198s[0m
[0;32mI (30838) energy: Mean load power: 172.4 mW  duration duty cycle: 5s[0m
[0;32mI (30848) energy: panel energy in deep sleep: 157766.4mWs[0m
[0;32mI (30858) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30858) energy: battery energy in deep sleep: 157330.8mWs[0m
New measureTemp event with ID: 40
New getNextDutyFreqE event with ID: 41
[0;32mI (31948) energy: Force deep sleep 200
[0m
[0;32mI (33038) functions: MeasureTempFunction started[0m
New temp event with ID: 42
[0;32mI (33058) functions: MeasureTempFunction terminated[0m
[0;32mI (33138) functions: CalcDutyFreqFunction started[0m
[0;32mI (33138) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33138) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33148) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33148) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33158) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33158) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33168) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33238) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (33248) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33248) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33258) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33268) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33268) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.114887%  checkpoint: 50.000000%   energy consumed from battery: 0.504942% [0m
[0;32mI (33298) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.114887%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.179985%  checkpoint: 50.000000%   energy consumed from battery: 0.529361% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.179985%).[0m
[0;32mI (33328) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.277412%  checkpoint: 50.000000%   energy consumed from battery: 0.565913% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.277412%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.439362%  checkpoint: 50.000000%   energy consumed from battery: 0.626631% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.439362%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.761173%  checkpoint: 50.000000%   energy consumed from battery: 0.747319% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.761173%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.711021%  checkpoint: 50.000000%   energy consumed from battery: 1.103494% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.711021%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.057579%  checkpoint: 50.000000%   energy consumed from battery: 1.346513% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.057579%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.122673%  checkpoint: 50.000000%   energy consumed from battery: 1.411630% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.122673%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.220085%  checkpoint: 50.000000%   energy consumed from battery: 1.509100% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.220085%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.382042%  checkpoint: 50.000000%   energy consumed from battery: 1.671017% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.382042%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.703850%  checkpoint: 50.000000%   energy consumed from battery: 1.992850% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.703850%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.653709%  checkpoint: 50.000000%   energy consumed from battery: 2.942650% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.653709%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 33.814930%  checkpoint: 50.000000%   energy consumed from battery: 0.504942% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 33.814930%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 33.880028%  checkpoint: 50.000000%   energy consumed from battery: 0.529361% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 33.880028%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 33.977455%  checkpoint: 50.000000%   energy consumed from battery: 0.565913% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 800s, 33.977455%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.139400%  checkpoint: 50.000000%   energy consumed from battery: 0.626631% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.139400%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.461212%  checkpoint: 50.000000%   energy consumed from battery: 0.747319% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.461212%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.411064%  checkpoint: 50.000000%   energy consumed from battery: 1.103494% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.411064%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.504942%  checkpoint: 50.000000%   energy consumed from battery: 0.504942% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.504942%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.529361%  checkpoint: 50.000000%   energy consumed from battery: 0.529361% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.529361%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.565913%  checkpoint: 50.000000%   energy consumed from battery: 0.565913% [0m
[0;32mI (33748) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.565913%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.626631%  checkpoint: 50.000000%   energy consumed from battery: 0.626631% [0m
[0;32mI (33768) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.626631%).[0m
[0;32mI (33778) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.747319%  checkpoint: 50.000000%   energy consumed from battery: 0.747319% [0m
[0;32mI (33788) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.747319%).[0m
[0;32mI (33798) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.103494%  checkpoint: 50.000000%   energy consumed from battery: 1.103494% [0m
[0;32mI (33808) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.103494%).[0m
[0;32mI (33818) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.504942%  checkpoint: 50.000000%   energy consumed from battery: 0.504942% [0m
[0;32mI (33828) nds[0m
[0;32mI (33998) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34338) functions: SendToMqttFunction started[0m
[0;32mI (34338) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34338) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732962827228,"temp":26.2}]}]}> to topic 4/230/data[0m
[0;32mI (34368) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732962827228,"loadPower":508.6,"loadEnergy":7941.3,"batteryPower":115.2,"batteryEnergy":14393.0,"batteryRSOC":99.0,"panelPower":617.8,"panelEnergy":28838.8}]}]}> to topic 4/230/data[0m
[0;32mI (34388) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732962827228,"voltage":4.0,"rsoc":78.8,"rate":-4.4}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34398) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732962827228,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34418) functions: SendToMqttFunction terminated[0m
[0;32mI (34438) functions: SetSleepTimeFunction started[0m
[0;32mI (34438) energy: Set sleepTime_s to 200[0m
[0;32mI (34438) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35948) mqtt: MQTT resourceSleep[0m
[0;32mI (35948) energy: Energy manager terminates.[0m
[0;32mI (35948) energy: Energy manager terminated.[0m
[0;32mI (35948) energy: Mean panel power: 795.2 mW  duration duty cycle: 5s[0m
[0;32mI (35958) energy: Mean load power: 190.8 mW  duration duty cycle: 5s[0m
[0;32mI (35968) energy: Load energy: 28588898.0 mWs (diff: 954.0mWs)[0m
[0;32mI (35968) energy: Battery energy: 51815380.0 mWs (diff: 1704.0mWs)[0m
[0;32mI (35978) energy: Panel energy: 103820992.0 mWs (diff: 3976.0mWs)[0m
[0;32mI (35998) energy: Energy Manager saved state: (795.2, 1732962830108700, 190.8, 5, 1732962828154151, 0)[0m
[0;32mI (36008) energy: Energy saved: (28588906.0, 103821024.0, 51815396.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37238h (225848) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047260 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047270 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2f0 vaddr=40080000 size=04d28h ( 19752) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0300h (787200) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110328 vaddr=40084d28 size=14f0ch ( 85772) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012523c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a8 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  dc8c28695...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3828) energy: Energy retrieved: (28588906.0, 103821024.0, 51815396.0)[0m
wakeup clock
[0;32mI (23828) sntp: The current date/time in Germany is: Sat Nov 30 11:37:31 2024[0m
[0;32mI (23828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24558) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25258) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25958) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26668) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27358) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28058) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28748) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29468) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30138) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30838) energy: Energy Manager state retrieved: (795.2, 1732962830108700, 190.8, 5, 1732962828154151, 0)[0m
[0;32mI (30848) energy: Last mean panel power: 795.2mW[0m
[0;32mI (30848) energy: Duration of deep sleep: 198s[0m
[0;32mI (30848) energy: Mean load power: 190.8 mW  duration duty cycle: 5s[0m
[0;32mI (30858) energy: panel energy in deep sleep: 157449.6mWs[0m
[0;32mI (30868) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30868) energy: battery energy in deep sleep: 156468.0mWs[0m
New measureTemp event with ID: 44
New getNextDutyFreqE event with ID: 45
[0;32mI (31958) energy: Force deep sleep 200
[0m
[0;32mI (33048) functions: MeasureTempFunction started[0m
New temp event with ID: 46
[0;32mI (33068) functions: MeasureTempFunction terminated[0m
[0;32mI (33148) functions: CalcDutyFreqFunction started[0m
[0;32mI (33148) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33148) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33158) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33158) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33168) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33168) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33178) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33248) mqtt: MQTT resourceWakeup: reconnecting[0m
slope: 0.000000
[0;32mI (33258) CalcDutyFreqFunction: Battery slope: 0.0[0m
[0;32mI (33258) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33268) CalcDutyFreqFunction: Day1 battery checkpoint: 50.000000[0m
[0;32mI (33278) CalcDutyFreqFunction: Day2 battery checkpoint: 50.000000[0m
[0;32mI (33278) CalcDutyFreqFunction: Day3 battery checkpoint: 50.000000[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 battery checkpoint: 50.000000[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.150230%  checkpoint: 50.000000%   energy consumed from battery: 0.518208% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.150230%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.222382%  checkpoint: 50.000000%   energy consumed from battery: 0.545266% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.222382%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.330406%  checkpoint: 50.000000%   energy consumed from battery: 0.585770% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.330406%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.509846%  checkpoint: 50.000000%   energy consumed from battery: 0.653052% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.509846%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.866447%  checkpoint: 50.000000%   energy consumed from battery: 0.786787% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.866447%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.918938%  checkpoint: 50.000000%   energy consumed from battery: 1.181467% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.918938%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.300835%  checkpoint: 50.000000%   energy consumed from battery: 1.381887% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.300835%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.372978%  checkpoint: 50.000000%   energy consumed from battery: 1.454043% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.372978%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.481010%  checkpoint: 50.000000%   energy consumed from battery: 1.562052% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.481010%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.660454%  checkpoint: 50.000000%   energy consumed from battery: 1.741472% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.660454%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.017052%  checkpoint: 50.000000%   energy consumed from battery: 2.098099% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.017052%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.069542%  checkpoint: 50.000000%   energy consumed from battery: 3.150580% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.069542%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.266109%  checkpoint: 50.000000%   energy consumed from battery: 0.518208% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.266109%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.338253%  checkpoint: 50.000000%   energy consumed from battery: 0.545266% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.338253%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.446281%  checkpoint: 50.000000%   energy consumed from battery: 0.585770% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.446281%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.625721%  checkpoint: 50.000000%   energy consumed from battery: 0.653052% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.625721%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.982327%  checkpoint: 50.000000%   energy consumed from battery: 0.786787% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.982327%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 36.034813%  checkpoint: 50.000000%   energy consumed from battery: 1.181467% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.034813%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.518208%  checkpoint: 50.000000%   energy consumed from battery: 0.518208% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.518208%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.545266%  checkpoint: 50.000000%   energy consumed from battery: 0.545266% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.545266%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.585770%  checkpoint: 50.000000%   energy consumed from battery: 0.585770% [0m
[0;32mI (33758) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.585770%).[0m
[0;32mI (33758) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.653052%  checkpoint: 50.000000%   energy consumed from battery: 0.653052% [0m
[0;32mI (33778) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.653052%).[0m
[0;32mI (33788) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.786787%  checkpoint: 50.000000%   energy consumed from battery: 0.786787% [0m
[0;32mI (33798) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.786787%).[0m
[0;32mI (33808) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.181467%  checkpoint: 50.000000%   energy consumed from battery: 1.181467% [0m
[0;32mI (33818) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.181467%).[0m
[0;32mI (33828) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.518208%  checkpoint: 50.000000%   energy consumed from battery: 0.518208% [0m
[0;32mI (33838) nds[0m
[0;32mI (34008) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34348) functions: SendToMqttFunction started[0m
[0;32mI (34348) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34348) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732963060868,"temp":26.4}]}]}> to topic 4/230/data[0m
[0;32mI (34378) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732963060868,"loadPower":522.1,"loadEnergy":7943.1,"batteryPower":44.8,"batteryEnergy":14439.4,"batteryRSOC":98.0,"panelPower":625.2,"panelEnergy":28889.6}]}]}> to topic 4/230/data[0m
[0;32mI (34398) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732963060868,"voltage":4.0,"rsoc":79.6,"rate":-4.4}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34408) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732963060868,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34428) functions: SendToMqttFunction terminated[0m
[0;32mI (34448) functions: SetSleepTimeFunction started[0m
[0;32mI (34448) energy: Set sleepTime_s to 200[0m
[0;32mI (34448) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35958) mqtt: MQTT resourceSleep[0m
[0;32mI (35958) energy: Energy manager terminates.[0m
[0;32mI (35958) energy: Energy manager terminated.[0m
[0;32mI (35958) energy: Mean panel power: 795.2 mW  duration duty cycle: 5s[0m
[0;32mI (35968) energy: Mean load power: 199.2 mW  duration duty cycle: 5s[0m
[0;32mI (35968) energy: Load energy: 28595584.0 mWs (diff: 996.0mWs)[0m
[0;32mI (35978) energy: Battery energy: 51982336.0 mWs (diff: 1648.0mWs)[0m
[0;32mI (35988) energy: Panel energy: 104003864.0 mWs (diff: 3976.0mWs)[0m
[0;32mI (35998) energy: Energy Manager saved state: (795.2, 1732963063745999, 199.2, 5, 1732963061794031, 0)[0m
[0;32mI (36008) energy: Energy saved: (28595596.0, 104003912.0, 51982360.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x3 (DOWNLOAD_BOOT(UART0/UART1/SDIO_REI_REO_V2))
waiting for download
RBBRBBBJBBBCRBBRBBRBBRBBRBBRBBRBBBBBBBBRBBRBBRBBBFBBBBBBBBCBBBBBBBBBBCBBBBBBBBBBCBBBBFBBFBBBBBBBBCBBBbBBrBBrBrBzBFBBBBBBBBCBBBbBBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBBrBrBBFBBBBBBBBCBBBbBBrBBBrBrBbCBBBbBBets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=371f8h (225784) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047220 vaddr=3ff80063 size=00008h (     8) load[0m
[0;32mI (184) esp_image: segment 2: paddr=00047230 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (196) esp_image: segment 3: paddr=0004b2b0 vaddr=40080000 size=04d68h ( 19816) load[0m
[0;32mI (206) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0338h (787256) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110360 vaddr=40084d68 size=14ecch ( 85708) load[0m
[0;32mI (510) esp_image: segment 6: paddr=00125234 vaddr=400c0000 size=00064h (   100) load[0m
[0;32mI (510) esp_image: segment 7: paddr=001252a0 vaddr=50000000 size=00014h (    20) load[0m
[0;32mI (529) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (529) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (550) cpu_start: Pro cpu start user code[0m
[0;32mI (550) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (550) app_init: Application information:[0m
[0;32mI (553) app_init: Project name:     sif_dht[0m
[0;32mI (558) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (563) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (569) app_init: ELF file SHA256:  76f2c2cc0...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (581) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (586) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (591) efuse_init: Chip rev:         v3.0[0m
[0;32mI (596) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (603) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (609) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (615) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (628) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (636) spi_flash: detected chip: generic[0m
[0;32mI (639) spi_flash: flash io: dio[0m
[0;33mW (643) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (669) main_task: Started on CPU0[0m
[0;32mI (679) main_task: Calling app_main()[0m
Wakeup was not caused by deep sleep: 0
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=371f8h (225784) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047220 vaddr=3ff80063 size=00008h (     8) load[0m
[0;32mI (184) esp_image: segment 2: paddr=00047230 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (196) esp_image: segment 3: paddr=0004b2b0 vaddr=40080000 size=04d68h ( 19816) load[0m
[0;32mI (206) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0338h (787256) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110360 vaddr=40084d68 size=14ecch ( 85708) load[0m
[0;32mI (510) esp_image: segment 6: paddr=00125234 vaddr=400c0000 size=00064h (   100) load[0m
[0;32mI (510) esp_image: segment 7: paddr=001252a0 vaddr=50000000 size=00014h (    20) load[0m
[0;32mI (529) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (529) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (550) cpu_start: Pro cpu start user code[0m
[0;32mI (550) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (550) app_init: Application information:[0m
[0;32mI (553) app_init: Project name:     sif_dht[0m
[0;32mI (558) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (563) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (569) app_init: ELF file SHA256:  76f2c2cc0...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (581) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (586) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (591) efuse_init: Chip rev:         v3.0[0m
[0;32mI (596) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (603) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (609) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (615) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (628) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (636) spi_flash: detected chip: generic[0m
[0;32mI (639) spi_flash: flash io: dio[0m
[0;33mW (643) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (669) main_task: Started on CPU0[0m
[0;32mI (679) main_task: Calling app_main()[0m
Wakeup was not caused by deep sleep: 0
[0;32mI (3879) energy: Energy retrieved: (28595596.0, 104003912.0, 51982360.0)[0m
wakeup clock
[0;32mI (23889) sntp: The current date/time in Germany is: Sat Nov 30 11:39:42 2024[0m
[0;32mI (23889) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24589) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25289) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25989) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26669) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27389) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28079) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28779) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29459) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30139) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30829) energy: Energy Manager state retrieved: (795.2, 1732963063745999, 199.2, 5, 1732963061794031, 0)[0m
[0;32mI (30839) energy: Last mean panel power: 795.2mW[0m
[0;32mI (30839) energy: Duration of deep sleep: 95s[0m
[0;32mI (30839) energy: Mean load power: 199.2 mW  duration duty cycle: 5s[0m
[0;32mI (30849) energy: panel energy in deep sleep: 75544.0mWs[0m
[0;32mI (30859) energy: load energy in deep sleep: 209.0mWs[0m
[0;32mI (30859) energy: battery energy in deep sleep: 65538.5mWs[0m
New measureTemp event with ID: 0
New getNextDutyFreqE event with ID: 1
[0;32mI (31949) energy: Force deep sleep 300
[0m
[0;32mI (33049) functions: MeasureTempFunction started[0m
New temp event with ID: 2
[0;32mI (33069) functions: MeasureTempFunction terminated[0m
[0;32mI (33149) functions: CalcDutyFreqFunction started[0m
[0;32mI (33149) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33149) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33159) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33159) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33169) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33169) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33179) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403486
Timestamp of last solar prediction: 403486
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33249) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33259) CalcDutyFreqFunction: Day1 battery checkpoint: 100.686905[0m
[0;32mI (33259) CalcDutyFreqFunction: Day2 battery checkpoint: 142.396973[0m
[0;32mI (33269) CalcDutyFreqFunction: Day3 battery checkpoint: 154.184265[0m
[0;32mI (33279) CalcDutyFreqFunction: Day4 battery checkpoint: 152.786224[0m
[0;32mI (33279) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.166359%  checkpoint: 152.786224%   energy consumed from battery: 0.524264% [0m
[0;32mI (33299) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.166359%).[0m
[0;32mI (33309) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.241779%  checkpoint: 152.786224%   energy consumed from battery: 0.552527% [0m
[0;32mI (33319) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.241779%).[0m
[0;32mI (33329) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.354576%  checkpoint: 152.786224%   energy consumed from battery: 0.594834% [0m
[0;32mI (33339) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.354576%).[0m
[0;32mI (33349) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.541985%  checkpoint: 152.786224%   energy consumed from battery: 0.665114% [0m
[0;32mI (33369) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.541985%).[0m
[0;32mI (33369) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.914513%  checkpoint: 152.786224%   energy consumed from battery: 0.804805% [0m
[0;32mI (33389) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.914513%).[0m
[0;32mI (33399) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 43.013874%  checkpoint: 152.786224%   energy consumed from battery: 1.217064% [0m
[0;32mI (33409) CalcDutyFreqFunction: Pushed stack element (4, 200s, 43.013874%).[0m
[0;32mI (33419) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.411884%  checkpoint: 154.184265%   energy consumed from battery: 1.398036% [0m
[0;32mI (33429) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.411884%).[0m
[0;32mI (33439) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.487324%  checkpoint: 154.184265%   energy consumed from battery: 1.473405% [0m
[0;32mI (33249) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33449) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.487324%).[0m
[0;32mI (33469) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.600117%  checkpoint: 154.184265%   energy consumed from battery: 1.586225% [0m
[0;32mI (33479) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.600117%).[0m
[0;32mI (33489) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.787525%  checkpoint: 154.184265%   energy consumed from battery: 1.773637% [0m
[0;32mI (33509) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.787525%).[0m
[0;32mI (33509) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.160053%  checkpoint: 154.184265%   energy consumed from battery: 2.146146% [0m
[0;32mI (33529) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.160053%).[0m
[0;32mI (33539) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.259418%  checkpoint: 154.184265%   energy consumed from battery: 3.245503% [0m
[0;32mI (33549) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.259418%).[0m
[0;32mI (33559) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.472107%  checkpoint: 142.396973%   energy consumed from battery: 0.524264% [0m
[0;32mI (33569) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.472107%).[0m
[0;32mI (33579) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.547535%  checkpoint: 142.396973%   energy consumed from battery: 0.552527% [0m
[0;32mI (33589) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.547535%).[0m
[0;32mI (33599) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.660328%  checkpoint: 142.396973%   energy consumed from battery: 0.594834% [0m
[0;32mI (33619) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.660328%).[0m
[0;32mI (33619) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.847740%  checkpoint: 142.396973%   energy consumed from battery: 0.665114% [0m
[0;32mI (33639) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.847740%).[0m
[0;32mI (33649) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 35.220264%  checkpoint: 142.396973%   energy consumed from battery: 0.804805% [0m
[0;32mI (33659) CalcDutyFreqFunction: Pushed stack element (2, 400s, 35.22073%   energy consumed from battery: 1.217064% [0m
[0;32mI (33679) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.319630%).[0m
[0;32mI (33689) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.524264%  checkpoint: 100.686905%   energy consumed from battery: 0.524264% [0m
[0;32mI (33709) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.524264%).[0m
[0;32mI (33709) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.552527%  checkpoint: 100.686905%   energy consumed from battery: 0.552527% [0m
[0;32mI (33729) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.552527%).[0m
[0;32mI (33739) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.594834%  checkpoint: 100.686905%   energy consumed from battery: 0.594834% [0m
[0;32mI (33749) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.594834%).[0m
[0;32mI (33759) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.665114%  checkpoint: 100.686905%   energy consumed from battery: 0.665114% [0m
[0;32mI (33769) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.665114%).[0m
[0;32mI (33779) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.804805%  checkpoint: 100.686905%   energy consumed from battery: 0.804805% [0m
[0;32mI (33799) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.804805%).[0m
[0;32mI (33799) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.217064%  checkpoint: 100.686905%   energy consumed from battery: 1.217064% [0m
[0;32mI (33819) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.217064%).[0m
[0;32mI (33819) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.524264%  checkpoint: 50.000000%   energy consumed from battery: 0.524264% [0m
[0;32mI (33839) CalcDutyFreqFunction: Pushed stack element (0, 1200s, 0.524264%).[0m
[0;32mI (33849) CalcDutyFreqFunction: Day0 sleep time: 1000s  required battery level 0.552527%  checkpoint: 5tion terminated[0m
[0;32mI (34549) functions: SendToMqttFunction started[0m
[0;32mI (34549) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34549) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732963191278,"temp":26.6}]}]}> to topic 4/230/data[0m
[0;32mI (34579) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732963191278,"loadPower":201.4,"loadEnergy":7944.6,"batteryPower":132.8,"batteryEnergy":14461.0,"batteryRSOC":99.0,"panelPower":628.1,"panelEnergy":28917.7}]}]}> to topic 4/230/data[0m
[0;32mI (34599) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732963191278,"voltage":4.0,"rsoc":82.9,"rate":-4.4}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34609) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732963191278,"period":300}]}]}> to topic 4/230/data[0m
[0;32mI (34619) functions: SendToMqttFunction terminated[0m
[0;32mI (34649) functions: SetSleepTimeFunction started[0m
[0;32mI (34649) energy: Set sleepTime_s to 200[0m
[0;32mI (34649) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36019) mqtt: MQTT resourceSleep[0m
[0;32mI (36019) energy: Energy manager terminates.[0m
[0;32mI (36019) energy: Energy manager terminated.[0m
[0;32mI (36019) energy: Mean panel power: 784.0 mW  duration duty cycle: 5s[0m
[0;32mI (36029) energy: Mean load power: 153.2 mW  duration duty cycle: 5s[0m
[0;32mI (36029) energy: Load energy: 28600614.0 mWs (diff: 766.0mWs)[0m
[0;32mI (36039) energy: Battery energy: 52060208.0 mWs (diff: 1924.0mWs)[0m
[0;32mI (36049) energy: Panel energy: 104104824.0 mWs (diff: 3920.0mWs)[0m
[0;32mI (36059) energy: Energy Manager saved state: (784.0, 1732963194221972, 153.2, 5, 1732963192205136, 0)[0m
[0;32mI (36079) energy: Energy saved: (28600626.0, 104104872.0, 52060232.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=371f8h (225784) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047220 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047230 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b2b0 vaddr=40080000 size=04d68h ( 19816) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c0338h (787256) map[0m
[0;32mI (476) esp_image: segment 5: paddr=00110360 vaddr=40084d68 size=14ecch ( 85708) load[0m
[0;32mI (510) esp_image: segment 6: paddr=00125234 vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=001252a0 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  76f2c2cc0...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28600626.0, 104104872.0, 52060232.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 11:45:14 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24528) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25228) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25918) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26618) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27298) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27978) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28658) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29338) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30038) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30738) energy: Energy Manager state retrieved: (784.0, 1732963194221972, 153.2, 5, 1732963192205136, 0)[0m
[0;32mI (30738) energy: Last mean panel power: 784.0mW[0m
[0;32mI (30738) energy: Duration of deep sleep: 296s[0m
[0;32mI (30748) energy: Mean load power: 153.2 mW  duration duty cycle: 5s[0m
[0;32mI (30748) energy: panel energy in deep sleep: 232064.0mWs[0m
[0;32mI (30758) energy: load energy in deep sleep: 651.2mWs[0m
[0;32mI (30758) energy: battery energy in deep sleep: 216600.6mWs[0m
New measureTemp event with ID: 4
New getNextDutyFreqE event with ID: 5
[0;32mI (31838) energy: Force deep sleep 200
[0m
[0;32mI (32938) functions: MeasureTempFunction started[0m
New temp event with ID: 6
[0;32mI (32958) functions: MeasureTempFunction terminated[0m
[0;32mI (33038) functions: CalcDutyFreqFunction started[0m
[0;32mI (33038) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33038) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33048) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33048) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33138) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33148) CalcDutyFreqFunction: Day1 battery checkpoint: 100.775337[0m
[0;32mI (33148) CalcDutyFreqFunction: Day2 battery checkpoint: 142.573837[0m
[0;32mI (33158) CalcDutyFreqFunction: Day3 battery checkpoint: 154.449570[0m
[0;32mI (33168) CalcDutyFreqFunction: Day4 battery checkpoint: 153.139969[0m
[0;32mI (33168) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.077919%  checkpoint: 153.139969%   energy consumed from battery: 0.491100% [0m
[0;32mI (33188) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.077919%).[0m
[0;32mI (33198) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.135689%  checkpoint: 153.139969%   energy consumed from battery: 0.512764% [0m
[0;32mI (33208) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.135689%).[0m
[0;32mI (33218) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.222191%  checkpoint: 153.139969%   energy consumed from battery: 0.545193% [0m
[0;32mI (33228) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.222191%).[0m
[0;32mI (33238) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.365841%  checkpoint: 153.139969%   energy consumed from battery: 0.599062% [0m
[0;32mI (33258) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.365841%).[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.651390%  checkpoint: 153.139969%   energy consumed from battery: 0.706135% [0m
[0;32mI (33278) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.651390%).[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.494041%  checkpoint: 153.139969%   energy consumed from battery: 1.022130% [0m
[0;32mI (33298) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.494041%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 43.803612%  checkpoint: 154.449570%   energy consumed from battery: 1.309601% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 43.803612%).[0m
[0;32mI (33328) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 43.861382%  checkpoint: 154.449570%   energy consumed from battery: 1.367372% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 43.861382%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 43.947899%  checkpoint: 154.449570%   energy consumed from battery: 1.453848% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (3, 800s, 43.947899%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.091545%  checkpoint: 154.449570%   energy consumed from battery: 1.597498% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.091545%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.377098%  checkpoint: 154.449570%   energy consumed from battery: 1.883025% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.377098%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.219749%  checkpoint: 154.449570%   energy consumed from battery: 2.725680% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.219749%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 33.344002%  checkpoint: 142.573837%   energy consumed from battery: 0.491100% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 33.344002%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 33.401768%  checkpoint: 142.573837%   energy consumed from battery: 0.512764% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 33.401768%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 33.488277%  checkpoint: 142.573837%   energy consumed from battery: 0.545193% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (2, 800s, 33.488277%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 33.631924%  checkpoint: 142.573837%   energy consumed from battery: 0.599062% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (2, 600s, 33.631924%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 33.917473%  checkpoint: 142.573837%   energy consumed from battery: 0.706135% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (2, 400s, 33.917473%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 34.760124%  checkpoint: 142.573837%   energy consumed from battery: 1.022130% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 200s, 34.760124%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.491100%  checkpoint: 100.775337%   energy consumed from battery: 0.491100% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.491100%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.512764%  checkpoint: 100.775337%   energy consumed from battery: 0.512764% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.512764%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.545193%  checkpoint: 100.775337%   energy consumed from battery: 0.545193% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.545193%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.599062%  checkpoint: 100.775337%   energy consumed from battery: 0.599062% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.599062%).[0m
[0;32mI (33138) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33658) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.706135%  checkpoint: 100.775337%   energy consumed from battery: 0.706135% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.706135%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.022130%  checkpoint: 100.775337%   energy consumed from battery: 1.022130% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 200s, 1.022130%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day0 sleep time: 1200s  required battery level 0.491100%  checkpoint: 50.000000%   energy consumed from battery: 0.491100% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (0, 1200stion terminated[0m
[0;32mI (34738) functions: SendToMqttFunction started[0m
[0;32mI (34738) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34738) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732963523165,"temp":26.5}]}]}> to topic 4/230/data[0m
[0;32mI (34768) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732963523165,"loadPower":209.7,"loadEnergy":7946.1,"batteryPower":47.4,"batteryEnergy":14524.6,"batteryRSOC":85.0,"panelPower":617.9,"panelEnergy":28989.3}]}]}> to topic 4/230/data[0m
[0;32mI (34788) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732963523165,"voltage":4.0,"rsoc":81.6,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34798) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732963523165,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34808) functions: SendToMqttFunction terminated[0m
[0;32mI (34838) functions: SetSleepTimeFunction started[0m
[0;32mI (34838) energy: Set sleepTime_s to 200[0m
[0;32mI (34838) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36908) mqtt: MQTT resourceSleep[0m
[0;32mI (36908) energy: Energy manager terminates.[0m
[0;32mI (36908) energy: Energy manager terminated.[0m
[0;32mI (36908) energy: Mean panel power: 782.7 mW  duration duty cycle: 6s[0m
[0;32mI (36918) energy: Mean load power: 151.3 mW  duration duty cycle: 6s[0m
[0;32mI (36918) energy: Load energy: 28606234.0 mWs (diff: 908.0mWs)[0m
[0;32mI (36928) energy: Battery energy: 52289412.0 mWs (diff: 2276.0mWs)[0m
[0;32mI (36938) energy: Panel energy: 104363056.0 mWs (diff: 4696.0mWs)[0m
[0;32mI (36948) energy: Energy Manager saved state: (782.7, 1732963527099604, 151.3, 6, 1732963524082673, 0)[0m
[0;32mI (36978) energy: Energy saved: (28606246.0, 104363104.0, 52289432.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x3 (DOWNLOAD_BOOT(UART0/UART1/SDIO_REI_REO_V2))
waiting for download
RBBRBBBJBBBCRBBRBBRBBRBBRBBRBBRBBBBBBBBRBBRBBRBBBFBBBBBBBBCBBBBBBBBBBCBBBBBBBBBBCBBBBFBBFBBBBBBBBCBBBbBBrBBrBrBzBFBBBBBBBBCBBBbBBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBrBBrBrB:BFBBBBBBBBCBBBbBBrBBBrBrBbCBBBbBBets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) load[0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (196) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (206) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) load[0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) load[0m
[0;32mI (529) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (529) boot: Disabling RNG early entropy source...[0m
[0;32mI (542) cpu_start: Multicore app[0m
[0;32mI (550) cpu_start: Pro cpu start user code[0m
[0;32mI (550) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (550) app_init: Application information:[0m
[0;32mI (553) app_init: Project name:     sif_dht[0m
[0;32mI (558) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (563) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (569) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (575) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (581) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (586) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (591) efuse_init: Chip rev:         v3.0[0m
[0;32mI (596) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (603) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (609) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (615) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (622) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (628) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (636) spi_flash: detected chip: generic[0m
[0;32mI (639) spi_flash: flash io: dio[0m
[0;33mW (643) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (669) main_task: Started on CPU0[0m
[0;32mI (679) main_task: Calling app_main()[0m
Wakeup was not caused by deep sleep: 0
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) load[0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (196) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (206) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) load[0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) load[0m
[0;32mI (529) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (529) boot: Disabling RNG early entropy source...[0m
[0;32mI (542) cpu_start: Multicore app[0m
[0;32mI (550) cpu_start: Pro cpu start user code[0m
[0;32mI (550) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (550) app_init: Application information:[0m
[0;32mI (553) app_init: Project name:     sif_dht[0m
[0;32mI (558) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (563) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (569) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (575) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (581) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (586) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (591) efuse_init: Chip rev:         v3.0[0m
[0;32mI (596) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (603) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (609) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (615) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (622) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (628) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (636) spi_flash: detected chip: generic[0m
[0;32mI (639) spi_flash: flash io: dio[0m
[0;33mW (643) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (669) main_task: Started on CPU0[0m
[0;32mI (679) main_task: Calling app_main()[0m
Wakeup was not caused by deep sleep: 0
[0;32mI (3879) energy: Energy retrieved: (28606246.0, 104363104.0, 52289432.0)[0m
wakeup clock
[0;32mI (23879) sntp: The current date/time in Germany is: Sat Nov 30 11:46:47 2024[0m
[0;32mI (23879) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24579) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25269) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25949) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26629) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27319) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27999) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28669) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29369) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30089) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30799) energy: Energy Manager state retrieved: (782.7, 1732963527099604, 151.3, 6, 1732963524082673, 0)[0m
[0;32mI (30799) energy: Last mean panel power: 782.7mW[0m
[0;32mI (30799) energy: Duration of deep sleep: 57s[0m
[0;32mI (30809) energy: Mean load power: 151.3 mW  duration duty cycle: 6s[0m
[0;32mI (30819) energy: panel energy in deep sleep: 44612.0mWs[0m
[0;32mI (30819) energy: load energy in deep sleep: 125.4mWs[0m
[0;32mI (30829) energy: battery energy in deep sleep: 39323.1mWs[0m
New measureTemp event with ID: 0
New getNextDutyFreqE event with ID: 1
[0;32mI (31909) energy: Force deep sleep 300
[0m
[0;32mI (33009) functions: MeasureTempFunction started[0m
New temp event with ID: 2
[0;32mI (33029) functions: MeasureTempFunction terminated[0m
[0;32mI (33109) functions: CalcDutyFreqFunction started[0m
[0;32mI (33109) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33109) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33119) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33119) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33129) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33129) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33139) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33209) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33209) CalcDutyFreqFunction: Level Day0: 50.000000%  energy: 2627.393066mWh  Level Day1: 100.721870%[0m
[0;32mI (33219) CalcDutyFreqFunction: Level Day1: 100.000000%  energy: 2162.393066mWh  Level Day2: 141.745041%[0m
[0;32mI (33229) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.393066mWh  Level Day3: 111.822258%[0m
[0;32mI (33249) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.606964mWh  Level Day4: 98.636932%[0m
[0;32mI (33249) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33259) CalcDutyFreqFunction: Day1 battery checkpoint: 100.000000[0m
[0;32mI (33269) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33279) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33279) CalcDutyFreqFunction: Day4 battery checkpoint: 98.636932[0m
[0;32mI (33289) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.131386%  checkpoint: 98.636932%   energy consumed from battery: 0.511151% [0m
[0;32mI (33299) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.131386%).[0m
[0;32mI (33309) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.199760%  checkpoint: 98.636932%   energy consumed from battery: 0.536779% [0m
[0;32mI (33329) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.199760%).[0m
[0;32mI (33329) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.302025%  checkpoint: 98.636932%   energy consumed from battery: 0.575127% [0m
[0;32mI (33349) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.302025%).[0m
[0;32mI (33359) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.471771%  checkpoint: 98.636932%   energy consumed from battery: 0.638786% [0m
[0;32mI (33369) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.471771%).[0m
[0;32mI (33379) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.808777%  checkpoint: 98.636932%   energy consumed from battery: 0.765163% [0m
[0;32mI (33389) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.808777%).[0m
[0;32mI (33399) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.800194%  checkpoint: 98.636932%   energy consumed from battery: 1.136935% [0m
[0;32mI (33419) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.800194%).[0m
[0;32mI (33419) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.163231%  checkpoint: 100.000000%   energy consumed from battery: 1.363069% [0m
[0;32mI (33439) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.163231%).[0m
[0;32mI (33449) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.231621%  checkpoint: 100.000000%   energy consumed from battery: 1.431411% [0m
[0;32mI (33459) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.231621%).[0m
[0;32mI (33469) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.333885%  checkpoint: 100.000000%   energy consumed from battery: 1.533671% [0m
[0;32mI (33479) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.333885%).[0m
[0;32mI (33489) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.503624%  checkpoint: 100.000000%   energy consumed from battery: 1.703429% [0m
[0;32mI (33509) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.503624%).[0m
[0;32mI (33509) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.840630%  checkpoint: 100.000000%   energy consumed from battery: 2.040436% [0m
[0;32mI (33529) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.840630%).[0m
[0;32mI (33539) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.832054%  checkpoint: 100.000000%   energy consumed from battery: 3.031825% [0m
[0;32mI (33549) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.832054%).[0m
[0;32mI (33559) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.009773%  checkpoint: 100.000000%   energy consumed from battery: 0.511151% [0m
[0;32mI (33569) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.009773%).[0m
[0;32mI (33579) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.078152%  checkpoint: 100.000000%   energy consumed from battery: 0.536779% [0m
[0;32mI (33589) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.078152%).[0m
[0;32mI (33599) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.180412%  checkpoint: 100.000000%   energy consumed from battery: 0.575127% [0m
[0;32mI (33619) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.180412%).[0m
[0;32mI (33619) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.350155%  checkpoint: 100.000000%   energy consumed from battery: 0.638786% [0m
[0;32mI (33639) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.350155%).[0m
[0;32mI (33649) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.687160%  checkpoint: 100.000000%   energy consumed from battery: 0.765163% [0m
[0;32mI (33659) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.687160%).[0m
[0;32mI (33669) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.678581%  checkpoint: 100.000000%   energy consumed from battery: 1.136935% [0m
[0;32mI (33679) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.678581%).[0m
[0;32mI (33689) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.511151%  checkpoint: 100.000000%   energy consumed from battery: 0.511151% [0m
[0;32mI (33709) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.511151%).[0m
[0;32mI (33709) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.536779%  checkpoint: 100.000000%   energy consumed from battery: 0.536779% [0m
[0;32mI (33729) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.536779%).[0m
[0;32mI (33739) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.575127%  checkpoint: 100.000000%   energy consumed from battery: 0.575127% [0m
[0;32mI (33749) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.575127%).[0m
[0;32mI (33759) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.638786%  checkpoint: 100.000000%   energy consumed from battery: 0.638786% [0m
[0;32mI (33769) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.638786%).[0m
[0;32mI (33779) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.765163%  checkpoint: 100.000000%   energy consumed from battery: 0.765163% [0m
[0;32mI (33799) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.765163%).[0m
[0;32mI (33799) CalcDutyFreqFuncti Day3: sleep time: 200s  Battery level required at start: 45.832054%[0m
[0;32mI (33989) energy: Day4: sleep time: 200s  Battery level required at start: 42.800194%[0m
New adjustDutyFreqE event with ID: 3
[0;32mI (33999) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (34009) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34209) functions: SendToMqttFunction started[0m
[0;32mI (34209) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34209) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732963616839,"temp":26.6}]}]}> to topic 4/230/data[0m
[0;32mI (34239) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732963616839,"loadPower":400.4,"loadEnergy":7947.5,"batteryPower":98.4,"batteryEnergy":14539.0,"batteryRSOC":85.0,"panelPower":617.9,"panelEnergy":29008.8}]}]}> to topic 4/230/data[0m
[0;32mI (34259) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732963616839,"voltage":4.0,"rsoc":82.9,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34269) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732963616839,"period":300}]}]}> to topic 4/230/data[0m
[0;32mI (34279) functions: SendToMqttFunction terminated[0m
[0;32mI (34309) functions: SetSleepTimeFunction started[0m
[0;32mI (34309) energy: Set sleepTime_s to 200[0m
[0;32mI (34309) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35909) mqtt: MQTT resourceSleep[0m
[0;32mI (35909) energy: Energy manager terminates.[0m
[0;32mI (35909) energy: Energy manager terminated.[0m
[0;32mI (35909) energy: Mean panel power: 796.8 mW  duration duty cycle: 5s[0m
[0;32mI (35919) energy: Mean load power: 154.4 mW  duration duty cycle: 5s[0m
[0;32mI (35929) energy: Load energy: 28611242.0 mWs (diff: 772.0mWs)[0m
[0;32mI (35929) energy: Battery energy: 52341004.0 mWs (diff: 1932.0mWs)[0m
[0;32mI (35939) energy: Panel energy: 104433088.0 mWs (diff: 3984.0mWs)[0m
[0;32mI (35959) energy: Energy Manager saved state: (796.8, 1732963619714352, 154.4, 5, 1732963617804125, 0)[0m
[0;32mI (35969) energy: Energy saved: (28611250.0, 104433120.0, 52341020.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28611250.0, 104433120.0, 52341020.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 11:52:19 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24528) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25218) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25908) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":20}
[0;32mI (26598) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27278) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27968) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28678) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29368) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30058) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30748) energy: Energy Manager state retrieved: (796.8, 1732963619714352, 154.4, 5, 1732963617804125, 0)[0m
[0;32mI (30758) energy: Last mean panel power: 796.8mW[0m
[0;32mI (30758) energy: Duration of deep sleep: 296s[0m
[0;32mI (30758) energy: Mean load power: 154.4 mW  duration duty cycle: 5s[0m
[0;32mI (30768) energy: panel energy in deep sleep: 235852.8mWs[0m
[0;32mI (30778) energy: load energy in deep sleep: 651.2mWs[0m
[0;32mI (30778) energy: battery energy in deep sleep: 207350.4mWs[0m
New measureTemp event with ID: 4
New getNextDutyFreqE event with ID: 5
[0;32mI (31858) energy: Force deep sleep 200
[0m
[0;32mI (32958) functions: MeasureTempFunction started[0m
New temp event with ID: 6
[0;32mI (32978) functions: MeasureTempFunction terminated[0m
[0;32mI (33058) functions: CalcDutyFreqFunction started[0m
[0;32mI (33058) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33058) CalcDutyFreqFunction: Target battery level: 20.000000[0m
[0;32mI (33068) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33158) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33158) CalcDutyFreqFunction: Level Day0: 50.000000%  energy: 2630.043213mWh  Level Day1: 100.773041%[0m
[0;32mI (33168) CalcDutyFreqFunction: Level Day1: 100.000000%  energy: 2165.043213mWh  Level Day2: 141.796204%[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 615.043152mWh  Level Day3: 111.873421%[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -67.956848mWh  Level Day4: 98.688095%[0m
[0;32mI (33198) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33208) CalcDutyFreqFunction: Day1 battery checkpoint: 100.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 battery checkpoint: 98.688095[0m
[0;32mI (33238) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 11.080246%  checkpoint: 98.688095%   energy consumed from battery: 0.491966% [0m
[0;32mI (33248) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 11.080246%).[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 11.138474%  checkpoint: 98.688095%   energy consumed from battery: 0.513802% [0m
[0;32mI (33278) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 11.138474%).[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 11.225633%  checkpoint: 98.688095%   energy consumed from battery: 0.546488% [0m
[0;32mI (33298) CalcDutyFreqFunction: Pushed stack element (4, 800s, 11.225633%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 11.370432%  checkpoint: 98.688095%   energy consumed from battery: 0.600785% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 600s, 11.370432%).[0m
[0;32mI (33328) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 11.658228%  checkpoint: 98.688095%   energy consumed from battery: 0.708709% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (4, 400s, 11.658228%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 12.507586%  checkpoint: 98.688095%   energy consumed from battery: 1.027215% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (4, 200s, 12.507586%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 13.819491%  checkpoint: 100.000000%   energy consumed from battery: 1.311908% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 13.819491%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 13.877719%  checkpoint: 100.000000%   energy consumed from battery: 1.370138% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 13.877719%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 13.964877%  checkpoint: 100.000000%   energy consumed from battery: 1.457301% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 800s, 13.964877%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 14.109691%  checkpoint: 100.000000%   energy consumed from battery: 1.602094% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 600s, 14.109691%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 14.397487%  checkpoint: 100.000000%   energy consumed from battery: 1.889890% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (3, 400s, 14.397487%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 15.246821%  checkpoint: 100.000000%   energy consumed from battery: 2.739241% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (3, 200s, 15.246821%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 3.373401%  checkpoint: 100.000000%   energy consumed from battery: 0.491966% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 3.373401%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 3.431628%  checkpoint: 100.000000%   energy consumed from battery: 0.513802% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 3.431628%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 3.518790%  checkpoint: 100.000000%   energy consumed from battery: 0.546488% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 800s, 3.518790%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep t588) CalcDutyFreqFunction: Pushed stack element (2, 600s, 3.663591%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 3.951387%  checkpoint: 100.000000%   energy consumed from battery: 0.708709% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 400s, 3.951387%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 4.800736%  checkpoint: 100.000000%   energy consumed from battery: 1.027215% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 200s, 4.800736%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.491966%  checkpoint: 100.000000%   energy consumed from battery: 0.491966% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.491966%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.513802%  checkpoint: 100.000000%   energy consumed from battery: 0.513802% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.513802%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.546488%  checkpoint: 100.000000%   energy consumed from battery: 0.546488% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.546488%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.600785%  checkpoint: 100.000000%   energy consumed from battery: 0.600785% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.600785%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.708709%  checkpoint: 100.000000%   energy consumed from battery: 0.708709% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.708709%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 200s  required battery level 1.027215%  checkpoint: 100.000000%   energy consumed from battery: 1.027215% [0m
[0;32mIseconds[0m
[0;32mI (33958) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34158) functions: SendToMqttFunction started[0m
[0;32mI (34158) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34158) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732963948341,"temp":26.6}]}]}> to topic 4/230/data[0m
[0;32mI (34188) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732963948341,"loadPower":272.0,"loadEnergy":7948.8,"batteryPower":420.2,"batteryEnergy":14600.1,"batteryRSOC":99.0,"panelPower":635.5,"panelEnergy":29081.4}]}]}> to topic 4/230/data[0m
[0;32mI (34208) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732963948341,"voltage":4.0,"rsoc":82.5,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34218) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732963948341,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34228) functions: SendToMqttFunction terminated[0m
[0;32mI (34258) functions: SetSleepTimeFunction started[0m
[0;32mI (34258) energy: Set sleepTime_s to 200[0m
[0;32mI (34258) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35858) mqtt: MQTT resourceSleep[0m
[0;32mI (35858) energy: Energy manager terminates.[0m
[0;32mI (35858) energy: Energy manager terminated.[0m
[0;32mI (35858) energy: Mean panel power: 798.4 mW  duration duty cycle: 5s[0m
[0;32mI (35868) energy: Mean load power: 134.8 mW  duration duty cycle: 5s[0m
[0;32mI (35878) energy: Load energy: 28616048.0 mWs (diff: 674.0mWs)[0m
[0;32mI (35878) energy: Battery energy: 52561100.0 mWs (diff: 2024.0mWs)[0m
[0;32mI (35888) energy: Panel energy: 104694496.0 mWs (diff: 3992.0mWs)[0m
[0;32mI (35908) energy: Energy Manager saved state: (798.4, 1732963951210079, 134.8, 5, 1732963949299637, 0)[0m
[0;32mI (35918) energy: Energy saved: (28616056.0, 104694528.0, 52561116.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) load[0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (196) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (206) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) load[0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) load[0m
[0;32mI (529) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (529) boot: Disabling RNG early entropy source...[0m
[0;32mI (542) cpu_start: Multicore app[0m
[0;32mI (550) cpu_start: Pro cpu start user code[0m
[0;32mI (550) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (550) app_init: Application information:[0m
[0;32mI (553) app_init: Project name:     sif_dht[0m
[0;32mI (558) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (563) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (569) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (575) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (581) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (586) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (591) efuse_init: Chip rev:         v3.0[0m
[0;32mI (596) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (603) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (609) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (615) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (622) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (628) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (636) spi_flash: detected chip: generic[0m
[0;32mI (639) spi_flash: flash io: dio[0m
[0;33mW (643) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (669) main_task: Started on CPU0[0m
[0;32mI (679) main_task: Calling app_main()[0m
Wakeup was not caused by deep sleep: 0
[0;32mI (3889) energy: Energy retrieved: (28616056.0, 104694528.0, 52561116.0)[0m
wakeup clock
[0;32mI (23889) sntp: The current date/time in Germany is: Sat Nov 30 11:53:35 2024[0m
[0;32mI (23889) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24579) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25269) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25959) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":20}
[0;32mI (26639) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":50}
[0;32mI (27339) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28029) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28739) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29419) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30109) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30829) energy: Energy Manager state retrieved: (798.4, 1732963951210079, 134.8, 5, 1732963949299637, 0)[0m
[0;32mI (30839) energy: Last mean panel power: 798.4mW[0m
[0;32mI (30839) energy: Duration of deep sleep: 41s[0m
[0;32mI (30839) energy: Mean load power: 134.8 mW  duration duty cycle: 5s[0m
[0;32mI (30849) energy: panel energy in deep sleep: 32734.4mWs[0m
[0;32mI (30859) energy: load energy in deep sleep: 90.2mWs[0m
[0;32mI (30859) energy: battery energy in deep sleep: 30824.7mWs[0m
New measureTemp event with ID: 0
New getNextDutyFreqE event with ID: 1
[0;32mI (31949) energy: Force deep sleep 300
[0m
[0;32mI (33049) functions: MeasureTempFunction started[0m
New temp event with ID: 2
[0;32mI (33069) functions: MeasureTempFunction terminated[0m
[0;32mI (33149) functions: CalcDutyFreqFunction started[0m
[0;32mI (33149) CalcDutyFreqFunction: Start battery level: 50.000000[0m
[0;32mI (33149) CalcDutyFreqFunction: Target battery level: 20.000000[0m
[0;32mI (33149) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33159) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33169) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33169) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33179) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33239) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33249) CalcDutyFreqFunction: Level Day0: 50.000000%  energy: 2631.995117mWh  Level Day1: 100.810715%[0m
[0;32mI (33259) CalcDutyFreqFunction: Level Day1: 100.000000%  energy: 2166.995117mWh  Level Day2: 141.833893%[0m
[0;32mI (33269) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 616.994995mWh  Level Day3: 111.911102%[0m
[0;32mI (33279) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -66.004974mWh  Level Day4: 98.725769%[0m
[0;32mI (33289) CalcDutyFreqFunction: Day0 battery checkpoint: 50.000000[0m
[0;32mI (33299) CalcDutyFreqFunction: Day1 battery checkpoint: 100.000000[0m
[0;32mI (33309) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33309) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33319) CalcDutyFreqFunction: Day4 battery checkpoint: 98.725769[0m
[0;32mI (33329) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 11.042568%  checkpoint: 98.725769%   energy consumed from battery: 0.477835% [0m
[0;32mI (33339) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 11.042568%).[0m
[0;32mI (33349) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 11.093292%  checkpoint: 98.725769%   energy consumed from battery: 0.496859% [0m
[0;32mI (33359) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 11.093292%).[0m
[0;32mI (33369) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 11.169235%  checkpoint: 98.725769%   energy consumed from battery: 0.525336% [0m
[0;32mI (33389) CalcDutyFreqFunction: Pushed stack element (4, 800s, 11.169235%).[0m
[0;32mI (33389) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 11.295391%  checkpoint: 98.725769%   energy consumed from battery: 0.572641% [0m
[0;32mI (33409) CalcDutyFreqFunction: Pushed stack element (4, 600s, 11.295391%).[0m
[0;32mI (33419) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 11.546112%  checkpoint: 98.725769%   energy consumed from battery: 0.666667% [0m
[0;32mI (33429) CalcDutyFreqFunction: Pushed stack element (4, 400s, 11.546112%).[0m
[0;32mI (33439) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 12.286086%  checkpoint: 98.725769%   energy consumed from battery: 0.944157% [0m
[0;32mI (33449) CalcDutyFreqFunction: Pushed stack element (4, 200s, 12.286086%).[0m
[0;32mI (33459) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 13.560317%  checkpoint: 100.000000%   energy consumed from battery: 1.274227% [0m
[0;32mI (33479) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 13.560317%).[0m
[0;32mI (33479) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 13.611037%  checkpoint: 100.000000%   energy consumed from battery: 1.324959% [0m
[0;32mI (33499) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 13.611037%).[0m
[0;32mI (33509) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 13.686980%  checkpoint: 100.000000%   energy consumed from battery: 1.400897% [0m
[0;32mI (33519) CalcDutyFreqFunction: Pushed stack element (3, 800s, 13.686980%).[0m
[0;32mI (33529) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 13.813140%  checkpoint: 100.000000%   energy consumed from battery: 1.527043% [0m
[0;32mI (33539) CalcDutyFreqFunction: Pushed stack element (3, 600s, 13.813140%).[0m
[0;32mI (33549) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 14.063857%  checkpoint: 100.000000%   energy consumed from battery: 1.777778% [0m
[0;32mI (33569) CalcDutyFreqFunction: Pushed stack element (3, 400s, 14.063857%).[0m
[0;32mI (33569) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 14.803832%  checkpoint: 100.000000%   energy consumed from battery: 2.517751% [0m
[0;32mI (33589) CalcDutyFreqFunction: Pushed stack element (3, 200s, 14.803832%).[0m
[0;32mI (33599) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 2.892733%  checkpoint: 100.000000%   energy consumed from battery: 0.477835% [0m
[0;32mI (33609) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 2.892733%).[0m
[0;32mI (33619) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 2.943458%  checkpoint: 100.000000%   energy consumed from battery: 0.496859% [0m
[0;32mI (33629) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 2.943458%).[0m
[0;32mI (33639) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 3.019399%  checkpoint: 100.000000%   energy consumed from battery: 0.525336% [0m
[0;32mI (33649) CalcDutyFreqFunction: Pushed stack element (2, 800s, 3.019399%).[0m
[0;32mI (33659) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 3.145550%  checkpoint: 100.000000%   energy consumed from battery: 0.572641% [0m
[0;32mI (33679) CalcDutyFreqFunction: Pushed stack element (2, 600s, 3.145550%).[0m
[0;32mI (33679) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 3.396279%  checkpoint: 100.000000%   energy consumed from battery: 0.666667% [0m
[0;32mI (33699) CalcDutyFreqFunction: Pushed stack element (2, 400s, 3.396279%).[0m
[0;32mI (33709) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 4.136252%  checkpoint: 100.000000%   energy consumed from battery: 0.944157% [0m
[0;32mI (33719) CalcDutyFreqFunction: Pushed stack element (2, 200s, 4.136252%).[0m
[0;32mI (33729) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.477835%  checkpoint: 100.000000%   energy consumed from battery: 0.477835% [0m
[0;32mI (33739) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.477835%).[0m
[0;32mI (33749) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.496859%  checkpoint: 100.000000%   energy consumed from battery: 0.496859% [0m
[0;32mI (33769) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.496859%).[0m
[0;32mI (33769) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.525336%  checkpoint: 100.000000%   energy consumed from battery: 0.525336% [0m
[0;32mI (33789) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.525336%).[0m
[0;32mI (33799) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.572641%  checkpoint: 100.000000%   energy consumed from battery: 0.572641% [0m
[0;32mI (33809) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.572641%).[0m
[0;32mI (33819) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.666667%  checkpoint: 100.000000%   energy consumed from battery: 0.666667% [0m
[0;32mI (33829) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.666667%).[0m
[0;32mI (33839) CalcDutyFreqFunction: Day1 sletime: 200s  Battery level required at start: 14.803832%[0m
[0;32mI (34029) energy: Day4: sleep time: 200s  Battery level required at start: 12.286086%[0m
New adjustDutyFreqE event with ID: 3
[0;32mI (34039) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (34049) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34249) functions: SendToMqttFunction started[0m
[0;32mI (34249) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34249) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732964024560,"temp":26.7}]}]}> to topic 4/230/data[0m
[0;32mI (34279) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732964024560,"loadPower":303.6,"loadEnergy":7950.0,"batteryPower":437.8,"batteryEnergy":14612.2,"batteryRSOC":97.0,"panelPower":634.4,"panelEnergy":29097.6}]}]}> to topic 4/230/data[0m
[0;32mI (34299) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732964024560,"voltage":4.0,"rsoc":80.9,"rate":-3.3}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34309) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732964024560,"period":300}]}]}> to topic 4/230/data[0m
[0;32mI (34319) functions: SendToMqttFunction terminated[0m
[0;32mI (34349) functions: SetSleepTimeFunction started[0m
[0;32mI (34349) energy: Set sleepTime_s to 200[0m
[0;32mI (34349) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35949) mqtt: MQTT resourceSleep[0m
[0;32mI (35949) energy: Energy manager terminates.[0m
[0;32mI (35949) energy: Energy manager terminated.[0m
[0;32mI (35949) energy: Mean panel power: 803.2 mW  duration duty cycle: 5s[0m
[0;32mI (35959) energy: Mean load power: 130.8 mW  duration duty cycle: 5s[0m
[0;32mI (35969) energy: Load energy: 28620048.0 mWs (diff: 654.0mWs)[0m
[0;32mI (35969) energy: Battery energy: 52604672.0 mWs (diff: 2020.0mWs)[0m
[0;32mI (35979) energy: Panel energy: 104752840.0 mWs (diff: 4016.0mWs)[0m
[0;32mI (35999) energy: Energy Manager saved state: (803.2, 1732964027433961, 130.8, 5, 1732964025521751, 0)[0m
[0;32mI (36009) energy: Energy saved: (28620056.0, 104752872.0, 52604688.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) load[0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (196) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (206) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) load[0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) load[0m
[0;32mI (529) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (529) boot: Disabling RNG early entropy source...[0m
[0;32mI (542) cpu_start: Multicore app[0m
[0;32mI (550) cpu_start: Pro cpu start user code[0m
[0;32mI (550) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (550) app_init: Application information:[0m
[0;32mI (553) app_init: Project name:     sif_dht[0m
[0;32mI (558) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (563) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (569) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (575) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (581) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (586) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (591) efuse_init: Chip rev:         v3.0[0m
[0;32mI (596) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (603) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (609) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (615) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (622) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (628) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (636) spi_flash: detected chip: generic[0m
[0;32mI (639) spi_flash: flash io: dio[0m
[0;33mW (643) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (669) main_task: Started on CPU0[0m
[0;32mI (679) main_task: Calling app_main()[0m
Wakeup was not caused by deep sleep: 0
[0;32mI (3879) energy: Energy retrieved: (28620056.0, 104752872.0, 52604688.0)[0m
wakeup clock
[0;32mI (23879) sntp: The current date/time in Germany is: Sat Nov 30 11:54:50 2024[0m
[0;32mI (23879) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24599) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25269) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25949) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26629) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27329) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28029) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28709) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29429) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30109) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30799) energy: Energy Manager state retrieved: (803.2, 1732964027433961, 130.8, 5, 1732964025521751, 0)[0m
[0;32mI (30809) energy: Last mean panel power: 803.2mW[0m
[0;32mI (30809) energy: Duration of deep sleep: 40s[0m
[0;32mI (30819) energy: Mean load power: 130.8 mW  duration duty cycle: 5s[0m
[0;32mI (30819) energy: panel energy in deep sleep: 32128.0mWs[0m
[0;32mI (30829) energy: load energy in deep sleep: 88.0mWs[0m
[0;32mI (30829) energy: battery energy in deep sleep: 28857.9mWs[0m
New measureTemp event with ID: 0
New getNextDutyFreqE event with ID: 1
[0;32mI (31909) energy: Force deep sleep 300
[0m
[0;32mI (33009) functions: MeasureTempFunction started[0m
New temp event with ID: 2
[0;32mI (33029) functions: MeasureTempFunction terminated[0m
[0;32mI (33109) functions: CalcDutyFreqFunction started[0m
[0;32mI (33109) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33109) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33119) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33119) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33129) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33129) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33139) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33209) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33209) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2632.393311mWh  Level Day1: 70.818405%[0m
[0;32mI (33219) CalcDutyFreqFunction: Level Day1: 70.818405%  energy: 2167.393311mWh  Level Day2: 112.659973%[0m
[0;32mI (33229) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 617.393372mWh  Level Day3: 111.918793%[0m
[0;32mI (33239) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -65.606636mWh  Level Day4: 98.733459%[0m
[0;32mI (33249) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33259) CalcDutyFreqFunction: Day1 battery checkpoint: 70.818405[0m
[0;32mI (33269) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33279) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33279) CalcDutyFreqFunction: Day4 battery checkpoint: 98.733459[0m
[0;32mI (33289) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.034882%  checkpoint: 98.733459%   energy consumed from battery: 0.474952% [0m
[0;32mI (33299) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.034882%).[0m
[0;32mI (33309) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.084053%  checkpoint: 98.733459%   energy consumed from battery: 0.493402% [0m
[0;32mI (33329) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.084053%).[0m
[0;32mI (33329) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.157738%  checkpoint: 98.733459%   energy consumed from battery: 0.521020% [0m
[0;32mI (33349) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.157738%).[0m
[0;32mI (33359) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.280060%  checkpoint: 98.733459%   energy consumed from battery: 0.566897% [0m
[0;32mI (33369) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.280060%).[0m
[0;32mI (33379) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.523228%  checkpoint: 98.733459%   energy consumed from battery: 0.658087% [0m
[0;32mI (33389) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.523228%).[0m
[0;32mI (33399) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.240898%  checkpoint: 98.733459%   energy consumed from battery: 0.927206% [0m
[0;32mI (33419) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.240898%).[0m
[0;32mI (33419) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 43.507439%  checkpoint: 100.000000%   energy consumed from battery: 1.266537% [0m
[0;32mI (33439) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 43.507439%).[0m
[0;32mI (33449) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 43.556602%  checkpoint: 100.000000%   energy consumed from battery: 1.315738% [0m
[0;32mI (33459) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 43.556602%).[0m
[0;32mI (33469) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 43.630302%  checkpoint: 100.000000%   energy consumed from battery: 1.389386% [0m
[0;32mI (33479) CalcDutyFreqFunction: Pushed stack element (3, 800s, 43.630302%).[0m
[0;32mI (33489) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 43.752617%  checkpoint: 100.000000%   energy consumed from battery: 1.511726% [0m
[0;32mI (33499) CalcDutyFreqFunction: Pushed stack element (3, 600s, 43.752617%).[0m
[0;32mI (33509) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 43.995781%  checkpoint: 100.000000%   energy consumed from battery: 1.754897% [0m
[0;32mI (33529) CalcDutyFreqFunction: Pushed stack element (3, 400s, 43.995781%).[0m
[0;32mI (33529) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 44.713463%  checkpoint: 100.000000%   energy consumed from battery: 2.472549% [0m
[0;32mI (33549) CalcDutyFreqFunction: Pushed stack element (3, 200s, 44.713463%).[0m
[0;32mI (33559) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 32.794674%  checkpoint: 100.000000%   energy consumed from battery: 0.474952% [0m
[0;32mI (33569) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 32.794674%).[0m
[0;32mI (33579) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 32.843849%  checkpoint: 100.000000%   energy consumed from battery: 0.493402% [0m
[0;32mI (33589) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 32.843849%).[0m
[0;32mI (33599) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 32.917534%  checkpoint: 100.000000%   energy consumed from battery: 0.521020% [0m
[0;32mI (33619) CalcDutyFreqFunction: Pushed stack element (2, 800s, 32.917534%).[0m
[0;32mI (33619) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 33.039852%  checkpoint: 100.000000%   energy consumed from battery: 0.566897% [0m
[0;32mI (33639) CalcDutyFreqFunction: Pushed stack element (2, 600s, 33.039852%).[0m
[0;32mI (33649) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 33.283016%  checkpoint: 100.000000%   energy consumed from battery: 0.658087% [0m
[0;32mI (33659) CalcDutyFreqFunction: Pushed stack element (2, 400s, 33.283016%).[0m
[0;32mI (33669) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 34.000698%  checkpoint: 100.000000%   energy consumed from battery: 0.927206% [0m
[0;32mI (33679) CalcDutyFreqFunction: Pushed stack element (2, 200s, 34.000698%).[0m
[0;32mI (33689) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.474952%  checkpoint: 70.818405%   energy consumed from battery: 0.474952% [0m
[0;32mI (33709) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.474952%).[0m
[0;32mI (33709) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.493402%  checkpoint: 70.818405%   energy consumed from battery: 0.493402% [0m
[0;32mI (33729) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.493402%).[0m
[0;32mI (33739) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.521020%  checkpoint: 70.818405%   energy consumed from battery: 0.521020% [0m
[0;32mI (33749) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.521020%).[0m
[0;32mI (33759) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.566897%  checkpoint: 70.818405%   energy consumed from battery: 0.566897% [0m
[0;32mI (33769) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.566897%).[0m
[0;32mI (33779) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.658087%  checkpoint: 70.818405%   energy consumed from battery: 0.658087% [0m
[0;32mI (33789) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.658087%).[0m
[0;32mI (33799) CalcDutyFreqFunction: Day1equired at start: 42.240898%[0m
New adjustDutyFreqE event with ID: 3
[0;32mI (33999) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (34009) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34209) functions: SendToMqttFunction started[0m
[0;32mI (34209) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34209) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732964099725,"temp":26.7}]}]}> to topic 4/230/data[0m
[0;32mI (34239) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732964099725,"loadPower":241.2,"loadEnergy":7951.1,"batteryPower":427.4,"batteryEnergy":14623.8,"batteryRSOC":98.0,"panelPower":637.0,"panelEnergy":29113.6}]}]}> to topic 4/230/data[0m
[0;32mI (34259) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732964099725,"voltage":4.0,"rsoc":81.9,"rate":-4.2}]}]}> to topic 4/230/data[0m
hour: 11  lastHour:11
[0;32mI (34269) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732964099725,"period":300}]}]}> to topic 4/230/data[0m
[0;32mI (34279) functions: SendToMqttFunction terminated[0m
[0;32mI (34309) functions: SetSleepTimeFunction started[0m
[0;32mI (34309) energy: Set sleepTime_s to 200[0m
[0;32mI (34309) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35909) mqtt: MQTT resourceSleep[0m
[0;32mI (35909) energy: Energy manager terminates.[0m
[0;32mI (35909) energy: Energy manager terminated.[0m
[0;32mI (35909) energy: Mean panel power: 798.4 mW  duration duty cycle: 5s[0m
[0;32mI (35919) energy: Mean load power: 133.2 mW  duration duty cycle: 5s[0m
[0;32mI (35929) energy: Load energy: 28624310.0 mWs (diff: 666.0mWs)[0m
[0;32mI (35929) energy: Battery energy: 52646272.0 mWs (diff: 2008.0mWs)[0m
[0;32mI (35939) energy: Panel energy: 104810480.0 mWs (diff: 3992.0mWs)[0m
[0;32mI (35959) energy: Energy Manager saved state: (798.4, 1732964102596773, 133.2, 5, 1732964100686883, 0)[0m
[0;32mI (35979) energy: Energy saved: (28624322.0, 104810528.0, 52646296.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) load[0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (196) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (206) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) load[0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) load[0m
[0;32mI (529) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (529) boot: Disabling RNG early entropy source...[0m
[0;32mI (542) cpu_start: Multicore app[0m
[0;32mI (550) cpu_start: Pro cpu start user code[0m
[0;32mI (550) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (550) app_init: Application information:[0m
[0;32mI (553) app_init: Project name:     sif_dht[0m
[0;32mI (558) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (563) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (569) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (575) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (581) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (586) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (591) efuse_init: Chip rev:         v3.0[0m
[0;32mI (596) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (603) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (609) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (615) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (622) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (628) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (636) spi_flash: detected chip: generic[0m
[0;32mI (639) spi_flash: flash io: dio[0m
[0;33mW (643) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (669) main_task: Started on CPU0[0m
[0;32mI (679) main_task: Calling app_main()[0m
Wakeup was not caused by deep sleep: 0
[0;32mI (3889) energy: Energy retrieved: (28624322.0, 104810528.0, 52646296.0)[0m
wakeup clock
[0;32mI (23899) sntp: The current date/time in Germany is: Sat Nov 30 12:00:13 2024[0m
[0;32mI (23899) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24589) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25279) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25969) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26649) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27319) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28009) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28709) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29419) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30119) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,2,14,13,10,5,2,0,0,0,0,0,0,0,0,0]}
[0;32mI (30809) energy: Energy Manager state retrieved: (798.4, 1732964102596773, 133.2, 5, 1732964100686883, 0)[0m
[0;32mI (30819) energy: Last mean panel power: 798.4mW[0m
[0;32mI (30819) energy: Duration of deep sleep: 287s[0m
[0;32mI (30819) energy: Mean load power: 133.2 mW  duration duty cycle: 5s[0m
[0;32mI (30829) energy: panel energy in deep sleep: 229140.8mWs[0m
[0;32mI (30839) energy: load energy in deep sleep: 631.4mWs[0m
[0;32mI (30839) energy: battery energy in deep sleep: 208540.6mWs[0m
New measureTemp event with ID: 0
New getNextDutyFreqE event with ID: 1
[0;32mI (31919) energy: Force deep sleep 300
[0m
[0;32mI (33019) functions: MeasureTempFunction started[0m
New temp event with ID: 2
[0;32mI (33039) functions: MeasureTempFunction terminated[0m
[0;32mI (33119) functions: CalcDutyFreqFunction started[0m
[0;32mI (33119) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33119) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33129) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33129) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33139) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33139) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33149) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,2.00,14.00,13.00,10.00,5.00,2.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33219) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33219) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2632.154297mWh  Level Day1: 70.813789%[0m
[0;32mI (33229) CalcDutyFreqFunction: Level Day1: 70.813789%  energy: 2167.154297mWh  Level Day2: 112.650742%[0m
[0;32mI (33239) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 617.154358mWh  Level Day3: 111.914177%[0m
[0;32mI (33249) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -65.845642mWh  Level Day4: 98.728851%[0m
[0;32mI (33259) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33269) CalcDutyFreqFunction: Day1 battery checkpoint: 70.813789[0m
[0;32mI (33279) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33279) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33289) CalcDutyFreqFunction: Day4 battery checkpoint: 98.728851[0m
[0;32mI (33299) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 50.383095%  checkpoint: 98.728851%   energy consumed from battery: 0.491036% [0m
[0;32mI (33309) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 50.383095%).[0m
[0;32mI (33319) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 50.433250%  checkpoint: 98.728851%   energy consumed from battery: 0.511919% [0m
[0;32mI (33339) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 50.433250%).[0m
[0;32mI (33339) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 50.508247%  checkpoint: 98.728851%   energy consumed from battery: 0.543178% [0m
[0;32mI (33359) CalcDutyFreqFunction: Pushed stack element (4, 800s, 50.508247%).[0m
[0;32mI (33369) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 50.632854%  checkpoint: 98.728851%   energy consumed from battery: 0.632885% [0m
[0;32mI (33379) CalcDutyFreqFunction: Pushed stack element (4, 600s, 50.632854%).[0m
[0;32mI (33389) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 50.880589%  checkpoint: 98.728851%   energy consumed from battery: 0.880595% [0m
[0;32mI (33399) CalcDutyFreqFunction: Pushed stack element (4, 400s, 50.880589%).[0m
[0;32mI (33409) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 51.611637%  checkpoint: 98.728851%   energy consumed from battery: 1.611639% [0m
[0;32mI (33419) CalcDutyFreqFunction: Pushed stack element (4, 200s, 51.611637%).[0m
[0;32mI (33429) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 52.882755%  checkpoint: 100.000000%   energy consumed from battery: 1.271151% [0m
[0;32mI (33449) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 52.882755%).[0m
[0;32mI (33449) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 52.932926%  checkpoint: 100.000000%   energy consumed from battery: 1.321270% [0m
[0;32mI (33469) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 52.932926%).[0m
[0;32mI (33479) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 53.007908%  checkpoint: 100.000000%   energy consumed from battery: 1.396292% [0m
[0;32mI (33489) CalcDutyFreqFunction: Pushed stack element (3, 800s, 53.007908%).[0m
[0;32mI (33499) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 53.132511%  checkpoint: 100.000000%   energy consumed from battery: 1.520917% [0m
[0;32mI (33509) CalcDutyFreqFunction: Pushed stack element (3, 600s, 53.132511%).[0m
[0;32mI (33519) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 53.380253%  checkpoint: 100.000000%   energy consumed from battery: 1.768626% [0m
[0;32mI (33539) CalcDutyFreqFunction: Pushed stack element (3, 400s, 53.380253%).[0m
[0;32mI (33539) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 54.111301%  checkpoint: 100.000000%   energy consumed from battery: 2.499670% [0m
[0;32mI (33559) CalcDutyFreqFunction: Pushed stack element (3, 200s, 54.111301%).[0m
[0;32mI (33569) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 42.197102%  checkpoint: 100.000000%   energy consumed from battery: 0.476682% [0m
[0;32mI (33579) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 42.197102%).[0m
[0;32mI (33589) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 42.247257%  checkpoint: 100.000000%   energy consumed from battery: 0.495476% [0m
[0;32mI (33599) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 42.247257%).[0m
[0;32mI (33609) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 42.322247%  checkpoint: 100.000000%   energy consumed from battery: 0.523610% [0m
[0;32mI (33629) CalcDutyFreqFunction: Pushed stack element (2, 800s, 42.322247%).[0m
[0;32mI (33629) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 42.446857%  checkpoint: 100.000000%   energy consumed from battery: 0.570344% [0m
[0;32mI (33649) CalcDutyFreqFunction: Pushed stack element (2, 600s, 42.446857%).[0m
[0;32mI (33659) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 42.694588%  checkpoint: 100.000000%   energy consumed from battery: 0.663235% [0m
[0;32mI (33669) CalcDutyFreqFunction: Pushed stack element (2, 400s, 42.694588%).[0m
[0;32mI (33679) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 43.425636%  checkpoint: 100.000000%   energy consumed from battery: 0.937376% [0m
[0;32mI (33689) CalcDutyFreqFunction: Pushed stack element (2, 200s, 43.425636%).[0m
[0;32mI (33699) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 1.588668%  checkpoint: 70.813789%   energy consumed from battery: 0.476682% [0m
[0;32mI (33719) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 1.588668%).[0m
[0;32mI (33719) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 1.638805%  checkpoint: 70.813789%   energy consumed from battery: 0.495476% [0m
[0;32mI (33739) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 1.638805%).[0m
[0;32mI (33749) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 1.713816%  checkpoint: 70.813789%   energy consumed from battery: 0.523610% [0m
[0;32mI (33759) CalcDutyFreqFunction: Pushed stack element (1, 800s, 1.713816%).[0m
[0;32mI (33769) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 1.838431%  checkpoint: 70.813789%   energy consumed from battery: 0.570344% [0m
[0;32mI (33779) CalcDutyFreqFunction: Pushed stack element (1, 600s, 1.838431%).[0m
[0;32mI (33789) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 2.086153%  checkpoint: 70.813789%   energy consumed from battery: 0.663235% [0m
[0;32mI (33799) CalcDutyFreqFunction: Pushed stack element (1, 400s, 2.086153%).[0m
[0;32mI (33809) CalcDutyFreqFunction: Day1 sleepme: 200s  Battery level required at start: 54.111301%[0m
[0;32mI (33999) energy: Day4: sleep time: 200s  Battery level required at start: 51.611637%[0m
New adjustDutyFreqE event with ID: 3
[0;32mI (34009) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (34019) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34219) functions: SendToMqttFunction started[0m
[0;32mI (34219) energy: Energy status for hourly reporting retrieved: (1732960959450518, 28535178.0, 102837992.0, 50899736.0)[0m
[0;32mI (34219) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732964422615,"temp":26.8}]}]}> to topic 4/230/data[0m
[0;32mI (34249) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732964422615,"loadPower":295.1,"loadEnergy":7952.4,"batteryPower":433.0,"batteryEnergy":14685.2,"batteryRSOC":98.0,"panelPower":632.6,"panelEnergy":29184.4}]}]}> to topic 4/230/data[0m
[0;32mI (34269) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732964422615,"voltage":4.0,"rsoc":81.7,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:11
[0;32mI (34279) mqtt: Sent <{"sensors":[{"name":"energyHourly","values":[{"timestamp":1732964422615,"energyLoad":26.0,"energyPanel":618.3,"energyBattery":546.4}]}]}> to topic 4/230/data[0m
[0;32mI (34309) energy: Energy stats saved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34319) functions: SetSleepTimeFunction started[0m
[0;32mI (34319) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732964422615,"period":300}]}]}> to topic 4/230/data[0m
[0;32mI (34319) energy: Set sleepTime_s to 200[0m
[0;32mI (34339) functions: SetSleepTimeFunction terminated[0m
[0;32mI (34339) functions: SendToMqttFunction terminated[0m
[0;32mI (35919) mqtt: MQTT resourceSleep[0m
[0;32mI (35919) energy: Energy manager terminates.[0m
[0;32mI (35919) energy: Energy manager terminated.[0m
[0;32mI (35919) energy: Mean panel power: 795.2 mW  duration duty cycle: 5s[0m
[0;32mI (35929) energy: Mean load power: 129.6 mW  duration duty cycle: 5s[0m
[0;32mI (35929) energy: Load energy: 28628862.0 mWs (diff: 648.0mWs)[0m
[0;32mI (35939) energy: Battery energy: 52867552.0 mWs (diff: 1996.0mWs)[0m
[0;32mI (35949) energy: Panel energy: 105065136.0 mWs (diff: 3976.0mWs)[0m
[0;32mI (35959) energy: Energy Manager saved state: (795.2, 1732964425483763, 129.6, 5, 1732964423575527, 0)[0m
[0;32mI (35969) energy: Energy saved: (28628870.0, 105065184.0, 52867576.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28628870.0, 105065184.0, 52867576.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 12:05:45 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24498) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25198) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25888) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26618) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27298) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27988) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28678) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29358) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30038) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30738) energy: Energy Manager state retrieved: (795.2, 1732964425483763, 129.6, 5, 1732964423575527, 0)[0m
[0;32mI (30748) energy: Last mean panel power: 795.2mW[0m
[0;32mI (30748) energy: Duration of deep sleep: 296s[0m
[0;32mI (30748) energy: Mean load power: 129.6 mW  duration duty cycle: 5s[0m
[0;32mI (30758) energy: panel energy in deep sleep: 235379.2mWs[0m
[0;32mI (30768) energy: load energy in deep sleep: 651.2mWs[0m
[0;32mI (30768) energy: battery energy in deep sleep: 208925.7mWs[0m
New measureTemp event with ID: 4
New getNextDutyFreqE event with ID: 5
[0;32mI (31858) energy: Force deep sleep 200
[0m
[0;32mI (32948) functions: MeasureTempFunction started[0m
New temp event with ID: 6
[0;32mI (32968) functions: MeasureTempFunction terminated[0m
[0;32mI (33048) functions: CalcDutyFreqFunction started[0m
[0;32mI (33048) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33048) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33058) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33148) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33148) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2632.512939mWh  Level Day1: 70.820709%[0m
[0;32mI (33158) CalcDutyFreqFunction: Level Day1: 70.820709%  energy: 2167.512939mWh  Level Day2: 112.664589%[0m
[0;32mI (33168) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 617.512878mWh  Level Day3: 111.921097%[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -65.487137mWh  Level Day4: 98.735771%[0m
[0;32mI (33188) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33198) CalcDutyFreqFunction: Day1 battery checkpoint: 70.820709[0m
[0;32mI (33208) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day4 battery checkpoint: 98.735771[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.032585%  checkpoint: 98.735771%   energy consumed from battery: 0.474086% [0m
[0;32mI (33238) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.032585%).[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.081299%  checkpoint: 98.735771%   energy consumed from battery: 0.492364% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.081299%).[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.154266%  checkpoint: 98.735771%   energy consumed from battery: 0.519725% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.154266%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.275475%  checkpoint: 98.735771%   energy consumed from battery: 0.565174% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.275475%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.516361%  checkpoint: 98.735771%   energy consumed from battery: 0.655513% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.516361%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.227348%  checkpoint: 98.735771%   energy consumed from battery: 0.922121% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.227348%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 43.491600%  checkpoint: 100.000000%   energy consumed from battery: 1.264230% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 43.491600%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 43.540306%  checkpoint: 100.000000%   energy consumed from battery: 1.312972% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 43.540306%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 43.613274%  checkpoint: 100.000000%   energy consumed from battery: 1.385932% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 800s, 43.613274%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 43.734489%  checkpoint: 100.000000%   energy consumed from battery: 1.507131% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 600s, 43.734489%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 43.975365%  checkpoint: 100.000000%   energy consumed from battery: 1.748034% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 400s, 43.975365%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 44.686363%  checkpoint: 100.000000%   energy consumed from battery: 2.458989% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 200s, 44.686363%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 32.765282%  checkpoint: 100.000000%   energy consumed from battery: 0.474086% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 32.765282%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 32.813992%  checkpoint: 100.000000%   energy consumed from battery: 0.492364% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 32.813992%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 32.886959%  checkpoint: 100.000000%   energy consumed from battery: 0.519725% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 800s, 32.886959%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 33.008175%  checkpoint: 100.000000%   energy consumed from battery: 0.565174% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 600s, 33.008175%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 33.249050%  checkpoint: 100.000000%   energy consumed from battery: 0.655513% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 400s, 33.249050%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 33.960045%  checkpoint: 100.000000%   energy consumed from battery: 0.922121% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 200s, 33.960045%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.474086%  checkpoint: 70.820709%   energy consumed from battery: 0.474086% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.474086%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.492364%  checkpoint: 70.820709%   energy consumed from battery: 0.492364% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.492364%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.519725%  checkpoint: 70.820709%   energy consumed from battery: 0.519725% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.519725%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.565174%  checkpoint: 70.820709%   energy consumed from battery: 0.565174% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.565174%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.655513%  checkpoint: 70.820709%   energy consumed from battery: 0.655513% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.655513%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 44.686363%[0m
[0;32mI (33928) energy: Day4: sleep time: 200s  Battery level required at start: 42.227348%[0m
New adjustDutyFreqE event with ID: 7
[0;32mI (33938) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33948) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34148) functions: SendToMqttFunction started[0m
[0;32mI (34148) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34148) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732964754374,"temp":26.9}]}]}> to topic 4/230/data[0m
[0;32mI (34178) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732964754374,"loadPower":507.6,"loadEnergy":7954.2,"batteryPower":180.6,"batteryEnergy":14746.3,"batteryRSOC":95.0,"panelPower":636.3,"panelEnergy":29256.9}]}]}> to topic 4/230/data[0m
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732964754374,"voltage":4.0,"rsoc":82.4,"rate":-3.3}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34208) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732964754374,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34218) functions: SendToMqttFunction terminated[0m
[0;32mI (34248) functions: SetSleepTimeFunction started[0m
[0;32mI (34248) energy: Set sleepTime_s to 200[0m
[0;32mI (34248) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35858) mqtt: MQTT resourceSleep[0m
[0;32mI (35858) energy: Energy manager terminates.[0m
[0;32mI (35858) energy: Energy manager terminated.[0m
[0;32mI (35858) energy: Mean panel power: 796.8 mW  duration duty cycle: 5s[0m
[0;32mI (35868) energy: Mean load power: 182.0 mW  duration duty cycle: 5s[0m
[0;32mI (35868) energy: Load energy: 28635328.0 mWs (diff: 910.0mWs)[0m
[0;32mI (35878) energy: Battery energy: 53087344.0 mWs (diff: 1740.0mWs)[0m
[0;32mI (35888) energy: Panel energy: 105326024.0 mWs (diff: 3984.0mWs)[0m
[0;32mI (35898) energy: Energy Manager saved state: (796.8, 1732964757253544, 182.0, 5, 1732964755336069, 0)[0m
[0;32mI (35968) energy: Energy saved: (28635340.0, 105326072.0, 53087368.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (4318) energy: Energy retrieved: (28635340.0, 105326072.0, 53087368.0)[0m
wakeup clock
[0;32mI (24318) sntp: The current date/time in Germany is: Sat Nov 30 12:09:39 2024[0m
[0;32mI (24318) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (25018) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25708) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (26398) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (27088) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27778) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28468) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (29158) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29848) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30548) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (31258) energy: Energy Manager state retrieved: (796.8, 1732964757253544, 182.0, 5, 1732964755336069, 0)[0m
[0;32mI (31258) energy: Last mean panel power: 796.8mW[0m
[0;32mI (31258) energy: Duration of deep sleep: 198s[0m
[0;32mI (31268) energy: Mean load power: 182.0 mW  duration duty cycle: 5s[0m
[0;32mI (31268) energy: panel energy in deep sleep: 157766.4mWs[0m
[0;32mI (31278) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (31288) energy: battery energy in deep sleep: 136596.0mWs[0m
New measureTemp event with ID: 8
New getNextDutyFreqE event with ID: 9
[0;32mI (32358) energy: Force deep sleep 200
[0m
[0;32mI (33458) functions: MeasureTempFunction started[0m
New temp event with ID: 10
[0;32mI (33478) functions: MeasureTempFunction terminated[0m
[0;32mI (33558) functions: CalcDutyFreqFunction started[0m
[0;32mI (33558) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33558) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33568) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33568) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33578) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33588) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33658) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33658) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.294678mWh  Level Day1: 70.719978%[0m
[0;32mI (33668) CalcDutyFreqFunction: Level Day1: 70.719978%  energy: 2162.294678mWh  Level Day2: 112.463120%[0m
[0;32mI (33678) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.294617mWh  Level Day3: 111.820358%[0m
[0;32mI (33688) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.705399mWh  Level Day4: 98.635033%[0m
[0;32mI (33698) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33708) CalcDutyFreqFunction: Day1 battery checkpoint: 70.719978[0m
[0;32mI (33718) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33728) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33728) CalcDutyFreqFunction: Day4 battery checkpoint: 98.635033[0m
[0;32mI (33738) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.133301%  checkpoint: 98.635033%   energy consumed from battery: 0.511863% [0m
[0;32mI (33748) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.133301%).[0m
[0;32mI (33758) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.202068%  checkpoint: 98.635033%   energy consumed from battery: 0.537659% [0m
[0;32mI (33778) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.202068%).[0m
[0;32mI (33778) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.305058%  checkpoint: 98.635033%   energy consumed from battery: 0.576273% [0m
[0;32mI (33798) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.305058%).[0m
[0;32mI (33808) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.476086%  checkpoint: 98.635033%   energy consumed from battery: 0.640416% [0m
[0;32mI (33818) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.476086%).[0m
[0;32mI (33828) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.816101%  checkpoint: 98.635033%   energy consumed from battery: 0.767911% [0m
[0;32mI (33838) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.816101%).[0m
[0;32mI (33848) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.819508%  checkpoint: 98.635033%   energy consumed from battery: 1.144176% [0m
[0;32mI (33868) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.819508%).[0m
[0;32mI (33868) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.184467%  checkpoint: 100.000000%   energy consumed from battery: 1.364970% [0m
[0;32mI (33888) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.184467%).[0m
[0;32mI (33898) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.253223%  checkpoint: 100.000000%   energy consumed from battery: 1.433758% [0m
[0;32mI (33908) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.253223%).[0m
[0;32mI (33918) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.356220%  checkpoint: 100.000000%   energy consumed from battery: 1.536727% [0m
[0;32mI (33928) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.356220%).[0m
[0;32mI (33938) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.527241%  checkpoint: 100.000000%   energy consumed from battery: 1.707776% [0m
[0;32mI (33948) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.527241%).[0m
[0;32mI (33958) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.867268%  checkpoint: 100.000000%   energy consumed from battery: 2.047762% [0m
[0;32mI (33978) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.867268%).[0m
[0;32mI (33978) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.870686%  checkpoint: 100.000000%   energy consumed from battery: 3.051135% [0m
[0;32mI (33998) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.870686%).[0m
[0;32mI (34008) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.050316%  checkpoint: 100.000000%   energy consumed from battery: 0.511863% [0m
[0;32mI (34018) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.050316%).[0m
[0;32mI (34028) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.119087%  checkpoint: 100.000000%   energy consumed from battery: 0.537659% [0m
[0;32mI (34038) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.119087%).[0m
[0;32mI (34048) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.222069%  checkpoint: 100.000000%   energy consumed from battery: 0.576273% [0m
[0;32mI (34068) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.222069%).[0m
[0;32mI (34068) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.393101%  checkpoint: 100.000000%   energy consumed from battery: 0.640416% [0m
[0;32mI (34088) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.393101%).[0m
[0;32mI (34098) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.733116%  checkpoint: 100.000000%   energy consumed from battery: 0.767911% [0m
[0;32mI (34108) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.733116%).[0m
[0;32mI (34118) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.736530%  checkpoint: 100.000000%   energy consumed from battery: 1.144176% [0m
[0;32mI (34128) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.736530%).[0m
[0;32mI (34138) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.511863%  checkpoint: 70.719978%   energy consumed from battery: 0.511863% [0m
[0;32mI (34158) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.511863%).[0m
[0;32mI (34158) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.537659%  checkpoint: 70.719978%   energy consumed from battery: 0.537659% [0m
[0;32mI (34178) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.537659%).[0m
[0;32mI (34188) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.576273%  checkpoint: 70.719978%   energy consumed from battery: 0.576273% [0m
[0;32mI (34198) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.576273%).[0m
[0;32mI (34208) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.640416%  checkpoint: 70.719978%   energy consumed from battery: 0.640416% [0m
[0;32mI (34218) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.640416%).[0m
[0;32mI (34228) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.767911%  checkpoint: 70.719978%   energy consumed from battery: 0.767911% [0m
[0;32mI (34238) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.767911%).[0m
[0;32mI (34248) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 45.870686%[0m
[0;32mI (34438) energy: Day4: sleep time: 200s  Battery level required at start: 42.819508%[0m
New adjustDutyFreqE event with ID: 11
[0;32mI (34448) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (34458) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34758) functions: SendToMqttFunction started[0m
[0;32mI (34758) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34758) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732964988375,"temp":27.0}]}]}> to topic 4/230/data[0m
[0;32mI (34788) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732964988375,"loadPower":467.1,"loadEnergy":7956.0,"batteryPower":54.7,"batteryEnergy":14787.3,"batteryRSOC":95.0,"panelPower":641.8,"panelEnergy":29307.8}]}]}> to topic 4/230/data[0m
[0;32mI (34808) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732964988375,"voltage":4.0,"rsoc":82.9,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34818) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732964988375,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34828) functions: SendToMqttFunction terminated[0m
[0;32mI (34858) functions: SetSleepTimeFunction started[0m
[0;32mI (34858) energy: Set sleepTime_s to 200[0m
[0;32mI (34858) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36358) mqtt: MQTT resourceSleep[0m
[0;32mI (36358) energy: Energy manager terminates.[0m
[0;32mI (36358) energy: Energy manager terminated.[0m
[0;32mI (36358) energy: Mean panel power: 800.0 mW  duration duty cycle: 5s[0m
[0;32mI (36368) energy: Mean load power: 182.8 mW  duration duty cycle: 5s[0m
[0;32mI (36378) energy: Load energy: 28641884.0 mWs (diff: 914.0mWs)[0m
[0;32mI (36378) energy: Battery energy: 53234748.0 mWs (diff: 1756.0mWs)[0m
[0;32mI (36388) energy: Panel energy: 105509368.0 mWs (diff: 4000.0mWs)[0m
[0;32mI (36408) energy: Energy Manager saved state: (800.0, 1732964991246850, 182.8, 5, 1732964989337286, 0)[0m
[0;32mI (36418) energy: Energy saved: (28641896.0, 105509400.0, 53234756.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28641896.0, 105509400.0, 53234756.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 12:13:32 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25208) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25908) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26608) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27288) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28028) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28728) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29418) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30108) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30788) energy: Energy Manager state retrieved: (800.0, 1732964991246850, 182.8, 5, 1732964989337286, 0)[0m
[0;32mI (30788) energy: Last mean panel power: 800.0mW[0m
[0;32mI (30788) energy: Duration of deep sleep: 198s[0m
[0;32mI (30798) energy: Mean load power: 182.8 mW  duration duty cycle: 5s[0m
[0;32mI (30798) energy: panel energy in deep sleep: 158400.0mWs[0m
[0;32mI (30808) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30818) energy: battery energy in deep sleep: 138700.6mWs[0m
New measureTemp event with ID: 12
New getNextDutyFreqE event with ID: 13
[0;32mI (31898) energy: Force deep sleep 200
[0m
[0;32mI (32988) functions: MeasureTempFunction started[0m
New temp event with ID: 14
[0;32mI (33008) functions: MeasureTempFunction terminated[0m
[0;32mI (33088) functions: CalcDutyFreqFunction started[0m
[0;32mI (33088) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33088) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33098) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33188) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.214844mWh  Level Day1: 70.718430%[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day1: 70.718430%  energy: 2162.214844mWh  Level Day2: 112.460030%[0m
[0;32mI (33208) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.214966mWh  Level Day3: 111.818825%[0m
[0;32mI (33218) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.785065mWh  Level Day4: 98.633492%[0m
[0;32mI (33228) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33238) CalcDutyFreqFunction: Day1 battery checkpoint: 70.718430[0m
[0;32mI (33248) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33258) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 battery checkpoint: 98.633492[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.134850%  checkpoint: 98.633492%   energy consumed from battery: 0.512440% [0m
[0;32mI (33278) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.134850%).[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.203968%  checkpoint: 98.633492%   energy consumed from battery: 0.538351% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.203968%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.307350%  checkpoint: 98.633492%   energy consumed from battery: 0.577136% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.307350%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.479183%  checkpoint: 98.633492%   energy consumed from battery: 0.641565% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.479183%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.820679%  checkpoint: 98.633492%   energy consumed from battery: 0.769627% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.820679%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.828499%  checkpoint: 98.633492%   energy consumed from battery: 1.147566% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.828499%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.195015%  checkpoint: 100.000000%   energy consumed from battery: 1.366507% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.195015%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.264137%  checkpoint: 100.000000%   energy consumed from battery: 1.435602% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.264137%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.367500%  checkpoint: 100.000000%   energy consumed from battery: 1.539030% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.367500%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.539345%  checkpoint: 100.000000%   energy consumed from battery: 1.710840% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.539345%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.880836%  checkpoint: 100.000000%   energy consumed from battery: 2.052338% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.880836%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.888649%  checkpoint: 100.000000%   energy consumed from battery: 3.060175% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.888649%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.069836%  checkpoint: 100.000000%   energy consumed from battery: 0.512440% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.069836%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.138954%  checkpoint: 100.000000%   energy consumed from battery: 0.538351% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.138954%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.242325%  checkpoint: 100.000000%   energy consumed from battery: 0.577136% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.242325%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.414165%  checkpoint: 100.000000%   energy consumed from battery: 0.641565% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.414165%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.755657%  checkpoint: 100.000000%   energy consumed from battery: 0.769627% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.755657%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.763474%  checkpoint: 100.000000%   energy consumed from battery: 1.147566% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.763474%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.512440%  checkpoint: 70.718430%   energy consumed from battery: 0.512440% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.512440%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.538351%  checkpoint: 70.718430%   energy consumed from battery: 0.538351% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.538351%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.577136%  checkpoint: 70.718430%   energy consumed from battery: 0.577136% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.577136%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.641565%  checkpoint: 70.718430%   energy consumed from battery: 0.641565% [0m
[0;32mI (33748) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.641565%).[0m
[0;32mI (33758) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.769627%  checkpoint: 70.718430%   energy consumed from battery: 0.769627% [0m
[0;32mI (33768) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.769627%).[0m
[0;32mI (33778) CalcDutyFreqFunction: Day1equired at start: 42.828499%[0m
New adjustDutyFreqE event with ID: 15
[0;32mI (33978) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33988) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34188) functions: SendToMqttFunction started[0m
[0;32mI (34188) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34188) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732965221800,"temp":27.0}]}]}> to topic 4/230/data[0m
[0;32mI (34218) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732965221800,"loadPower":264.8,"loadEnergy":7957.8,"batteryPower":53.2,"batteryEnergy":14828.8,"batteryRSOC":96.0,"panelPower":633.3,"panelEnergy":29358.9}]}]}> to topic 4/230/data[0m
[0;32mI (34238) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732965221800,"voltage":4.0,"rsoc":82.5,"rate":-4.4}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34248) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732965221800,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34258) functions: SendToMqttFunction terminated[0m
[0;32mI (34388) functions: SetSleepTimeFunction started[0m
[0;32mI (34388) energy: Set sleepTime_s to 200[0m
[0;32mI (34388) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35898) mqtt: MQTT resourceSleep[0m
[0;32mI (35898) energy: Energy manager terminates.[0m
[0;32mI (35898) energy: Energy manager terminated.[0m
[0;32mI (35898) energy: Mean panel power: 796.8 mW  duration duty cycle: 5s[0m
[0;32mI (35908) energy: Mean load power: 181.6 mW  duration duty cycle: 5s[0m
[0;32mI (35908) energy: Load energy: 28648358.0 mWs (diff: 908.0mWs)[0m
[0;32mI (35918) energy: Battery energy: 53384088.0 mWs (diff: 1716.0mWs)[0m
[0;32mI (35928) energy: Panel energy: 105693304.0 mWs (diff: 3984.0mWs)[0m
[0;32mI (35938) energy: Energy Manager saved state: (796.8, 1732965224678786, 181.6, 5, 1732965222761103, 0)[0m
[0;32mI (35948) energy: Energy saved: (28648370.0, 105693352.0, 53384112.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28648370.0, 105693352.0, 53384112.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 12:17:26 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24508) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25178) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25878) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26578) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27268) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27958) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28658) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29358) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30048) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30758) energy: Energy Manager state retrieved: (796.8, 1732965224678786, 181.6, 5, 1732965222761103, 0)[0m
[0;32mI (30758) energy: Last mean panel power: 796.8mW[0m
[0;32mI (30758) energy: Duration of deep sleep: 198s[0m
[0;32mI (30768) energy: Mean load power: 181.6 mW  duration duty cycle: 5s[0m
[0;32mI (30778) energy: panel energy in deep sleep: 157766.4mWs[0m
[0;32mI (30778) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30788) energy: battery energy in deep sleep: 139754.4mWs[0m
New measureTemp event with ID: 16
New getNextDutyFreqE event with ID: 17
[0;32mI (31868) energy: Force deep sleep 200
[0m
[0;32mI (32968) functions: MeasureTempFunction started[0m
New temp event with ID: 18
[0;32mI (32988) functions: MeasureTempFunction terminated[0m
[0;32mI (33068) functions: CalcDutyFreqFunction started[0m
[0;32mI (33068) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33068) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33068) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33158) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33168) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.334473mWh  Level Day1: 70.720749%[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day1: 70.720749%  energy: 2162.334473mWh  Level Day2: 112.464661%[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.334473mWh  Level Day3: 111.821129%[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.665558mWh  Level Day4: 98.635803%[0m
[0;32mI (33208) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day1 battery checkpoint: 70.720749[0m
[0;32mI (33228) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33238) CalcDutyFreqFunction: Day4 battery checkpoint: 98.635803[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.132561%  checkpoint: 98.635803%   energy consumed from battery: 0.511575% [0m
[0;32mI (33258) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.132561%).[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.201149%  checkpoint: 98.635803%   energy consumed from battery: 0.537313% [0m
[0;32mI (33278) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.201149%).[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.303944%  checkpoint: 98.635803%   energy consumed from battery: 0.575841% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.303944%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.474602%  checkpoint: 98.635803%   energy consumed from battery: 0.639842% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.474602%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.813812%  checkpoint: 98.635803%   energy consumed from battery: 0.767053% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.813812%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.814941%  checkpoint: 98.635803%   energy consumed from battery: 1.142480% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.814941%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.179169%  checkpoint: 100.000000%   energy consumed from battery: 1.364200% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.179169%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.247742%  checkpoint: 100.000000%   energy consumed from battery: 1.432836% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.247742%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.350555%  checkpoint: 100.000000%   energy consumed from battery: 1.535576% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.350555%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.521210%  checkpoint: 100.000000%   energy consumed from battery: 1.706245% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.521210%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.860413%  checkpoint: 100.000000%   energy consumed from battery: 2.045474% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.860413%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.861542%  checkpoint: 100.000000%   energy consumed from battery: 3.046614% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.861542%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.040436%  checkpoint: 100.000000%   energy consumed from battery: 0.511575% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.040436%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.109024%  checkpoint: 100.000000%   energy consumed from battery: 0.537313% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.109024%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.211823%  checkpoint: 100.000000%   energy consumed from battery: 0.575841% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.211823%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.382477%  checkpoint: 100.000000%   energy consumed from battery: 0.639842% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.382477%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.721684%  checkpoint: 100.000000%   energy consumed from battery: 0.767053% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.721684%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.722813%  checkpoint: 100.000000%   energy consumed from battery: 1.142480% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.722813%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.511575%  checkpoint: 70.720749%   energy consumed from battery: 0.511575% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.511575%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.537313%  checkpoint: 70.720749%   energy consumed from battery: 0.537313% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.537313%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.575841%  checkpoint: 70.720749%   energy consumed from battery: 0.575841% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.575841%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.639842%  checkpoint: 70.720749%   energy consumed from battery: 0.639842% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.639842%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.767053%  checkpoint: 70.720749%   energy consumed from battery: 0.767053% [0m
[0;32mI (33748) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.767053%).[0m
[0;32mI (33758) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 45.861542%[0m
[0;32mI (33948) energy: Day4: sleep time: 200s  Battery level required at start: 42.814941%[0m
New adjustDutyFreqE event with ID: 19
[0;32mI (33958) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33968) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34168) functions: SendToMqttFunction started[0m
[0;32mI (34168) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34168) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732965455369,"temp":27.2}]}]}> to topic 4/230/data[0m
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732965455369,"loadPower":507.6,"loadEnergy":7959.5,"batteryPower":56.3,"batteryEnergy":14870.6,"batteryRSOC":96.0,"panelPower":638.1,"panelEnergy":29409.8}]}]}> to topic 4/230/data[0m
[0;32mI (34218) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732965455369,"voltage":4.0,"rsoc":82.4,"rate":-4.4}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34228) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732965455369,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34248) functions: SendToMqttFunction terminated[0m
[0;32mI (34268) functions: SetSleepTimeFunction started[0m
[0;32mI (34268) energy: Set sleepTime_s to 200[0m
[0;32mI (34268) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35868) mqtt: MQTT resourceSleep[0m
[0;32mI (35868) energy: Energy manager terminates.[0m
[0;32mI (35868) energy: Energy manager terminated.[0m
[0;32mI (35868) energy: Mean panel power: 804.8 mW  duration duty cycle: 5s[0m
[0;32mI (35878) energy: Mean load power: 208.8 mW  duration duty cycle: 5s[0m
[0;32mI (35888) energy: Load energy: 28654664.0 mWs (diff: 1044.0mWs)[0m
[0;32mI (35888) energy: Battery energy: 53534700.0 mWs (diff: 1608.0mWs)[0m
[0;32mI (35898) energy: Panel energy: 105876680.0 mWs (diff: 4024.0mWs)[0m
[0;32mI (35918) energy: Energy Manager saved state: (804.8, 1732965458240364, 208.8, 5, 1732965456328383, 0)[0m
[0;32mI (35928) energy: Energy saved: (28654672.0, 105876712.0, 53534716.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28654672.0, 105876712.0, 53534716.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 12:21:19 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25218) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25918) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26608) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27298) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27988) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28678) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29358) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30028) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30728) energy: Energy Manager state retrieved: (804.8, 1732965458240364, 208.8, 5, 1732965456328383, 0)[0m
[0;32mI (30728) energy: Last mean panel power: 804.8mW[0m
[0;32mI (30738) energy: Duration of deep sleep: 198s[0m
[0;32mI (30738) energy: Mean load power: 208.8 mW  duration duty cycle: 5s[0m
[0;32mI (30748) energy: panel energy in deep sleep: 159350.4mWs[0m
[0;32mI (30748) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30758) energy: battery energy in deep sleep: 140800.8mWs[0m
New measureTemp event with ID: 20
New getNextDutyFreqE event with ID: 21
[0;32mI (31848) energy: Force deep sleep 200
[0m
[0;32mI (32948) functions: MeasureTempFunction started[0m
New temp event with ID: 22
[0;32mI (32968) functions: MeasureTempFunction terminated[0m
[0;32mI (33048) functions: CalcDutyFreqFunction started[0m
[0;32mI (33048) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33048) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33058) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33148) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33148) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2624.625732mWh  Level Day1: 70.668449%[0m
[0;32mI (33158) CalcDutyFreqFunction: Level Day1: 70.668449%  energy: 2159.625732mWh  Level Day2: 112.360062%[0m
[0;32mI (33168) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 609.625732mWh  Level Day3: 111.768837%[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -73.374275mWh  Level Day4: 98.583511%[0m
[0;32mI (33188) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33198) CalcDutyFreqFunction: Day1 battery checkpoint: 70.668449[0m
[0;32mI (33208) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day4 battery checkpoint: 98.583511[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.184837%  checkpoint: 98.583511%   energy consumed from battery: 0.531184% [0m
[0;32mI (33238) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.184837%).[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.263859%  checkpoint: 98.583511%   energy consumed from battery: 0.560825% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.263859%).[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.382221%  checkpoint: 98.583511%   energy consumed from battery: 0.605194% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.382221%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.578712%  checkpoint: 98.583511%   energy consumed from battery: 0.678899% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.578712%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.969368%  checkpoint: 98.583511%   energy consumed from battery: 0.825397% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.969368%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 43.122295%  checkpoint: 98.583511%   energy consumed from battery: 1.257746% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 200s, 43.122295%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.538799%  checkpoint: 100.000000%   energy consumed from battery: 1.416492% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.538799%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.617809%  checkpoint: 100.000000%   energy consumed from battery: 1.495534% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.617809%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.736187%  checkpoint: 100.000000%   energy consumed from battery: 1.613852% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.736187%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.932659%  checkpoint: 100.000000%   energy consumed from battery: 1.810396% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.932659%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.323315%  checkpoint: 100.000000%   energy consumed from battery: 2.201058% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.323315%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.476238%  checkpoint: 100.000000%   energy consumed from battery: 3.353988% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.476238%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.707413%  checkpoint: 100.000000%   energy consumed from battery: 0.531184% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.707413%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.786423%  checkpoint: 100.000000%   energy consumed from battery: 0.560825% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.786423%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.904797%  checkpoint: 100.000000%   energy consumed from battery: 0.605194% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.904797%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 35.101284%  checkpoint: 100.000000%   energy consumed from battery: 0.678899% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 600s, 35.101284%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 35.491940%  checkpoint: 100.000000%   energy consumed from battery: 0.825397% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 400s, 35.491940%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 36.644867%  checkpoint: 100.000000%   energy consumed from battery: 1.257746% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.644867%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.531184%  checkpoint: 70.668449%   energy consumed from battery: 0.531184% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.531184%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.560825%  checkpoint: 70.668449%   energy consumed from battery: 0.560825% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.560825%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.605194%  checkpoint: 70.668449%   energy consumed from battery: 0.605194% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.605194%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.678899%  checkpoint: 70.668449%   energy consumed from battery: 0.678899% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.678899%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.825397%  checkpoint: 70.668449%   energy consumed from battery: 0.825397% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.825397%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 46.476238%[0m
[0;32mI (33928) energy: Day4: sleep time: 200s  Battery level required at start: 43.122295%[0m
New adjustDutyFreqE event with ID: 23
[0;32mI (33938) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33948) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34148) functions: SendToMqttFunction started[0m
[0;32mI (34148) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34148) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732965688785,"temp":27.2}]}]}> to topic 4/230/data[0m
[0;32mI (34178) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732965688785,"loadPower":531.2,"loadEnergy":7961.3,"batteryPower":-6.5,"batteryEnergy":14912.7,"batteryRSOC":96.0,"panelPower":649.9,"panelEnergy":29461.2}]}]}> to topic 4/230/data[0m
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732965688785,"voltage":4.0,"rsoc":82.2,"rate":-3.3}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34208) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732965688785,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34218) functions: SendToMqttFunction terminated[0m
[0;32mI (34348) functions: SetSleepTimeFunction started[0m
[0;32mI (34348) energy: Set sleepTime_s to 200[0m
[0;32mI (34348) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35848) mqtt: MQTT resourceSleep[0m
[0;32mI (35848) energy: Energy manager terminates.[0m
[0;32mI (35848) energy: Energy manager terminated.[0m
[0;32mI (35848) energy: Mean panel power: 793.6 mW  duration duty cycle: 5s[0m
[0;32mI (35858) energy: Mean load power: 175.6 mW  duration duty cycle: 5s[0m
[0;32mI (35868) energy: Load energy: 28661094.0 mWs (diff: 878.0mWs)[0m
[0;32mI (35868) energy: Battery energy: 53686224.0 mWs (diff: 1808.0mWs)[0m
[0;32mI (35878) energy: Panel energy: 106061472.0 mWs (diff: 3968.0mWs)[0m
[0;32mI (35898) energy: Energy Manager saved state: (793.6, 1732965691658328, 175.6, 5, 1732965689748439, 0)[0m
[0;32mI (35908) energy: Energy saved: (28661108.0, 106061504.0, 53686232.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;31mE (3808) i2cdev: Could not write to device [0x0b at 0]: -1 (ESP_FAIL)[0m
Error in setting power mode
[0;32mI (4828) energy: Energy retrieved: (28661108.0, 106061504.0, 53686232.0)[0m
wakeup clock
[0;32mI (24828) sntp: The current date/time in Germany is: Sat Nov 30 12:25:14 2024[0m
[0;32mI (24828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (25528) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (26218) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (26908) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (27598) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (28298) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28998) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (29688) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (30388) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (31088) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (31788) energy: Energy Manager state retrieved: (793.6, 1732965691658328, 175.6, 5, 1732965689748439, 0)[0m
[0;32mI (31798) energy: Last mean panel power: 793.6mW[0m
[0;32mI (31798) energy: Duration of deep sleep: 198s[0m
[0;32mI (31798) energy: Mean load power: 175.6 mW  duration duty cycle: 5s[0m
[0;32mI (31808) energy: panel energy in deep sleep: 157132.8mWs[0m
[0;32mI (31818) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (31818) energy: battery energy in deep sleep: 136596.0mWs[0m
New measureTemp event with ID: 24
New getNextDutyFreqE event with ID: 25
[0;32mI (32908) energy: Force deep sleep 200
[0m
[0;32mI (33998) functions: MeasureTempFunction started[0m
New temp event with ID: 26
[0;32mI (34018) functions: MeasureTempFunction terminated[0m
[0;32mI (34098) functions: CalcDutyFreqFunction started[0m
[0;32mI (34098) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (34098) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (34108) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (34108) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (34118) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (34118) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (34128) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (34198) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (34198) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.931885mWh  Level Day1: 70.732269%[0m
[0;32mI (34208) CalcDutyFreqFunction: Level Day1: 70.732269%  energy: 2162.931885mWh  Level Day2: 112.487709%[0m
[0;32mI (34218) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.931946mWh  Level Day3: 111.832664%[0m
[0;32mI (34228) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.068054mWh  Level Day4: 98.647331%[0m
[0;32mI (34238) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (34248) CalcDutyFreqFunction: Day1 battery checkpoint: 70.732269[0m
[0;32mI (34258) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (34268) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (34268) CalcDutyFreqFunction: Day4 battery checkpoint: 98.647331[0m
[0;32mI (34278) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.121025%  checkpoint: 98.647331%   energy consumed from battery: 0.507249% [0m
[0;32mI (34288) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.121025%).[0m
[0;32mI (34298) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.187325%  checkpoint: 98.647331%   energy consumed from battery: 0.532127% [0m
[0;32mI (34318) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.187325%).[0m
[0;32mI (34318) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.286652%  checkpoint: 98.647331%   energy consumed from battery: 0.569366% [0m
[0;32mI (34338) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.286652%).[0m
[0;32mI (34348) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.451622%  checkpoint: 98.647331%   energy consumed from battery: 0.631226% [0m
[0;32mI (34358) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.451622%).[0m
[0;32mI (34368) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.779484%  checkpoint: 98.647331%   energy consumed from battery: 0.754183% [0m
[0;32mI (34378) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.779484%).[0m
[0;32mI (34388) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.747181%  checkpoint: 98.647331%   energy consumed from battery: 1.117054% [0m
[0;32mI (34408) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.747181%).[0m
[0;32mI (34408) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.099873%  checkpoint: 100.000000%   energy consumed from battery: 1.352665% [0m
[0;32mI (34428) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.099873%).[0m
[0;32mI (34438) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.166157%  checkpoint: 100.000000%   energy consumed from battery: 1.419005% [0m
[0;32mI (34448) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.166157%).[0m
[0;32mI (34458) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.265491%  checkpoint: 100.000000%   energy consumed from battery: 1.518310% [0m
[0;32mI (34468) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.265491%).[0m
[0;32mI (34478) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.430470%  checkpoint: 100.000000%   energy consumed from battery: 1.683270% [0m
[0;32mI (34488) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.430470%).[0m
[0;32mI (34498) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.758320%  checkpoint: 100.000000%   energy consumed from battery: 2.011154% [0m
[0;32mI (34518) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.758320%).[0m
[0;32mI (34518) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.726032%  checkpoint: 100.000000%   energy consumed from battery: 2.978812% [0m
[0;32mI (34538) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.726032%).[0m
[0;32mI (34548) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 33.893391%  checkpoint: 100.000000%   energy consumed from battery: 0.507249% [0m
[0;32mI (34558) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 33.893391%).[0m
[0;32mI (34568) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 33.959686%  checkpoint: 100.000000%   energy consumed from battery: 0.532127% [0m
[0;32mI (34578) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 33.959686%).[0m
[0;32mI (34588) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.059013%  checkpoint: 100.000000%   energy consumed from battery: 0.569366% [0m
[0;32mI (34608) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.059013%).[0m
[0;32mI (34608) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.223988%  checkpoint: 100.000000%   energy consumed from battery: 0.631226% [0m
[0;32mI (34628) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.223988%).[0m
[0;32mI (34638) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.551842%  checkpoint: 100.000000%   energy consumed from battery: 0.754183% [0m
[0;32mI (34648) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.551842%).[0m
[0;32mI (34658) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.519550%  checkpoint: 100.000000%   energy consumed from battery: 1.117054% [0m
[0;32mI (34668) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.519550%).[0m
[0;32mI (34678) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.507249%  checkpoint: 70.732269%   energy consumed from battery: 0.507249% [0m
[0;32mI (34698) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.507249%).[0m
[0;32mI (34698) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.532127%  checkpoint: 70.732269%   energy consumed from battery: 0.532127% [0m
[0;32mI (34718) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.532127%).[0m
[0;32mI (34728) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.569366%  checkpoint: 70.732269%   energy consumed from battery: 0.569366% [0m
[0;32mI (34738) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.569366%).[0m
[0;32mI (34748) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.631226%  checkpoint: 70.732269%   energy consumed from battery: 0.631226% [0m
[0;32mI (34758) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.631226%).[0m
[0;32mI (34768) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.754183%  checkpoint: 70.732269%   energy consumed from battery: 0.754183% [0m
[0;32mI (34778) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.754183%).[0m
[0;32mI (34788) CalcDutyFreqFunction: Day1equired at start: 42.747181%[0m
New adjustDutyFreqE event with ID: 27
[0;32mI (34988) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (34998) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (35298) functions: SendToMqttFunction started[0m
[0;32mI (35298) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (35298) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732965923367,"temp":27.2}]}]}> to topic 4/230/data[0m
[0;32mI (35328) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732965923367,"loadPower":505.9,"loadEnergy":7963.1,"batteryPower":56.4,"batteryEnergy":14953.7,"batteryRSOC":96.0,"panelPower":638.9,"panelEnergy":29511.9}]}]}> to topic 4/230/data[0m
[0;32mI (35348) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732965923367,"voltage":3.9,"rsoc":82.9,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (35358) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732965923367,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (35378) functions: SendToMqttFunction terminated[0m
[0;32mI (35398) functions: SetSleepTimeFunction started[0m
[0;32mI (35398) energy: Set sleepTime_s to 200[0m
[0;32mI (35398) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36908) mqtt: MQTT resourceSleep[0m
[0;32mI (36908) energy: Energy manager terminates.[0m
[0;32mI (36908) energy: Energy manager terminated.[0m
[0;32mI (36908) energy: Mean panel power: 796.8 mW  duration duty cycle: 5s[0m
[0;32mI (36918) energy: Mean load power: 184.8 mW  duration duty cycle: 5s[0m
[0;32mI (36918) energy: Load energy: 28667316.0 mWs (diff: 924.0mWs)[0m
[0;32mI (36928) energy: Battery energy: 53833796.0 mWs (diff: 1768.0mWs)[0m
[0;32mI (36938) energy: Panel energy: 106244136.0 mWs (diff: 3984.0mWs)[0m
[0;32mI (36948) energy: Energy Manager saved state: (796.8, 1732965926246103, 184.8, 5, 1732965924328531, 0)[0m
[0;32mI (36978) energy: Energy saved: (28667328.0, 106244184.0, 53833816.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28667328.0, 106244184.0, 53833816.0)[0m
wakeup clock
[0;32mI (23828) sntp: The current date/time in Germany is: Sat Nov 30 12:29:07 2024[0m
[0;32mI (23828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25208) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25898) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26608) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27308) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27998) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28678) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29358) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30048) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30758) energy: Energy Manager state retrieved: (796.8, 1732965926246103, 184.8, 5, 1732965924328531, 0)[0m
[0;32mI (30758) energy: Last mean panel power: 796.8mW[0m
[0;32mI (30768) energy: Duration of deep sleep: 198s[0m
[0;32mI (30768) energy: Mean load power: 184.8 mW  duration duty cycle: 5s[0m
[0;32mI (30778) energy: panel energy in deep sleep: 157766.4mWs[0m
[0;32mI (30778) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30788) energy: battery energy in deep sleep: 132271.8mWs[0m
New measureTemp event with ID: 28
New getNextDutyFreqE event with ID: 29
[0;32mI (31898) energy: Force deep sleep 200
[0m
[0;32mI (32988) functions: MeasureTempFunction started[0m
New temp event with ID: 30
[0;32mI (33008) functions: MeasureTempFunction terminated[0m
[0;32mI (33088) functions: CalcDutyFreqFunction started[0m
[0;32mI (33088) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33088) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33098) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33188) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.015869mWh  Level Day1: 70.714600%[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day1: 70.714600%  energy: 2162.015869mWh  Level Day2: 112.452362%[0m
[0;32mI (33208) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.015747mWh  Level Day3: 111.814972%[0m
[0;32mI (33218) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.984238mWh  Level Day4: 98.629646%[0m
[0;32mI (33228) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33238) CalcDutyFreqFunction: Day1 battery checkpoint: 70.714600[0m
[0;32mI (33248) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33258) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 battery checkpoint: 98.629646[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.138695%  checkpoint: 98.629646%   energy consumed from battery: 0.513882% [0m
[0;32mI (33278) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.138695%).[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.208557%  checkpoint: 98.629646%   energy consumed from battery: 0.540080% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.208557%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.313114%  checkpoint: 98.629646%   energy consumed from battery: 0.579294% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.313114%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.486866%  checkpoint: 98.629646%   energy consumed from battery: 0.644437% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.486866%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.832123%  checkpoint: 98.629646%   energy consumed from battery: 0.773917% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.832123%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.851105%  checkpoint: 98.629646%   energy consumed from battery: 1.156041% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.851105%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.221466%  checkpoint: 100.000000%   energy consumed from battery: 1.370352% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.221466%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.291321%  checkpoint: 100.000000%   energy consumed from battery: 1.440212% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.291321%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.395874%  checkpoint: 100.000000%   energy consumed from battery: 1.544785% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.395874%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.569641%  checkpoint: 100.000000%   energy consumed from battery: 1.718498% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.569641%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.914886%  checkpoint: 100.000000%   energy consumed from battery: 2.063779% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.914886%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.933868%  checkpoint: 100.000000%   energy consumed from battery: 3.082776% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.933868%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.118900%  checkpoint: 100.000000%   energy consumed from battery: 0.513882% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.118900%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.188755%  checkpoint: 100.000000%   energy consumed from battery: 0.540080% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.188755%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.293312%  checkpoint: 100.000000%   energy consumed from battery: 0.579294% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.293312%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.467072%  checkpoint: 100.000000%   energy consumed from battery: 0.644437% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.467072%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.812321%  checkpoint: 100.000000%   energy consumed from battery: 0.773917% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.812321%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.831303%  checkpoint: 100.000000%   energy consumed from battery: 1.156041% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.831303%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.513882%  checkpoint: 70.714600%   energy consumed from battery: 0.513882% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.513882%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.540080%  checkpoint: 70.714600%   energy consumed from battery: 0.540080% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.540080%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.579294%  checkpoint: 70.714600%   energy consumed from battery: 0.579294% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.579294%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.644437%  checkpoint: 70.714600%   energy consumed from battery: 0.644437% [0m
[0;32mI (33748) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.644437%).[0m
[0;32mI (33758) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.773917%  checkpoint: 70.714600%   energy consumed from battery: 0.773917% [0m
[0;32mI (33768) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.773917%).[0m
[0;32mI (33778) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 45.933868%[0m
[0;32mI (33968) energy: Day4: sleep time: 200s  Battery level required at start: 42.851105%[0m
New adjustDutyFreqE event with ID: 31
[0;32mI (33978) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33988) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34188) functions: SendToMqttFunction started[0m
[0;32mI (34188) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34188) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732966156821,"temp":27.1}]}]}> to topic 4/230/data[0m
[0;32mI (34218) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732966156821,"loadPower":406.2,"loadEnergy":7964.8,"batteryPower":51.7,"batteryEnergy":14993.4,"batteryRSOC":96.0,"panelPower":629.3,"panelEnergy":29562.8}]}]}> to topic 4/230/data[0m
[0;32mI (34238) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732966156821,"voltage":4.1,"rsoc":83.5,"rate":-3.3}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34248) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732966156821,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34258) functions: SendToMqttFunction terminated[0m
[0;32mI (34388) functions: SetSleepTimeFunction started[0m
[0;32mI (34388) energy: Set sleepTime_s to 200[0m
[0;32mI (34388) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35898) mqtt: MQTT resourceSleep[0m
[0;32mI (35898) energy: Energy manager terminates.[0m
[0;32mI (35898) energy: Energy manager terminated.[0m
[0;32mI (35898) energy: Mean panel power: 796.8 mW  duration duty cycle: 5s[0m
[0;32mI (35908) energy: Mean load power: 196.8 mW  duration duty cycle: 5s[0m
[0;32mI (35908) energy: Load energy: 28673756.0 mWs (diff: 984.0mWs)[0m
[0;32mI (35918) energy: Battery energy: 53976944.0 mWs (diff: 1704.0mWs)[0m
[0;32mI (35928) energy: Panel energy: 106427384.0 mWs (diff: 3984.0mWs)[0m
[0;32mI (35938) energy: Energy Manager saved state: (796.8, 1732966159698235, 196.8, 5, 1732966157780568, 0)[0m
[0;32mI (35948) energy: Energy saved: (28673768.0, 106427432.0, 53976968.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28673768.0, 106427432.0, 53976968.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 12:33:01 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24558) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25278) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25998) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26678) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27378) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28058) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28738) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29438) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30118) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30798) energy: Energy Manager state retrieved: (796.8, 1732966159698235, 196.8, 5, 1732966157780568, 0)[0m
[0;32mI (30808) energy: Last mean panel power: 796.8mW[0m
[0;32mI (30808) energy: Duration of deep sleep: 198s[0m
[0;32mI (30818) energy: Mean load power: 196.8 mW  duration duty cycle: 5s[0m
[0;32mI (30818) energy: panel energy in deep sleep: 157766.4mWs[0m
[0;32mI (30828) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30838) energy: battery energy in deep sleep: 107731.3mWs[0m
New measureTemp event with ID: 32
New getNextDutyFreqE event with ID: 33
[0;32mI (31908) energy: Force deep sleep 200
[0m
[0;32mI (32998) functions: MeasureTempFunction started[0m
New temp event with ID: 34
[0;32mI (33018) functions: MeasureTempFunction terminated[0m
[0;32mI (33098) functions: CalcDutyFreqFunction started[0m
[0;32mI (33098) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33098) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33108) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33128) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33198) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2625.820801mWh  Level Day1: 70.691521%[0m
[0;32mI (33208) CalcDutyFreqFunction: Level Day1: 70.691521%  energy: 2160.820801mWh  Level Day2: 112.406204%[0m
[0;32mI (33218) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 610.820740mWh  Level Day3: 111.791908%[0m
[0;32mI (33228) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -72.179260mWh  Level Day4: 98.606575%[0m
[0;32mI (33238) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day1 battery checkpoint: 70.691521[0m
[0;32mI (33258) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33268) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 battery checkpoint: 98.606575[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.161766%  checkpoint: 98.606575%   energy consumed from battery: 0.522533% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.161766%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.236206%  checkpoint: 98.606575%   energy consumed from battery: 0.550452% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.236206%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.347633%  checkpoint: 98.606575%   energy consumed from battery: 0.592244% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.347633%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.532757%  checkpoint: 98.606575%   energy consumed from battery: 0.661668% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.532757%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.900780%  checkpoint: 98.606575%   energy consumed from battery: 0.799657% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.900780%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.986702%  checkpoint: 98.606575%   energy consumed from battery: 1.206893% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.986702%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.380135%  checkpoint: 100.000000%   energy consumed from battery: 1.393422% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.380135%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.454567%  checkpoint: 100.000000%   energy consumed from battery: 1.467873% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.454567%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.565987%  checkpoint: 100.000000%   energy consumed from battery: 1.579319% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.565987%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.751106%  checkpoint: 100.000000%   energy consumed from battery: 1.764447% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.751106%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.119148%  checkpoint: 100.000000%   energy consumed from battery: 2.132419% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.119148%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.205055%  checkpoint: 100.000000%   energy consumed from battery: 3.218382% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.205055%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.413158%  checkpoint: 100.000000%   energy consumed from battery: 0.522533% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.413158%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.487591%  checkpoint: 100.000000%   energy consumed from battery: 0.550452% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.487591%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.599022%  checkpoint: 100.000000%   energy consumed from battery: 0.592244% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.599022%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.784142%  checkpoint: 100.000000%   energy consumed from battery: 0.661668% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.784142%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 35.152168%  checkpoint: 100.000000%   energy consumed from battery: 0.799657% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (2, 400s, 35.152168%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 36.238087%  checkpoint: 100.000000%   energy consumed from battery: 1.206893% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.238087%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.522533%  checkpoint: 70.691521%   energy consumed from battery: 0.522533% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.522533%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.550452%  checkpoint: 70.691521%   energy consumed from battery: 0.550452% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.550452%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.592244%  checkpoint: 70.691521%   energy consumed from battery: 0.592244% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.592244%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.661668%  checkpoint: 70.691521%   energy consumed from battery: 0.661668% [0m
[0;32mI (33758) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.661668%).[0m
[0;32mI (33768) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.799657%  checkpoint: 70.691521%   energy consumed from battery: 0.799657% [0m
[0;32mI (33778) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.799657%).[0m
[0;32mI (33788) CalcDutyFreqFunction: Day1equired at start: 42.986702%[0m
New adjustDutyFreqE event with ID: 35
[0;32mI (33988) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33998) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34198) functions: SendToMqttFunction started[0m
[0;32mI (34198) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732966390230,"temp":27.1}]}]}> to topic 4/230/data[0m
[0;32mI (34228) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732966390230,"loadPower":313.7,"loadEnergy":7966.6,"batteryPower":55.3,"batteryEnergy":15026.4,"batteryRSOC":98.0,"panelPower":638.1,"panelEnergy":29613.7}]}]}> to topic 4/230/data[0m
[0;32mI (34248) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732966390230,"voltage":4.0,"rsoc":86.9,"rate":-2.9}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34258) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732966390230,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34268) functions: SendToMqttFunction terminated[0m
[0;32mI (34298) functions: SetSleepTimeFunction started[0m
[0;32mI (34298) energy: Set sleepTime_s to 200[0m
[0;32mI (34298) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35908) mqtt: MQTT resourceSleep[0m
[0;32mI (35908) energy: Energy manager terminates.[0m
[0;32mI (35908) energy: Energy manager terminated.[0m
[0;32mI (35908) energy: Mean panel power: 798.4 mW  duration duty cycle: 5s[0m
[0;32mI (35918) energy: Mean load power: 175.6 mW  duration duty cycle: 5s[0m
[0;32mI (35918) energy: Load energy: 28680102.0 mWs (diff: 878.0mWs)[0m
[0;32mI (35928) energy: Battery energy: 54095620.0 mWs (diff: 1792.0mWs)[0m
[0;32mI (35938) energy: Panel energy: 106610736.0 mWs (diff: 3992.0mWs)[0m
[0;32mI (35948) energy: Energy Manager saved state: (798.4, 1732966393109836, 175.6, 5, 1732966391192393, 0)[0m
[0;32mI (35958) energy: Energy saved: (28680114.0, 106610784.0, 54095644.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3828) energy: Energy retrieved: (28680114.0, 106610784.0, 54095644.0)[0m
wakeup clock
[0;32mI (23828) sntp: The current date/time in Germany is: Sat Nov 30 12:36:54 2024[0m
[0;32mI (23828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25208) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25898) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26598) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27278) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27968) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28658) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29358) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30058) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30758) energy: Energy Manager state retrieved: (798.4, 1732966393109836, 175.6, 5, 1732966391192393, 0)[0m
[0;32mI (30758) energy: Last mean panel power: 798.4mW[0m
[0;32mI (30768) energy: Duration of deep sleep: 198s[0m
[0;32mI (30768) energy: Mean load power: 175.6 mW  duration duty cycle: 5s[0m
[0;32mI (30778) energy: panel energy in deep sleep: 158083.2mWs[0m
[0;32mI (30778) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30788) energy: battery energy in deep sleep: 157647.6mWs[0m
New measureTemp event with ID: 36
New getNextDutyFreqE event with ID: 37
[0;32mI (31878) energy: Force deep sleep 200
[0m
[0;32mI (32968) functions: MeasureTempFunction started[0m
New temp event with ID: 38
[0;32mI (32988) functions: MeasureTempFunction terminated[0m
[0;32mI (33068) functions: CalcDutyFreqFunction started[0m
[0;32mI (33068) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33068) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33078) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33168) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33168) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.931885mWh  Level Day1: 70.732269%[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day1: 70.732269%  energy: 2162.931885mWh  Level Day2: 112.487709%[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.931946mWh  Level Day3: 111.832664%[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.068054mWh  Level Day4: 98.647331%[0m
[0;32mI (33208) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day1 battery checkpoint: 70.732269[0m
[0;32mI (33228) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33238) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33238) CalcDutyFreqFunction: Day4 battery checkpoint: 98.647331[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.121025%  checkpoint: 98.647331%   energy consumed from battery: 0.507249% [0m
[0;32mI (33258) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.121025%).[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.187325%  checkpoint: 98.647331%   energy consumed from battery: 0.532127% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.187325%).[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.286652%  checkpoint: 98.647331%   energy consumed from battery: 0.569366% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.286652%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.451622%  checkpoint: 98.647331%   energy consumed from battery: 0.631226% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.451622%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.779484%  checkpoint: 98.647331%   energy consumed from battery: 0.754183% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.779484%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.747181%  checkpoint: 98.647331%   energy consumed from battery: 1.117054% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.747181%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.099873%  checkpoint: 100.000000%   energy consumed from battery: 1.352665% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.099873%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.166157%  checkpoint: 100.000000%   energy consumed from battery: 1.419005% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.166157%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.265491%  checkpoint: 100.000000%   energy consumed from battery: 1.518310% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.265491%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.430470%  checkpoint: 100.000000%   energy consumed from battery: 1.683270% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.430470%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.758320%  checkpoint: 100.000000%   energy consumed from battery: 2.011154% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.758320%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.726032%  checkpoint: 100.000000%   energy consumed from battery: 2.978812% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.726032%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 33.893391%  checkpoint: 100.000000%   energy consumed from battery: 0.507249% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 33.893391%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 33.959686%  checkpoint: 100.000000%   energy consumed from battery: 0.532127% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 33.959686%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.059013%  checkpoint: 100.000000%   energy consumed from battery: 0.569366% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.059013%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.223988%  checkpoint: 100.000000%   energy consumed from battery: 0.631226% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.223988%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.551842%  checkpoint: 100.000000%   energy consumed from battery: 0.754183% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.551842%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.519550%  checkpoint: 100.000000%   energy consumed from battery: 1.117054% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.519550%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.507249%  checkpoint: 70.732269%   energy consumed from battery: 0.507249% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.507249%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.532127%  checkpoint: 70.732269%   energy consumed from battery: 0.532127% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.532127%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.569366%  checkpoint: 70.732269%   energy consumed from battery: 0.569366% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.569366%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.631226%  checkpoint: 70.732269%   energy consumed from battery: 0.631226% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.631226%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.754183%  checkpoint: 70.732269%   energy consumed from battery: 0.754183% [0m
[0;32mI (33748) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.754183%).[0m
[0;32mI (33758) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 45.726032%[0m
[0;32mI (33948) energy: Day4: sleep time: 200s  Battery level required at start: 42.747181%[0m
New adjustDutyFreqE event with ID: 39
[0;32mI (33958) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33968) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34168) functions: SendToMqttFunction started[0m
[0;32mI (34168) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34168) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732966623822,"temp":27.2}]}]}> to topic 4/230/data[0m
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732966623822,"loadPower":530.9,"loadEnergy":7968.5,"batteryPower":-25.9,"batteryEnergy":15071.0,"batteryRSOC":99.0,"panelPower":772.7,"panelEnergy":29662.6}]}]}> to topic 4/230/data[0m
[0;32mI (34218) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732966623822,"voltage":3.8,"rsoc":56.6,"rate":0.0}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34228) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732966623822,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34248) functions: SendToMqttFunction terminated[0m
[0;32mI (34368) functions: SetSleepTimeFunction started[0m
[0;32mI (34368) energy: Set sleepTime_s to 200[0m
[0;32mI (34368) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35878) mqtt: MQTT resourceSleep[0m
[0;32mI (35878) energy: Energy manager terminates.[0m
[0;32mI (35878) energy: Energy manager terminated.[0m
[0;32mI (35878) energy: Mean panel power: 500.8 mW  duration duty cycle: 5s[0m
[0;32mI (35888) energy: Mean load power: 185.2 mW  duration duty cycle: 5s[0m
[0;32mI (35888) energy: Load energy: 28686788.0 mWs (diff: 926.0mWs)[0m
[0;32mI (35898) energy: Battery energy: 54255548.0 mWs (diff: 164.0mWs)[0m
[0;32mI (35908) energy: Panel energy: 106786072.0 mWs (diff: 2504.0mWs)[0m
[0;32mI (35918) energy: Energy Manager saved state: (500.8, 1732966626700874, 185.2, 5, 1732966624783418, 0)[0m
[0;32mI (35928) energy: Energy saved: (28686800.0, 106786120.0, 54255560.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28686800.0, 106786120.0, 54255560.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 12:40:47 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24518) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25208) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25888) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26578) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27268) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27968) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28678) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29388) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30088) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30788) energy: Energy Manager state retrieved: (500.8, 1732966626700874, 185.2, 5, 1732966624783418, 0)[0m
[0;32mI (30798) energy: Last mean panel power: 500.8mW[0m
[0;32mI (30798) energy: Duration of deep sleep: 198s[0m
[0;32mI (30808) energy: Mean load power: 185.2 mW  duration duty cycle: 5s[0m
[0;32mI (30818) energy: panel energy in deep sleep: 99158.4mWs[0m
[0;32mI (30818) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30828) energy: battery energy in deep sleep: 98722.8mWs[0m
New measureTemp event with ID: 40
New getNextDutyFreqE event with ID: 41
[0;32mI (31898) energy: Force deep sleep 200
[0m
[0;32mI (32998) functions: MeasureTempFunction started[0m
New temp event with ID: 42
[0;32mI (33018) functions: MeasureTempFunction terminated[0m
[0;32mI (33098) functions: CalcDutyFreqFunction started[0m
[0;32mI (33098) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33098) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33108) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33128) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33198) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2626.975830mWh  Level Day1: 70.713821%[0m
[0;32mI (33208) CalcDutyFreqFunction: Level Day1: 70.713821%  energy: 2161.975830mWh  Level Day2: 112.450806%[0m
[0;32mI (33218) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 611.975952mWh  Level Day3: 111.814209%[0m
[0;32mI (33228) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -71.024071mWh  Level Day4: 98.628876%[0m
[0;32mI (33238) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day1 battery checkpoint: 70.713821[0m
[0;32mI (33258) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33268) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 battery checkpoint: 98.628876[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.139442%  checkpoint: 98.628876%   energy consumed from battery: 0.514170% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.139442%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.209473%  checkpoint: 98.628876%   energy consumed from battery: 0.540425% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.209473%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.314293%  checkpoint: 98.628876%   energy consumed from battery: 0.579726% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.314293%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.488350%  checkpoint: 98.628876%   energy consumed from battery: 0.645011% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.488350%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.834408%  checkpoint: 98.628876%   energy consumed from battery: 0.774775% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.834408%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.855671%  checkpoint: 98.628876%   energy consumed from battery: 1.157736% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.855671%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.226765%  checkpoint: 100.000000%   energy consumed from battery: 1.371121% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.226765%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.296803%  checkpoint: 100.000000%   energy consumed from battery: 1.441134% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.296803%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.401630%  checkpoint: 100.000000%   energy consumed from battery: 1.545937% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.401630%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.575672%  checkpoint: 100.000000%   energy consumed from battery: 1.720029% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.575672%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.921741%  checkpoint: 100.000000%   energy consumed from battery: 2.066066% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.921741%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.943012%  checkpoint: 100.000000%   energy consumed from battery: 3.087297% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.943012%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.128784%  checkpoint: 100.000000%   energy consumed from battery: 0.514170% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.128784%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.198814%  checkpoint: 100.000000%   energy consumed from battery: 0.540425% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.198814%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.303638%  checkpoint: 100.000000%   energy consumed from battery: 0.579726% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.303638%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.477695%  checkpoint: 100.000000%   energy consumed from battery: 0.645011% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.477695%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.823753%  checkpoint: 100.000000%   energy consumed from battery: 0.774775% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.823753%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.845020%  checkpoint: 100.000000%   energy consumed from battery: 1.157736% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.845020%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.514170%  checkpoint: 70.713821%   energy consumed from battery: 0.514170% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.514170%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.540425%  checkpoint: 70.713821%   energy consumed from battery: 0.540425% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.540425%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.579726%  checkpoint: 70.713821%   energy consumed from battery: 0.579726% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.579726%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.645011%  checkpoint: 70.713821%   energy consumed from battery: 0.645011% [0m
[0;32mI (33758) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.645011%).[0m
[0;32mI (33768) CalcDutyFreqFunction: Day1 sleep time: 4ed stack element (0, 200s, 1.157736%).[0m
[0;32mI (33948) energy: Day0: sleep time: 200s  Battery level required at start: 1.157736%[0m
[0;32mI (33958) energy: Day1: sleep time: 200s  Battery level required at start: 1.157736%[0m
[0;32mI (33958) energy: Day2: sleep time: 200s  Battery level required at start: 35.845020%[0m
[0;32mI (33968) energy: Day3: sleep time: 200s  Battery level required at start: 45.943012%[0m
[0;32mI (33978) energy: Day4: sleep time: 200s  Battery level required at start: 42.855671%[0m
New adjustDutyFreqE event with ID: 43
[0;32mI (33988) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33998) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34198) functions: SendToMqttFunction started[0m
[0;32mI (34198) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732966857207,"temp":27.3}]}]}> to topic 4/230/data[0m
[0;32mI (34228) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732966857207,"loadPower":311.0,"loadEnergy":7970.3,"batteryPower":45.8,"batteryEnergy":15100.9,"batteryRSOC":99.0,"panelPower":855.3,"panelEnergy":29696.8}]}]}> to topic 4/230/data[0m
[0;32mI (34248) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732966857207,"voltage":3.8,"rsoc":56.6,"rate":6.2}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34258) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732966857207,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34268) functions: SendToMqttFunction terminated[0m
[0;32mI (34298) functions: SetSleepTimeFunction started[0m
[0;32mI (34298) energy: Set sleepTime_s to 200[0m
[0;32mI (34298) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35898) mqtt: MQTT resourceSleep[0m
[0;32mI (35898) energy: Energy manager terminates.[0m
[0;32mI (35898) energy: Energy manager terminated.[0m
[0;32mI (35898) energy: Mean panel power: 500.8 mW  duration duty cycle: 5s[0m
[0;32mI (35908) energy: Mean load power: 178.0 mW  duration duty cycle: 5s[0m
[0;32mI (35908) energy: Load energy: 28693356.0 mWs (diff: 890.0mWs)[0m
[0;32mI (35918) energy: Battery energy: 54363384.0 mWs (diff: 180.0mWs)[0m
[0;32mI (35928) energy: Panel energy: 106909360.0 mWs (diff: 2504.0mWs)[0m
[0;32mI (35938) energy: Energy Manager saved state: (500.8, 1732966860075504, 178.0, 5, 1732966858167800, 0)[0m
[0;32mI (35948) energy: Energy saved: (28693368.0, 106909384.0, 54363384.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3828) energy: Energy retrieved: (28693368.0, 106909384.0, 54363384.0)[0m
wakeup clock
[0;32mI (23828) sntp: The current date/time in Germany is: Sat Nov 30 12:44:41 2024[0m
[0;32mI (23828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24538) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25228) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25918) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26628) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27308) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27998) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28678) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29368) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30068) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30758) energy: Energy Manager state retrieved: (500.8, 1732966860075504, 178.0, 5, 1732966858167800, 0)[0m
[0;32mI (30768) energy: Last mean panel power: 500.8mW[0m
[0;32mI (30768) energy: Duration of deep sleep: 198s[0m
[0;32mI (30778) energy: Mean load power: 178.0 mW  duration duty cycle: 5s[0m
[0;32mI (30778) energy: panel energy in deep sleep: 99158.4mWs[0m
[0;32mI (30788) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30788) energy: battery energy in deep sleep: 98722.8mWs[0m
New measureTemp event with ID: 44
New getNextDutyFreqE event with ID: 45
[0;32mI (31888) energy: Force deep sleep 200
[0m
[0;32mI (32978) functions: MeasureTempFunction started[0m
New temp event with ID: 46
[0;32mI (32998) functions: MeasureTempFunction terminated[0m
[0;32mI (33078) functions: CalcDutyFreqFunction started[0m
[0;32mI (33078) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33078) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33088) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33178) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.692871mWh  Level Day1: 70.727661%[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day1: 70.727661%  energy: 2162.692871mWh  Level Day2: 112.478485%[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.692932mWh  Level Day3: 111.828049%[0m
[0;32mI (33208) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.307060mWh  Level Day4: 98.642723%[0m
[0;32mI (33218) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day1 battery checkpoint: 70.727661[0m
[0;32mI (33238) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 battery checkpoint: 98.642723[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.125610%  checkpoint: 98.642723%   energy consumed from battery: 0.508980% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.125610%).[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.192894%  checkpoint: 98.642723%   energy consumed from battery: 0.534202% [0m
[0;32mI (33298) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.192894%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.293526%  checkpoint: 98.642723%   energy consumed from battery: 0.571956% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.293526%).[0m
[0;32mI (33328) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.460789%  checkpoint: 98.642723%   energy consumed from battery: 0.634672% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.460789%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.793213%  checkpoint: 98.642723%   energy consumed from battery: 0.759331% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.793213%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.774284%  checkpoint: 98.642723%   energy consumed from battery: 1.127225% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.774284%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.131554%  checkpoint: 100.000000%   energy consumed from battery: 1.357279% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.131554%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.198845%  checkpoint: 100.000000%   energy consumed from battery: 1.424538% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.198845%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.299461%  checkpoint: 100.000000%   energy consumed from battery: 1.525216% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.299461%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.466728%  checkpoint: 100.000000%   energy consumed from battery: 1.692460% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.466728%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.799156%  checkpoint: 100.000000%   energy consumed from battery: 2.024882% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.799156%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.780235%  checkpoint: 100.000000%   energy consumed from battery: 3.005934% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.780235%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 33.952175%  checkpoint: 100.000000%   energy consumed from battery: 0.508980% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 33.952175%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.019463%  checkpoint: 100.000000%   energy consumed from battery: 0.534202% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.019463%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.120094%  checkpoint: 100.000000%   energy consumed from battery: 0.571956% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.120094%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.287350%  checkpoint: 100.000000%   energy consumed from battery: 0.634672% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.287350%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.619778%  checkpoint: 100.000000%   energy consumed from battery: 0.759331% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.619778%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.600857%  checkpoint: 100.000000%   energy consumed from battery: 1.127225% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.600857%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.508980%  checkpoint: 70.727661%   energy consumed from battery: 0.508980% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.508980%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.534202%  checkpoint: 70.727661%   energy consumed from battery: 0.534202% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.534202%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.571956%  checkpoint: 70.727661%   energy consumed from battery: 0.571956% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.571956%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.634672%  checkpoint: 70.727661%   energy consumed from battery: 0.634672% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.634672%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.759331%  checkpoint: 70.727661%   energy consumed from battery: 0.759331% [0m
[0;32mI (33758) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.759331%).[0m
[0;32mI (33768) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 45.780235%[0m
[0;32mI (33958) energy: Day4: sleep time: 200s  Battery level required at start: 42.774284%[0m
New adjustDutyFreqE event with ID: 47
[0;32mI (33968) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33978) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34178) functions: SendToMqttFunction started[0m
[0;32mI (34178) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34178) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732967090572,"temp":27.4}]}]}> to topic 4/230/data[0m
[0;32mI (34208) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732967090572,"loadPower":541.3,"loadEnergy":7972.1,"batteryPower":-19.4,"batteryEnergy":15131.2,"batteryRSOC":97.0,"panelPower":629.6,"panelEnergy":29731.3}]}]}> to topic 4/230/data[0m
[0;32mI (34228) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732967090572,"voltage":4.1,"rsoc":83.5,"rate":-3.3}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34238) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732967090572,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34248) functions: SendToMqttFunction terminated[0m
[0;32mI (34278) functions: SetSleepTimeFunction started[0m
[0;32mI (34278) energy: Set sleepTime_s to 200[0m
[0;32mI (34278) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35888) mqtt: MQTT resourceSleep[0m
[0;32mI (35888) energy: Energy manager terminates.[0m
[0;32mI (35888) energy: Energy manager terminated.[0m
[0;32mI (35888) energy: Mean panel power: 798.4 mW  duration duty cycle: 5s[0m
[0;32mI (35898) energy: Mean load power: 176.8 mW  duration duty cycle: 5s[0m
[0;32mI (35908) energy: Load energy: 28699676.0 mWs (diff: 884.0mWs)[0m
[0;32mI (35908) energy: Battery energy: 54472892.0 mWs (diff: 1776.0mWs)[0m
[0;32mI (35918) energy: Panel energy: 107033992.0 mWs (diff: 3992.0mWs)[0m
[0;32mI (35938) energy: Energy Manager saved state: (798.4, 1732967093454545, 176.8, 5, 1732967091534926, 0)[0m
[0;32mI (35948) energy: Energy saved: (28699684.0, 107034024.0, 54472908.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28699684.0, 107034024.0, 54472908.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 12:48:34 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24578) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25248) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25938) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26628) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27328) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28008) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28688) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29388) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30098) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30788) energy: Energy Manager state retrieved: (798.4, 1732967093454545, 176.8, 5, 1732967091534926, 0)[0m
[0;32mI (30798) energy: Last mean panel power: 798.4mW[0m
[0;32mI (30798) energy: Duration of deep sleep: 198s[0m
[0;32mI (30808) energy: Mean load power: 176.8 mW  duration duty cycle: 5s[0m
[0;32mI (30818) energy: panel energy in deep sleep: 158083.2mWs[0m
[0;32mI (30818) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30828) energy: battery energy in deep sleep: 117447.0mWs[0m
New measureTemp event with ID: 48
New getNextDutyFreqE event with ID: 49
[0;32mI (31898) energy: Force deep sleep 200
[0m
[0;32mI (32998) functions: MeasureTempFunction started[0m
New temp event with ID: 50
[0;32mI (33018) functions: MeasureTempFunction terminated[0m
[0;32mI (33098) functions: CalcDutyFreqFunction started[0m
[0;32mI (33098) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33098) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33108) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33128) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33198) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.812500mWh  Level Day1: 70.729973%[0m
[0;32mI (33208) CalcDutyFreqFunction: Level Day1: 70.729973%  energy: 2162.812500mWh  Level Day2: 112.483109%[0m
[0;32mI (33218) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.812439mWh  Level Day3: 111.830353%[0m
[0;32mI (33228) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.187553mWh  Level Day4: 98.645027%[0m
[0;32mI (33238) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day1 battery checkpoint: 70.729973[0m
[0;32mI (33258) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33268) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 battery checkpoint: 98.645027[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.123322%  checkpoint: 98.645027%   energy consumed from battery: 0.508115% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.123322%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.190144%  checkpoint: 98.645027%   energy consumed from battery: 0.533164% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.190144%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.290123%  checkpoint: 98.645027%   energy consumed from battery: 0.570661% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.290123%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.456207%  checkpoint: 98.645027%   energy consumed from battery: 0.632949% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.456207%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.786350%  checkpoint: 98.645027%   energy consumed from battery: 0.756757% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.786350%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.760735%  checkpoint: 98.645027%   energy consumed from battery: 1.122140% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.760735%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.115715%  checkpoint: 100.000000%   energy consumed from battery: 1.354972% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.115715%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.182549%  checkpoint: 100.000000%   energy consumed from battery: 1.421771% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.182549%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.282524%  checkpoint: 100.000000%   energy consumed from battery: 1.521763% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.282524%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.448601%  checkpoint: 100.000000%   energy consumed from battery: 1.687865% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.448601%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.778740%  checkpoint: 100.000000%   energy consumed from battery: 2.018018% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.778740%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.753136%  checkpoint: 100.000000%   energy consumed from battery: 2.992372% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.753136%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 33.922787%  checkpoint: 100.000000%   energy consumed from battery: 0.508115% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 33.922787%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 33.989613%  checkpoint: 100.000000%   energy consumed from battery: 0.533164% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 33.989613%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.089592%  checkpoint: 100.000000%   energy consumed from battery: 0.570661% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.089592%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.255672%  checkpoint: 100.000000%   energy consumed from battery: 0.632949% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.255672%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.585812%  checkpoint: 100.000000%   energy consumed from battery: 0.756757% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.585812%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.560204%  checkpoint: 100.000000%   energy consumed from battery: 1.122140% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.560204%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.508115%  checkpoint: 70.729973%   energy consumed from battery: 0.508115% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.508115%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.533164%  checkpoint: 70.729973%   energy consumed from battery: 0.533164% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.533164%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.570661%  checkpoint: 70.729973%   energy consumed from battery: 0.570661% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.570661%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.632949%  checkpoint: 70.729973%   energy consumed from battery: 0.632949% [0m
[0;32mI (33758) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.632949%).[0m
[0;32mI (33768) CalcDutyFreqFunction: Day1 sleep time: 4ed stack element (0, 200s, 1.122140%).[0m
[0;32mI (33948) energy: Day0: sleep time: 200s  Battery level required at start: 1.122140%[0m
[0;32mI (33948) energy: Day1: sleep time: 200s  Battery level required at start: 1.122140%[0m
[0;32mI (33958) energy: Day2: sleep time: 200s  Battery level required at start: 35.560204%[0m
[0;32mI (33968) energy: Day3: sleep time: 200s  Battery level required at start: 45.753136%[0m
[0;32mI (33978) energy: Day4: sleep time: 200s  Battery level required at start: 42.760735%[0m
New adjustDutyFreqE event with ID: 51
[0;32mI (33988) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33998) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34198) functions: SendToMqttFunction started[0m
[0;32mI (34198) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732967324090,"temp":27.4}]}]}> to topic 4/230/data[0m
[0;32mI (34228) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732967324090,"loadPower":321.5,"loadEnergy":7973.8,"batteryPower":63.5,"batteryEnergy":15164.9,"batteryRSOC":98.0,"panelPower":647.4,"panelEnergy":29778.3}]}]}> to topic 4/230/data[0m
[0;32mI (34248) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732967324090,"voltage":4.1,"rsoc":85.6,"rate":-9.6}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34258) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732967324090,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34278) functions: SendToMqttFunction terminated[0m
[0;32mI (34398) functions: SetSleepTimeFunction started[0m
[0;32mI (34398) energy: Set sleepTime_s to 200[0m
[0;32mI (34398) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35898) mqtt: MQTT resourceSleep[0m
[0;32mI (35898) energy: Energy manager terminates.[0m
[0;32mI (35898) energy: Energy manager terminated.[0m
[0;32mI (35898) energy: Mean panel power: 769.6 mW  duration duty cycle: 5s[0m
[0;32mI (35908) energy: Mean load power: 191.6 mW  duration duty cycle: 5s[0m
[0;32mI (35918) energy: Load energy: 28705946.0 mWs (diff: 958.0mWs)[0m
[0;32mI (35918) energy: Battery energy: 54594316.0 mWs (diff: 1732.0mWs)[0m
[0;32mI (35928) energy: Panel energy: 107203272.0 mWs (diff: 3848.0mWs)[0m
[0;32mI (35948) energy: Energy Manager saved state: (769.6, 1732967326959911, 191.6, 5, 1732967325049752, 0)[0m
[0;32mI (35958) energy: Energy saved: (28705954.0, 107203304.0, 54594332.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28705954.0, 107203304.0, 54594332.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 12:52:28 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24508) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25178) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25868) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26568) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27248) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27948) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28648) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29338) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30038) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30748) energy: Energy Manager state retrieved: (769.6, 1732967326959911, 191.6, 5, 1732967325049752, 0)[0m
[0;32mI (30748) energy: Last mean panel power: 769.6mW[0m
[0;32mI (30748) energy: Duration of deep sleep: 198s[0m
[0;32mI (30758) energy: Mean load power: 191.6 mW  duration duty cycle: 5s[0m
[0;32mI (30758) energy: panel energy in deep sleep: 152380.8mWs[0m
[0;32mI (30768) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30778) energy: battery energy in deep sleep: 89952.5mWs[0m
New measureTemp event with ID: 52
New getNextDutyFreqE event with ID: 53
[0;32mI (31858) energy: Force deep sleep 200
[0m
[0;32mI (32948) functions: MeasureTempFunction started[0m
New temp event with ID: 54
[0;32mI (32968) functions: MeasureTempFunction terminated[0m
[0;32mI (33048) functions: CalcDutyFreqFunction started[0m
[0;32mI (33048) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33048) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33058) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403487
Timestamp of last solar prediction: 403487
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33148) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33148) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2626.338623mWh  Level Day1: 70.701515%[0m
[0;32mI (33158) CalcDutyFreqFunction: Level Day1: 70.701515%  energy: 2161.338623mWh  Level Day2: 112.426201%[0m
[0;32mI (33168) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 611.338562mWh  Level Day3: 111.801903%[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -71.661415mWh  Level Day4: 98.616577%[0m
[0;32mI (33188) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33198) CalcDutyFreqFunction: Day1 battery checkpoint: 70.701515[0m
[0;32mI (33208) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33218) CalcDutyFreqFunction: Day4 battery checkpoint: 98.616577[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.151787%  checkpoint: 98.616577%   energy consumed from battery: 0.518784% [0m
[0;32mI (33238) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.151787%).[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.224216%  checkpoint: 98.616577%   energy consumed from battery: 0.545957% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.224216%).[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.332699%  checkpoint: 98.616577%   energy consumed from battery: 0.586633% [0m
[0;32mI (33288) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.332699%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.512878%  checkpoint: 98.616577%   energy consumed from battery: 0.654201% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.512878%).[0m
[0;32mI (33318) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.871025%  checkpoint: 98.616577%   energy consumed from battery: 0.788503% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.871025%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.927929%  checkpoint: 98.616577%   energy consumed from battery: 1.184857% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.927929%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.311382%  checkpoint: 100.000000%   energy consumed from battery: 1.383425% [0m
[0;32mI (33378) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.311382%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.383801%  checkpoint: 100.000000%   energy consumed from battery: 1.455887% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.383801%).[0m
[0;32mI (33408) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.492290%  checkpoint: 100.000000%   energy consumed from battery: 1.564354% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.492290%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.672466%  checkpoint: 100.000000%   energy consumed from battery: 1.744535% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.672466%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.030621%  checkpoint: 100.000000%   energy consumed from battery: 2.102674% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.030621%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.087505%  checkpoint: 100.000000%   energy consumed from battery: 3.159620% [0m
[0;32mI (33488) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.087505%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.285625%  checkpoint: 100.000000%   energy consumed from battery: 0.518784% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.285625%).[0m
[0;32mI (33518) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.358047%  checkpoint: 100.000000%   energy consumed from battery: 0.545957% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.358047%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.466537%  checkpoint: 100.000000%   energy consumed from battery: 0.586633% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.466537%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.646713%  checkpoint: 100.000000%   energy consumed from battery: 0.654201% [0m
[0;32mI (33578) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.646713%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 35.004864%  checkpoint: 100.000000%   energy consumed from battery: 0.788503% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 400s, 35.004864%).[0m
[0;32mI (33608) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 36.061768%  checkpoint: 100.000000%   energy consumed from battery: 1.184857% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.061768%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.518784%  checkpoint: 70.701515%   energy consumed from battery: 0.518784% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.518784%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.545957%  checkpoint: 70.701515%   energy consumed from battery: 0.545957% [0m
[0;32mI (33668) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.545957%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.586633%  checkpoint: 70.701515%   energy consumed from battery: 0.586633% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.586633%).[0m
[0;32mI (33698) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.654201%  checkpoint: 70.701515%   energy consumed from battery: 0.654201% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.654201%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.788503%  checkpoint: 70.701515%   energy consumed from battery: 0.788503% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.788503%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1equired at start: 42.927929%[0m
New adjustDutyFreqE event with ID: 55
[0;32mI (33938) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33948) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34148) functions: SendToMqttFunction started[0m
[0;32mI (34148) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34148) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732967557763,"temp":27.5}]}]}> to topic 4/230/data[0m
[0;32mI (34178) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732967557763,"loadPower":526.5,"loadEnergy":7975.6,"batteryPower":-25.7,"batteryEnergy":15190.4,"batteryRSOC":84.0,"panelPower":764.3,"panelEnergy":29825.3}]}]}> to topic 4/230/data[0m
[0;32mI (34198) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732967557763,"voltage":3.8,"rsoc":89.1,"rate":-15.6}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34208) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732967557763,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34228) functions: SendToMqttFunction terminated[0m
[0;32mI (34248) functions: SetSleepTimeFunction started[0m
[0;32mI (34248) energy: Set sleepTime_s to 200[0m
[0;32mI (34248) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35858) mqtt: MQTT resourceSleep[0m
[0;32mI (35858) energy: Energy manager terminates.[0m
[0;32mI (35858) energy: Energy manager terminated.[0m
[0;32mI (35858) energy: Mean panel power: 500.8 mW  duration duty cycle: 5s[0m
[0;32mI (35868) energy: Mean load power: 190.8 mW  duration duty cycle: 5s[0m
[0;32mI (35868) energy: Load energy: 28712608.0 mWs (diff: 954.0mWs)[0m
[0;32mI (35878) energy: Battery energy: 54685576.0 mWs (diff: 84.0mWs)[0m
[0;32mI (35888) energy: Panel energy: 107372024.0 mWs (diff: 2504.0mWs)[0m
[0;32mI (35898) energy: Energy Manager saved state: (500.8, 1732967560640236, 190.8, 5, 1732967558722579, 0)[0m
[0;32mI (35908) energy: Energy saved: (28712620.0, 107372048.0, 54685576.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28712620.0, 107372048.0, 54685576.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 12:56:21 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24528) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25218) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25898) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26568) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27248) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27948) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28648) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29368) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30058) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30758) energy: Energy Manager state retrieved: (500.8, 1732967560640236, 190.8, 5, 1732967558722579, 0)[0m
[0;32mI (30768) energy: Last mean panel power: 500.8mW[0m
[0;32mI (30768) energy: Duration of deep sleep: 198s[0m
[0;32mI (30768) energy: Mean load power: 190.8 mW  duration duty cycle: 5s[0m
[0;32mI (30778) energy: panel energy in deep sleep: 99158.4mWs[0m
[0;32mI (30788) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30788) energy: battery energy in deep sleep: 98722.8mWs[0m
New measureTemp event with ID: 56
New getNextDutyFreqE event with ID: 57
[0;32mI (31868) energy: Force deep sleep 200
[0m
[0;32mI (32958) functions: MeasureTempFunction started[0m
New temp event with ID: 58
[0;32mI (32978) functions: MeasureTempFunction terminated[0m
[0;32mI (33058) functions: CalcDutyFreqFunction started[0m
[0;32mI (33058) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33058) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33068) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33078) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403488
Timestamp of last solar prediction: 403488
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33158) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33158) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2626.418213mWh  Level Day1: 70.703056%[0m
[0;32mI (33168) CalcDutyFreqFunction: Level Day1: 70.703056%  energy: 2161.418213mWh  Level Day2: 112.429276%[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 611.418274mWh  Level Day3: 111.803444%[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -71.581749mWh  Level Day4: 98.618111%[0m
[0;32mI (33198) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33208) CalcDutyFreqFunction: Day1 battery checkpoint: 70.703056[0m
[0;32mI (33218) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 battery checkpoint: 98.618111[0m
[0;32mI (33238) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.150230%  checkpoint: 98.618111%   energy consumed from battery: 0.518208% [0m
[0;32mI (33248) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.150230%).[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.222382%  checkpoint: 98.618111%   energy consumed from battery: 0.545266% [0m
[0;32mI (33278) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.222382%).[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.330406%  checkpoint: 98.618111%   energy consumed from battery: 0.585770% [0m
[0;32mI (33298) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.330406%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.509846%  checkpoint: 98.618111%   energy consumed from battery: 0.653052% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.509846%).[0m
[0;32mI (33328) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.866447%  checkpoint: 98.618111%   energy consumed from battery: 0.786787% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.866447%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.918938%  checkpoint: 98.618111%   energy consumed from battery: 1.181467% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.918938%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.300835%  checkpoint: 100.000000%   energy consumed from battery: 1.381887% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.300835%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.372978%  checkpoint: 100.000000%   energy consumed from battery: 1.454043% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.372978%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.481010%  checkpoint: 100.000000%   energy consumed from battery: 1.562052% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.481010%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.660454%  checkpoint: 100.000000%   energy consumed from battery: 1.741472% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.660454%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 45.017052%  checkpoint: 100.000000%   energy consumed from battery: 2.098099% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (3, 400s, 45.017052%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.069542%  checkpoint: 100.000000%   energy consumed from battery: 3.150580% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.069542%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.266109%  checkpoint: 100.000000%   energy consumed from battery: 0.518208% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.266109%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.338253%  checkpoint: 100.000000%   energy consumed from battery: 0.545266% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.338253%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.446281%  checkpoint: 100.000000%   energy consumed from battery: 0.585770% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.446281%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.625721%  checkpoint: 100.000000%   energy consumed from battery: 0.653052% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.625721%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.982327%  checkpoint: 100.000000%   energy consumed from battery: 0.786787% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.982327%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 36.034813%  checkpoint: 100.000000%   energy consumed from battery: 1.181467% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 200s, 36.034813%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.518208%  checkpoint: 70.703056%   energy consumed from battery: 0.518208% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.518208%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.545266%  checkpoint: 70.703056%   energy consumed from battery: 0.545266% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.545266%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.585770%  checkpoint: 70.703056%   energy consumed from battery: 0.585770% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.585770%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.653052%  checkpoint: 70.703056%   energy consumed from battery: 0.653052% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.653052%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.786787%  checkpoint: 70.703056%   energy consumed from battery: 0.786787% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.786787%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 46.069542%[0m
[0;32mI (33938) energy: Day4: sleep time: 200s  Battery level required at start: 42.918938%[0m
New adjustDutyFreqE event with ID: 59
[0;32mI (33948) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33958) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34258) functions: SendToMqttFunction started[0m
[0;32mI (34258) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34258) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732967791164,"temp":27.7}]}]}> to topic 4/230/data[0m
[0;32mI (34288) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732967791164,"loadPower":208.5,"loadEnergy":7977.5,"batteryPower":45.8,"batteryEnergy":15218.7,"batteryRSOC":99.0,"panelPower":837.2,"panelEnergy":29857.9}]}]}> to topic 4/230/data[0m
[0;32mI (34308) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732967791164,"voltage":4.1,"rsoc":56.9,"rate":0.0}]}]}> to topic 4/230/data[0m
hour: 12  lastHour:12
[0;32mI (34318) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732967791164,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34328) functions: SendToMqttFunction terminated[0m
[0;32mI (34358) functions: SetSleepTimeFunction started[0m
[0;32mI (34358) energy: Set sleepTime_s to 200[0m
[0;32mI (34358) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35868) mqtt: MQTT resourceSleep[0m
[0;32mI (35868) energy: Energy manager terminates.[0m
[0;32mI (35868) energy: Energy manager terminated.[0m
[0;32mI (35868) energy: Mean panel power: 812.8 mW  duration duty cycle: 5s[0m
[0;32mI (35878) energy: Mean load power: 189.6 mW  duration duty cycle: 5s[0m
[0;32mI (35878) energy: Load energy: 28719368.0 mWs (diff: 948.0mWs)[0m
[0;32mI (35888) energy: Battery energy: 54787772.0 mWs (diff: 1680.0mWs)[0m
[0;32mI (35898) energy: Panel energy: 107489800.0 mWs (diff: 4064.0mWs)[0m
[0;32mI (35908) energy: Energy Manager saved state: (812.8, 1732967794043319, 189.6, 5, 1732967792125735, 0)[0m
[0;32mI (35938) energy: Energy saved: (28719386.0, 107489848.0, 54787788.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3828) energy: Energy retrieved: (28719386.0, 107489848.0, 54787788.0)[0m
wakeup clock
[0;32mI (23828) sntp: The current date/time in Germany is: Sat Nov 30 13:00:15 2024[0m
[0;32mI (23828) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24528) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25218) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25898) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26578) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27418) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28098) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28788) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29498) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30198) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30898) energy: Energy Manager state retrieved: (812.8, 1732967794043319, 189.6, 5, 1732967792125735, 0)[0m
[0;32mI (30898) energy: Last mean panel power: 812.8mW[0m
[0;32mI (30898) energy: Duration of deep sleep: 198s[0m
[0;32mI (30908) energy: Mean load power: 189.6 mW  duration duty cycle: 5s[0m
[0;32mI (30918) energy: panel energy in deep sleep: 160934.4mWs[0m
[0;32mI (30918) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30928) energy: battery energy in deep sleep: 109924.5mWs[0m
New measureTemp event with ID: 60
New getNextDutyFreqE event with ID: 61
[0;32mI (32008) energy: Force deep sleep 200
[0m
[0;32mI (33098) functions: MeasureTempFunction started[0m
New temp event with ID: 62
[0;32mI (33118) functions: MeasureTempFunction terminated[0m
[0;32mI (33198) functions: CalcDutyFreqFunction started[0m
[0;32mI (33198) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33198) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33208) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33208) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33218) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33218) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33228) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403488
Timestamp of last solar prediction: 403488
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33298) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33298) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2626.537842mWh  Level Day1: 70.705360%[0m
[0;32mI (33308) CalcDutyFreqFunction: Level Day1: 70.705360%  energy: 2161.537842mWh  Level Day2: 112.433891%[0m
[0;32mI (33318) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 611.537781mWh  Level Day3: 111.805748%[0m
[0;32mI (33328) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -71.462242mWh  Level Day4: 98.620422%[0m
[0;32mI (33338) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33348) CalcDutyFreqFunction: Day1 battery checkpoint: 70.705360[0m
[0;32mI (33358) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33368) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 battery checkpoint: 98.620422[0m
[0;32mI (33378) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.147942%  checkpoint: 98.620422%   energy consumed from battery: 0.517342% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.147942%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.219627%  checkpoint: 98.620422%   energy consumed from battery: 0.544229% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.219627%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.326935%  checkpoint: 98.620422%   energy consumed from battery: 0.584475% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.326935%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.505196%  checkpoint: 98.620422%   energy consumed from battery: 0.651329% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.505196%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.859581%  checkpoint: 98.620422%   energy consumed from battery: 0.784213% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.859581%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.905384%  checkpoint: 98.620422%   energy consumed from battery: 1.176382% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.905384%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.284992%  checkpoint: 100.000000%   energy consumed from battery: 1.379580% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.284992%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.356678%  checkpoint: 100.000000%   energy consumed from battery: 1.451277% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.356678%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.463978%  checkpoint: 100.000000%   energy consumed from battery: 1.558599% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.463978%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.642231%  checkpoint: 100.000000%   energy consumed from battery: 1.736878% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.642231%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.996632%  checkpoint: 100.000000%   energy consumed from battery: 2.091234% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.996632%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 46.042439%  checkpoint: 100.000000%   energy consumed from battery: 3.137019% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (3, 200s, 46.042439%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.236713%  checkpoint: 100.000000%   energy consumed from battery: 0.517342% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.236713%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.308403%  checkpoint: 100.000000%   energy consumed from battery: 0.544229% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.308403%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.415703%  checkpoint: 100.000000%   energy consumed from battery: 0.584475% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.415703%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.593967%  checkpoint: 100.000000%   energy consumed from battery: 0.651329% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.593967%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.948357%  checkpoint: 100.000000%   energy consumed from battery: 0.784213% [0m
[0;32mI (33748) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.948357%).[0m
[0;32mI (33758) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.994160%  checkpoint: 100.000000%   energy consumed from battery: 1.176382% [0m
[0;32mI (33768) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.994160%).[0m
[0;32mI (33778) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.517342%  checkpoint: 70.705360%   energy consumed from battery: 0.517342% [0m
[0;32mI (33798) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.517342%).[0m
[0;32mI (33798) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.544229%  checkpoint: 70.705360%   energy consumed from battery: 0.544229% [0m
[0;32mI (33818) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.544229%).[0m
[0;32mI (33828) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.584475%  checkpoint: 70.705360%   energy consumed from battery: 0.584475% [0m
[0;32mI (33838) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.584475%).[0m
[0;32mI (33848) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.651329%  checkpoint: 70.705360%   energy consumed from battery: 0.651329% [0m
[0;32mI (33858) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.651329%).[0m
[0;32mI (33868) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.784213%  checkpoint: 70.705360%   energy consumed from battery: 0.784213% [0m
[0;32mI (33878) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.784213%).[0m
[0;32mI (33888) CalcDutyFreqFunction: Day1equired at start: 42.905384%[0m
New adjustDutyFreqE event with ID: 63
[0;32mI (34088) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (34098) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34298) functions: SendToMqttFunction started[0m
[0;32mI (34298) energy: Energy status for hourly reporting retrieved: (1732964423864529, 28628672.0, 105063816.0, 52866876.0)[0m
[0;32mI (34298) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732968024570,"temp":27.5}]}]}> to topic 4/230/data[0m
[0;32mI (34328) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732968024570,"loadPower":494.4,"loadEnergy":7979.3,"batteryPower":202.2,"batteryEnergy":15252.2,"batteryRSOC":97.0,"panelPower":619.8,"panelEnergy":29909.7}]}]}> to topic 4/230/data[0m
[0;32mI (34348) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732968024570,"voltage":3.9,"rsoc":86.6,"rate":-3.7}]}]}> to topic 4/230/data[0m
hour: 13  lastHour:12
[0;32mI (34358) mqtt: Sent <{"sensors":[{"name":"energyHourly","values":[{"timestamp":1732968024570,"energyLoad":26.9,"energyPanel":725.3,"energyBattery":567.0}]}]}> to topic 4/230/data[0m
[0;32mI (34388) energy: Energy stats saved: (1732968025821588, 28725390.0, 107674896.0, 54907948.0)[0m
[0;32mI (34388) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732968024570,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34398) functions: SetSleepTimeFunction started[0m
[0;32mI (34408) functions: SendToMqttFunction terminated[0m
[0;32mI (34408) energy: Set sleepTime_s to 200[0m
[0;32mI (34418) functions: SetSleepTimeFunction terminated[0m
[0;32mI (36008) mqtt: MQTT resourceSleep[0m
[0;32mI (36008) energy: Energy manager terminates.[0m
[0;32mI (36008) energy: Energy manager terminated.[0m
[0;32mI (36008) energy: Mean panel power: 800.0 mW  duration duty cycle: 5s[0m
[0;32mI (36018) energy: Mean load power: 183.6 mW  duration duty cycle: 5s[0m
[0;32mI (36028) energy: Load energy: 28725686.0 mWs (diff: 918.0mWs)[0m
[0;32mI (36028) energy: Battery energy: 54908524.0 mWs (diff: 1752.0mWs)[0m
[0;32mI (36038) energy: Panel energy: 107676216.0 mWs (diff: 4000.0mWs)[0m
[0;32mI (36058) energy: Energy Manager saved state: (800.0, 1732968027452486, 183.6, 5, 1732968025532811, 0)[0m
[0;32mI (36068) energy: Energy saved: (28725694.0, 107676248.0, 54908540.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28725694.0, 107676248.0, 54908540.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 13:04:08 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24498) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25198) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25898) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26578) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27278) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27968) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28678) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29368) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30068) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30768) energy: Energy Manager state retrieved: (800.0, 1732968027452486, 183.6, 5, 1732968025532811, 0)[0m
[0;32mI (30778) energy: Last mean panel power: 800.0mW[0m
[0;32mI (30778) energy: Duration of deep sleep: 198s[0m
[0;32mI (30778) energy: Mean load power: 183.6 mW  duration duty cycle: 5s[0m
[0;32mI (30788) energy: panel energy in deep sleep: 158400.0mWs[0m
[0;32mI (30798) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30798) energy: battery energy in deep sleep: 41264.5mWs[0m
New measureTemp event with ID: 64
New getNextDutyFreqE event with ID: 65
[0;32mI (31888) energy: Force deep sleep 200
[0m
[0;32mI (32978) functions: MeasureTempFunction started[0m
New temp event with ID: 66
[0;32mI (32998) functions: MeasureTempFunction terminated[0m
[0;32mI (33078) functions: CalcDutyFreqFunction started[0m
[0;32mI (33078) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33078) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33088) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403488
Timestamp of last solar prediction: 403488
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33178) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.135254mWh  Level Day1: 70.716896%[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day1: 70.716896%  energy: 2162.135254mWh  Level Day2: 112.456955%[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.135254mWh  Level Day3: 111.817284%[0m
[0;32mI (33208) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.864731mWh  Level Day4: 98.631958%[0m
[0;32mI (33218) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day1 battery checkpoint: 70.716896[0m
[0;32mI (33238) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 battery checkpoint: 98.631958[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.136406%  checkpoint: 98.631958%   energy consumed from battery: 0.513017% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.136406%).[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.205803%  checkpoint: 98.631958%   energy consumed from battery: 0.539042% [0m
[0;32mI (33298) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.205803%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.309643%  checkpoint: 98.631958%   energy consumed from battery: 0.577999% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.309643%).[0m
[0;32mI (33328) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.482216%  checkpoint: 98.631958%   energy consumed from battery: 0.642714% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.482216%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.825256%  checkpoint: 98.631958%   energy consumed from battery: 0.771343% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.825256%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.837555%  checkpoint: 98.631958%   energy consumed from battery: 1.150956% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.837555%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.205627%  checkpoint: 100.000000%   energy consumed from battery: 1.368045% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.205627%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.275024%  checkpoint: 100.000000%   energy consumed from battery: 1.437446% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.275024%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.378845%  checkpoint: 100.000000%   energy consumed from battery: 1.541332% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.378845%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.551422%  checkpoint: 100.000000%   energy consumed from battery: 1.713903% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.551422%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.894470%  checkpoint: 100.000000%   energy consumed from battery: 2.056914% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.894470%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.906769%  checkpoint: 100.000000%   energy consumed from battery: 3.069216% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.906769%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.089508%  checkpoint: 100.000000%   energy consumed from battery: 0.513017% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.089508%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.158905%  checkpoint: 100.000000%   energy consumed from battery: 0.539042% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.158905%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.262741%  checkpoint: 100.000000%   energy consumed from battery: 0.577999% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.262741%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.435318%  checkpoint: 100.000000%   energy consumed from battery: 0.642714% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.435318%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.778355%  checkpoint: 100.000000%   energy consumed from battery: 0.771343% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.778355%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.790653%  checkpoint: 100.000000%   energy consumed from battery: 1.150956% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.790653%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.513017%  checkpoint: 70.716896%   energy consumed from battery: 0.513017% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.513017%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.539042%  checkpoint: 70.716896%   energy consumed from battery: 0.539042% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.539042%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.577999%  checkpoint: 70.716896%   energy consumed from battery: 0.577999% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.577999%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.642714%  checkpoint: 70.716896%   energy consumed from battery: 0.642714% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.642714%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.771343%  checkpoint: 70.716896%   energy consumed from battery: 0.771343% [0m
[0;32mI (33758) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.771343%).[0m
[0;32mI (33768) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 45.906769%[0m
[0;32mI (33958) energy: Day4: sleep time: 200s  Battery level required at start: 42.837555%[0m
New adjustDutyFreqE event with ID: 67
[0;32mI (33968) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33978) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34278) functions: SendToMqttFunction started[0m
[0;32mI (34278) energy: Energy status for hourly reporting retrieved: (1732968025821588, 28725390.0, 107674896.0, 54907948.0)[0m
[0;32mI (34278) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732968258119,"temp":27.6}]}]}> to topic 4/230/data[0m
[0;32mI (34308) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732968258119,"loadPower":533.4,"loadEnergy":7981.1,"batteryPower":-25.8,"batteryEnergy":15264.1,"batteryRSOC":99.0,"panelPower":770.8,"panelEnergy":29958.2}]}]}> to topic 4/230/data[0m
[0;32mI (34328) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732968258119,"voltage":3.8,"rsoc":94.2,"rate":-16.6}]}]}> to topic 4/230/data[0m
hour: 13  lastHour:13
[0;32mI (34338) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732968258119,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34348) functions: SendToMqttFunction terminated[0m
[0;32mI (34378) functions: SetSleepTimeFunction started[0m
[0;32mI (34378) energy: Set sleepTime_s to 200[0m
[0;32mI (34378) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35888) mqtt: MQTT resourceSleep[0m
[0;32mI (35888) energy: Energy manager terminates.[0m
[0;32mI (35888) energy: Energy manager terminated.[0m
[0;32mI (35888) energy: Mean panel power: 438.4 mW  duration duty cycle: 5s[0m
[0;32mI (35898) energy: Mean load power: 175.2 mW  duration duty cycle: 5s[0m
[0;32mI (35898) energy: Load energy: 28732180.0 mWs (diff: 876.0mWs)[0m
[0;32mI (35908) energy: Battery energy: 54950684.0 mWs (diff: 76.0mWs)[0m
[0;32mI (35918) energy: Panel energy: 107850376.0 mWs (diff: 2192.0mWs)[0m
[0;32mI (35928) energy: Energy Manager saved state: (438.4, 1732968260998600, 175.2, 5, 1732968259081039, 0)[0m
[0;32mI (35958) energy: Energy saved: (28732192.0, 107850400.0, 54950684.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3808) energy: Energy retrieved: (28732192.0, 107850400.0, 54950684.0)[0m
wakeup clock
[0;32mI (23808) sntp: The current date/time in Germany is: Sat Nov 30 13:08:02 2024[0m
[0;32mI (23808) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24528) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25208) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25908) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26598) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27308) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (28028) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28728) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29408) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30088) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30778) energy: Energy Manager state retrieved: (438.4, 1732968260998600, 175.2, 5, 1732968259081039, 0)[0m
[0;32mI (30778) energy: Last mean panel power: 438.4mW[0m
[0;32mI (30778) energy: Duration of deep sleep: 198s[0m
[0;32mI (30788) energy: Mean load power: 175.2 mW  duration duty cycle: 5s[0m
[0;32mI (30798) energy: panel energy in deep sleep: 86803.2mWs[0m
[0;32mI (30798) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30808) energy: battery energy in deep sleep: 86367.6mWs[0m
New measureTemp event with ID: 68
New getNextDutyFreqE event with ID: 69
[0;32mI (31878) energy: Force deep sleep 200
[0m
[0;32mI (32978) functions: MeasureTempFunction started[0m
New temp event with ID: 70
[0;32mI (32998) functions: MeasureTempFunction terminated[0m
[0;32mI (33078) functions: CalcDutyFreqFunction started[0m
[0;32mI (33078) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33078) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33088) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33088) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403488
Timestamp of last solar prediction: 403488
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33178) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33178) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.971680mWh  Level Day1: 70.733040%[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day1: 70.733040%  energy: 2162.971680mWh  Level Day2: 112.489250%[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.971802mWh  Level Day3: 111.833435%[0m
[0;32mI (33208) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.028214mWh  Level Day4: 98.648102%[0m
[0;32mI (33218) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33228) CalcDutyFreqFunction: Day1 battery checkpoint: 70.733040[0m
[0;32mI (33238) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33248) CalcDutyFreqFunction: Day4 battery checkpoint: 98.648102[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.120216%  checkpoint: 98.648102%   energy consumed from battery: 0.506961% [0m
[0;32mI (33268) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.120216%).[0m
[0;32mI (33278) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.186405%  checkpoint: 98.648102%   energy consumed from battery: 0.531781% [0m
[0;32mI (33298) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.186405%).[0m
[0;32mI (33298) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.285469%  checkpoint: 98.648102%   energy consumed from battery: 0.568935% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.285469%).[0m
[0;32mI (33328) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.450073%  checkpoint: 98.648102%   energy consumed from battery: 0.630652% [0m
[0;32mI (33338) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.450073%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.777195%  checkpoint: 98.648102%   energy consumed from battery: 0.753325% [0m
[0;32mI (33358) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.777195%).[0m
[0;32mI (33368) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.742619%  checkpoint: 98.648102%   energy consumed from battery: 1.115359% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.742619%).[0m
[0;32mI (33388) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.094486%  checkpoint: 100.000000%   energy consumed from battery: 1.351896% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.094486%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.160679%  checkpoint: 100.000000%   energy consumed from battery: 1.418083% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.160679%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.259739%  checkpoint: 100.000000%   energy consumed from battery: 1.517159% [0m
[0;32mI (33448) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.259739%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.424351%  checkpoint: 100.000000%   energy consumed from battery: 1.681739% [0m
[0;32mI (33468) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.424351%).[0m
[0;32mI (33478) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.751469%  checkpoint: 100.000000%   energy consumed from battery: 2.008866% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.751469%).[0m
[0;32mI (33498) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.716892%  checkpoint: 100.000000%   energy consumed from battery: 2.974291% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.716892%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 33.883438%  checkpoint: 100.000000%   energy consumed from battery: 0.506961% [0m
[0;32mI (33538) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 33.883438%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 33.949627%  checkpoint: 100.000000%   energy consumed from battery: 0.531781% [0m
[0;32mI (33558) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 33.949627%).[0m
[0;32mI (33568) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.048695%  checkpoint: 100.000000%   energy consumed from battery: 0.568935% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.048695%).[0m
[0;32mI (33588) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.213295%  checkpoint: 100.000000%   energy consumed from battery: 0.630652% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.213295%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.540413%  checkpoint: 100.000000%   energy consumed from battery: 0.753325% [0m
[0;32mI (33628) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.540413%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.505836%  checkpoint: 100.000000%   energy consumed from battery: 1.115359% [0m
[0;32mI (33648) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.505836%).[0m
[0;32mI (33658) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.506961%  checkpoint: 70.733040%   energy consumed from battery: 0.506961% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.506961%).[0m
[0;32mI (33678) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.531781%  checkpoint: 70.733040%   energy consumed from battery: 0.531781% [0m
[0;32mI (33698) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.531781%).[0m
[0;32mI (33708) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.568935%  checkpoint: 70.733040%   energy consumed from battery: 0.568935% [0m
[0;32mI (33718) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.568935%).[0m
[0;32mI (33728) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.630652%  checkpoint: 70.733040%   energy consumed from battery: 0.630652% [0m
[0;32mI (33738) CalcDutyFreqFunction: Pushed stack element (1, 600s, 0.630652%).[0m
[0;32mI (33748) CalcDutyFreqFunction: Day1 sleep time: 400s  required battery level 0.753325%  checkpoint: 70.733040%   energy consumed from battery: 0.753325% [0m
[0;32mI (33758) CalcDutyFreqFunction: Pushed stack element (1, 400s, 0.753325%).[0m
[0;32mI (33768) CalcDutyFreqFunction: Day1eep time: 200s  Battery level required at start: 45.716892%[0m
[0;32mI (33958) energy: Day4: sleep time: 200s  Battery level required at start: 42.742619%[0m
New adjustDutyFreqE event with ID: 71
[0;32mI (33968) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33978) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34178) functions: SendToMqttFunction started[0m
[0;32mI (34178) energy: Energy status for hourly reporting retrieved: (1732968025821588, 28725390.0, 107674896.0, 54907948.0)[0m
[0;32mI (34178) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732968491938,"temp":27.7}]}]}> to topic 4/230/data[0m
[0;32mI (34208) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732968491938,"loadPower":516.0,"loadEnergy":7982.8,"batteryPower":45.2,"batteryEnergy":15290.9,"batteryRSOC":97.0,"panelPower":624.1,"panelEnergy":29989.2}]}]}> to topic 4/230/data[0m
[0;32mI (34228) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732968491938,"voltage":4.0,"rsoc":81.2,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 13  lastHour:13
[0;32mI (34238) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732968491938,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34248) functions: SendToMqttFunction terminated[0m
[0;32mI (34278) functions: SetSleepTimeFunction started[0m
[0;32mI (34278) energy: Set sleepTime_s to 200[0m
[0;32mI (34278) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35878) mqtt: MQTT resourceSleep[0m
[0;32mI (35878) energy: Energy manager terminates.[0m
[0;32mI (35878) energy: Energy manager terminated.[0m
[0;32mI (35878) energy: Mean panel power: 790.4 mW  duration duty cycle: 5s[0m
[0;32mI (35888) energy: Mean load power: 186.4 mW  duration duty cycle: 5s[0m
[0;32mI (35888) energy: Load energy: 28738514.0 mWs (diff: 932.0mWs)[0m
[0;32mI (35898) energy: Battery energy: 55047904.0 mWs (diff: 1740.0mWs)[0m
[0;32mI (35908) energy: Panel energy: 107962600.0 mWs (diff: 3952.0mWs)[0m
[0;32mI (35918) energy: Energy Manager saved state: (790.4, 1732968494807754, 186.4, 5, 1732968492900060, 0)[0m
[0;32mI (35938) energy: Energy saved: (28738526.0, 107962648.0, 55047928.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28738526.0, 107962648.0, 55047928.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 13:11:56 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24538) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25218) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25908) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26598) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27288) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27988) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28658) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29338) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30028) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30728) energy: Energy Manager state retrieved: (790.4, 1732968494807754, 186.4, 5, 1732968492900060, 0)[0m
[0;32mI (30728) energy: Last mean panel power: 790.4mW[0m
[0;32mI (30728) energy: Duration of deep sleep: 198s[0m
[0;32mI (30738) energy: Mean load power: 186.4 mW  duration duty cycle: 5s[0m
[0;32mI (30748) energy: panel energy in deep sleep: 156499.2mWs[0m
[0;32mI (30748) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30758) energy: battery energy in deep sleep: 143871.2mWs[0m
New measureTemp event with ID: 72
New getNextDutyFreqE event with ID: 73
[0;32mI (31838) energy: Force deep sleep 200
[0m
[0;32mI (32938) functions: MeasureTempFunction started[0m
New temp event with ID: 74
[0;32mI (32958) functions: MeasureTempFunction terminated[0m
[0;32mI (33038) functions: CalcDutyFreqFunction started[0m
[0;32mI (33038) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33038) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33048) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33048) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33058) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33068) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403488
Timestamp of last solar prediction: 403488
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33138) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33138) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2626.856445mWh  Level Day1: 70.711517%[0m
[0;32mI (33148) CalcDutyFreqFunction: Level Day1: 70.711517%  energy: 2161.856445mWh  Level Day2: 112.446198%[0m
[0;32mI (33158) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 611.856445mWh  Level Day3: 111.811897%[0m
[0;32mI (33168) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -71.143570mWh  Level Day4: 98.626572%[0m
[0;32mI (33178) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33188) CalcDutyFreqFunction: Day1 battery checkpoint: 70.711517[0m
[0;32mI (33198) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33208) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33208) CalcDutyFreqFunction: Day4 battery checkpoint: 98.626572[0m
[0;32mI (33218) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.141735%  checkpoint: 98.626572%   energy consumed from battery: 0.515036% [0m
[0;32mI (33228) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.141735%).[0m
[0;32mI (33238) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.212223%  checkpoint: 98.626572%   energy consumed from battery: 0.541463% [0m
[0;32mI (33258) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.212223%).[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.317699%  checkpoint: 98.626572%   energy consumed from battery: 0.581021% [0m
[0;32mI (33278) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.317699%).[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.492931%  checkpoint: 98.626572%   energy consumed from battery: 0.646734% [0m
[0;32mI (33298) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.492931%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.841278%  checkpoint: 98.626572%   energy consumed from battery: 0.777349% [0m
[0;32mI (33318) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.841278%).[0m
[0;32mI (33328) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.869225%  checkpoint: 98.626572%   energy consumed from battery: 1.162821% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.869225%).[0m
[0;32mI (33348) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.242607%  checkpoint: 100.000000%   energy consumed from battery: 1.373428% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.242607%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.313103%  checkpoint: 100.000000%   energy consumed from battery: 1.443900% [0m
[0;32mI (33388) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.313103%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.418571%  checkpoint: 100.000000%   energy consumed from battery: 1.549390% [0m
[0;32mI (33408) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.418571%).[0m
[0;32mI (33418) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.593803%  checkpoint: 100.000000%   energy consumed from battery: 1.724624% [0m
[0;32mI (33428) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.593803%).[0m
[0;32mI (33438) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.942162%  checkpoint: 100.000000%   energy consumed from battery: 2.072931% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.942162%).[0m
[0;32mI (33458) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.970116%  checkpoint: 100.000000%   energy consumed from battery: 3.100857% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.970116%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.158180%  checkpoint: 100.000000%   energy consumed from battery: 0.515036% [0m
[0;32mI (33498) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.158180%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.228668%  checkpoint: 100.000000%   energy consumed from battery: 0.541463% [0m
[0;32mI (33518) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.228668%).[0m
[0;32mI (33528) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.334145%  checkpoint: 100.000000%   energy consumed from battery: 0.581021% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.334145%).[0m
[0;32mI (33548) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.509384%  checkpoint: 100.000000%   energy consumed from battery: 0.646734% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.509384%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.857723%  checkpoint: 100.000000%   energy consumed from battery: 0.777349% [0m
[0;32mI (33588) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.857723%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.885674%  checkpoint: 100.000000%   energy consumed from battery: 1.162821% [0m
[0;32mI (33608) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.885674%).[0m
[0;32mI (33618) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.515036%  checkpoint: 70.711517%   energy consumed from battery: 0.515036% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.515036%).[0m
[0;32mI (33638) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.541463%  checkpoint: 70.711517%   energy consumed from battery: 0.541463% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.541463%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.581021%  checkpoint: 70.711517%   energy consumed from battery: 0.581021% [0m
[0;32mI (33678) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.581021%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.646734%  checkpoint: 70.711517%   energy consumed from battery: 0.646734% [0m
[0;32mI (33698) CalcDut.777349%  checkpoint: 20.000000%   energy consumed from battery: 0.777349% [0m
[0;32mI (33858) CalcDutyFreqFunction: Pushed stack element (0, 400s, 0.777349%).[0m
[0;32mI (33858) CalcDutyFreqFunction: Day0 sleep time: 200s  required battery level 1.162821%  checkpoint: 20.000000%   energy consumed from battery: 1.162821% [0m
[0;32mI (33878) CalcDutyFreqFunction: Pushed stack element (0, 200s, 1.162821%).[0m
[0;32mI (33888) energy: Day0: sleep time: 200s  Battery level required at start: 1.162821%[0m
[0;32mI (33898) energy: Day1: sleep time: 200s  Battery level required at start: 1.162821%[0m
[0;32mI (33898) energy: Day2: sleep time: 200s  Battery level required at start: 35.885674%[0m
[0;32mI (33908) energy: Day3: sleep time: 200s  Battery level required at start: 45.970116%[0m
[0;32mI (33918) energy: Day4: sleep time: 200s  Battery level required at start: 42.869225%[0m
New adjustDutyFreqE event with ID: 75
[0;32mI (33928) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33938) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34238) functions: SendToMqttFunction started[0m
[0;32mI (34238) energy: Energy status for hourly reporting retrieved: (1732968025821588, 28725390.0, 107674896.0, 54907948.0)[0m
[0;32mI (34238) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732968725272,"temp":27.6}]}]}> to topic 4/230/data[0m
[0;32mI (34268) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732968725272,"loadPower":514.4,"loadEnergy":7984.6,"batteryPower":40.2,"batteryEnergy":15333.9,"batteryRSOC":95.0,"panelPower":621.5,"panelEnergy":30039.8}]}]}> to topic 4/230/data[0m
[0;32mI (34288) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732968725272,"voltage":4.0,"rsoc":81.7,"rate":-3.1}]}]}> to topic 4/230/data[0m
hour: 13  lastHour:13
[0;32mI (34298) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732968725272,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34308) functions: SendToMqttFunction terminated[0m
[0;32mI (34338) functions: SetSleepTimeFunction started[0m
[0;32mI (34338) energy: Set sleepTime_s to 200[0m
[0;32mI (34338) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35838) mqtt: MQTT resourceSleep[0m
[0;32mI (35838) energy: Energy manager terminates.[0m
[0;32mI (35838) energy: Energy manager terminated.[0m
[0;32mI (35838) energy: Mean panel power: 795.2 mW  duration duty cycle: 5s[0m
[0;32mI (35848) energy: Mean load power: 182.4 mW  duration duty cycle: 5s[0m
[0;32mI (35858) energy: Load energy: 28744788.0 mWs (diff: 912.0mWs)[0m
[0;32mI (35858) energy: Battery energy: 55202644.0 mWs (diff: 1740.0mWs)[0m
[0;32mI (35868) energy: Panel energy: 108144400.0 mWs (diff: 3976.0mWs)[0m
[0;32mI (35888) energy: Energy Manager saved state: (795.2, 1732968728143192, 182.4, 5, 1732968726233601, 0)[0m
[0;32mI (35918) energy: Energy saved: (28744800.0, 108144448.0, 55202664.0)[0m
Deleting i2c driversif_finalize done
ets Jul 29 2019 12:21:46

rst:0x5 (DEEPSLEEP_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:7176
load:0x40078000,len:15564
ho 0 tail 12 room 4
load:0x40080400,len:4
load:0x40080404,len:3904
entry 0x40080640
[0;32mI (31) boot: ESP-IDF v5.3.1-536-g5955059940-dirty 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Nov 26 2024 17:01:48[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v3.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (79) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (86) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (94) boot: End of partition table[0m
[0;32mI (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=37248h (225864) map[0m
[0;32mI (184) esp_image: segment 1: paddr=00047270 vaddr=3ff80063 size=00008h (     8) [0m
[0;32mI (184) esp_image: segment 2: paddr=00047280 vaddr=3ffb0000 size=04078h ( 16504) load[0m
[0;32mI (195) esp_image: segment 3: paddr=0004b300 vaddr=40080000 size=04d18h ( 19736) load[0m
[0;32mI (205) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=c03c0h (787392) map[0m
[0;32mI (476) esp_image: segment 5: paddr=001103e8 vaddr=40084d18 size=14f1ch ( 85788) load[0m
[0;32mI (510) esp_image: segment 6: paddr=0012530c vaddr=400c0000 size=00064h (   100) [0m
[0;32mI (510) esp_image: segment 7: paddr=00125378 vaddr=50000000 size=00014h (    20) [0m
[0;32mI (528) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (528) boot: Disabling RNG early entropy source...[0m
[0;32mI (541) cpu_start: Multicore app[0m
[0;32mI (549) cpu_start: Pro cpu start user code[0m
[0;32mI (549) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (549) app_init: Application information:[0m
[0;32mI (552) app_init: Project name:     sif_dht[0m
[0;32mI (557) app_init: App version:      16fb8dc9-dirty[0m
[0;32mI (562) app_init: Compile time:     Nov 26 2024 17:01:26[0m
[0;32mI (568) app_init: ELF file SHA256:  7b8ee5a0c...[0m
[0;32mI (574) app_init: ESP-IDF:          v5.3.1-536-g5955059940-dirty[0m
[0;32mI (580) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (585) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (590) efuse_init: Chip rev:         v3.0[0m
[0;32mI (595) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (602) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (608) heap_init: At 3FFB8D20 len 000272E0 (156 KiB): DRAM[0m
[0;32mI (614) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (621) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (627) heap_init: At 40099C34 len 000063CC (24 KiB): IRAM[0m
[0;32mI (635) spi_flash: detected chip: generic[0m
[0;32mI (638) spi_flash: flash io: dio[0m
[0;33mW (642) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (668) main_task: Started on CPU0[0m
[0;32mI (678) main_task: Calling app_main()[0m
Wakeup caused by timer
[0;32mI (3818) energy: Energy retrieved: (28744800.0, 108144448.0, 55202664.0)[0m
wakeup clock
[0;32mI (23818) sntp: The current date/time in Germany is: Sat Nov 30 13:15:49 2024[0m
[0;32mI (23818) fetch: fetching key: minSleepTime[0m
response buffer is {"minSleepTime":200}
[0;32mI (24528) fetch: fetching key: maxSleepTime[0m
response buffer is {"maxSleepTime":1200}
[0;32mI (25228) fetch: fetching key: stepSleepTime[0m
response buffer is {"stepSleepTime":200}
[0;32mI (25908) fetch: fetching key: targetRSOC[0m
response buffer is {"targetRSOC":50}
[0;32mI (26598) fetch: fetching key: startRSOC[0m
response buffer is {"startRSOC":20}
[0;32mI (27288) fetch: fetching eky: day0[0m
response buffer is {"day0":[0,0,0,0,0,0,0,0,0,172,488,595,636,543,264,0,0,0,0,0,0,0,0,0]}
[0;32mI (27988) fetch: fetching eky: day1[0m
response buffer is {"day1":[0,0,0,0,0,0,0,0,0,121,328,441,559,524,260,0,0,0,0,0,0,0,0,0]}
[0;32mI (28668) fetch: fetching eky: day2[0m
response buffer is {"day2":[0,0,0,0,0,0,0,0,0,76,177,164,132,94,40,0,0,0,0,0,0,0,0,0]}
[0;32mI (29368) fetch: fetching eky: day3[0m
response buffer is {"day3":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}
[0;32mI (30078) fetch: fetching eky: day4[0m
response buffer is {"day4":[0,0,0,0,0,0,0,0,0,62,142,133,110,56,27,0,0,0,0,0,0,0,0,0]}
[0;32mI (30778) energy: Energy Manager state retrieved: (795.2, 1732968728143192, 182.4, 5, 1732968726233601, 0)[0m
[0;32mI (30788) energy: Last mean panel power: 795.2mW[0m
[0;32mI (30788) energy: Duration of deep sleep: 198s[0m
[0;32mI (30788) energy: Mean load power: 182.4 mW  duration duty cycle: 5s[0m
[0;32mI (30798) energy: panel energy in deep sleep: 157449.6mWs[0m
[0;32mI (30808) energy: load energy in deep sleep: 435.6mWs[0m
[0;32mI (30808) energy: battery energy in deep sleep: 132271.8mWs[0m
New measureTemp event with ID: 76
New getNextDutyFreqE event with ID: 77
[0;32mI (31888) energy: Force deep sleep 200
[0m
[0;32mI (32988) functions: MeasureTempFunction started[0m
New temp event with ID: 78
[0;32mI (33008) functions: MeasureTempFunction terminated[0m
[0;32mI (33088) functions: CalcDutyFreqFunction started[0m
[0;32mI (33088) CalcDutyFreqFunction: Start battery level: 20.000000[0m
[0;32mI (33088) CalcDutyFreqFunction: Target battery level: 50.000000[0m
[0;32mI (33098) CalcDutyFreqFunction: Day0 sleep time: 1200 s[0m
[0;32mI (33098) CalcDutyFreqFunction: Day1 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day2 sleep time: 1200 s[0m
[0;32mI (33108) CalcDutyFreqFunction: Day3 sleep time: 1200 s[0m
[0;32mI (33118) CalcDutyFreqFunction: Day4 sleep time: 1200 s[0m
global time: 403488
Timestamp of last solar prediction: 403488
Panel energy (mWh)
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,172.00,488.00,595.00,636.00,543.00,264.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,121.00,328.00,441.00,559.00,524.00,260.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,76.00,177.00,164.00,132.00,94.00,40.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,62.00,142.00,133.00,110.00,56.00,27.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
[0;32mI (33188) mqtt: MQTT resourceWakeup: reconnecting[0m
[0;32mI (33188) CalcDutyFreqFunction: Level Day0: 20.000000%  energy: 2627.254883mWh  Level Day1: 70.719208%[0m
[0;32mI (33198) CalcDutyFreqFunction: Level Day1: 70.719208%  energy: 2162.254883mWh  Level Day2: 112.461578%[0m
[0;32mI (33208) CalcDutyFreqFunction: Level Day2: 100.000000%  energy: 612.254761mWh  Level Day3: 111.819588%[0m
[0;32mI (33218) CalcDutyFreqFunction: Level Day3: 100.000000%  energy: -70.745232mWh  Level Day4: 98.634262%[0m
[0;32mI (33228) CalcDutyFreqFunction: Day0 battery checkpoint: 20.000000[0m
[0;32mI (33238) CalcDutyFreqFunction: Day1 battery checkpoint: 70.719208[0m
[0;32mI (33248) CalcDutyFreqFunction: Day2 battery checkpoint: 100.000000[0m
[0;32mI (33258) CalcDutyFreqFunction: Day3 battery checkpoint: 100.000000[0m
[0;32mI (33258) CalcDutyFreqFunction: Day4 battery checkpoint: 98.634262[0m
[0;32mI (33268) CalcDutyFreqFunction: Day4 sleep time: 1200s  required battery level 41.134113%  checkpoint: 98.634262%   energy consumed from battery: 0.512152% [0m
[0;32mI (33278) CalcDutyFreqFunction: Pushed stack element (4, 1200s, 41.134113%).[0m
[0;32mI (33288) CalcDutyFreqFunction: Day4 sleep time: 1000s  required battery level 41.203053%  checkpoint: 98.634262%   energy consumed from battery: 0.538005% [0m
[0;32mI (33308) CalcDutyFreqFunction: Pushed stack element (4, 1000s, 41.203053%).[0m
[0;32mI (33308) CalcDutyFreqFunction: Day4 sleep time: 800s  required battery level 41.306236%  checkpoint: 98.634262%   energy consumed from battery: 0.576704% [0m
[0;32mI (33328) CalcDutyFreqFunction: Pushed stack element (4, 800s, 41.306236%).[0m
[0;32mI (33338) CalcDutyFreqFunction: Day4 sleep time: 600s  required battery level 41.477634%  checkpoint: 98.634262%   energy consumed from battery: 0.640990% [0m
[0;32mI (33348) CalcDutyFreqFunction: Pushed stack element (4, 600s, 41.477634%).[0m
[0;32mI (33358) CalcDutyFreqFunction: Day4 sleep time: 400s  required battery level 41.818390%  checkpoint: 98.634262%   energy consumed from battery: 0.768769% [0m
[0;32mI (33368) CalcDutyFreqFunction: Pushed stack element (4, 400s, 41.818390%).[0m
[0;32mI (33378) CalcDutyFreqFunction: Day4 sleep time: 200s  required battery level 42.823997%  checkpoint: 98.634262%   energy consumed from battery: 1.145871% [0m
[0;32mI (33398) CalcDutyFreqFunction: Pushed stack element (4, 200s, 42.823997%).[0m
[0;32mI (33398) CalcDutyFreqFunction: Day3 sleep time: 1200s  required battery level 44.189781%  checkpoint: 100.000000%   energy consumed from battery: 1.365738% [0m
[0;32mI (33418) CalcDutyFreqFunction: Pushed stack element (3, 1200s, 44.189781%).[0m
[0;32mI (33428) CalcDutyFreqFunction: Day3 sleep time: 1000s  required battery level 44.258720%  checkpoint: 100.000000%   energy consumed from battery: 1.434680% [0m
[0;32mI (33438) CalcDutyFreqFunction: Pushed stack element (3, 1000s, 44.258720%).[0m
[0;32mI (33448) CalcDutyFreqFunction: Day3 sleep time: 800s  required battery level 44.361900%  checkpoint: 100.000000%   energy consumed from battery: 1.537879% [0m
[0;32mI (33458) CalcDutyFreqFunction: Pushed stack element (3, 800s, 44.361900%).[0m
[0;32mI (33468) CalcDutyFreqFunction: Day3 sleep time: 600s  required battery level 44.533287%  checkpoint: 100.000000%   energy consumed from battery: 1.709308% [0m
[0;32mI (33478) CalcDutyFreqFunction: Pushed stack element (3, 600s, 44.533287%).[0m
[0;32mI (33488) CalcDutyFreqFunction: Day3 sleep time: 400s  required battery level 44.874046%  checkpoint: 100.000000%   energy consumed from battery: 2.050050% [0m
[0;32mI (33508) CalcDutyFreqFunction: Pushed stack element (3, 400s, 44.874046%).[0m
[0;32mI (33508) CalcDutyFreqFunction: Day3 sleep time: 200s  required battery level 45.879662%  checkpoint: 100.000000%   energy consumed from battery: 3.055655% [0m
[0;32mI (33528) CalcDutyFreqFunction: Pushed stack element (3, 200s, 45.879662%).[0m
[0;32mI (33538) CalcDutyFreqFunction: Day2 sleep time: 1200s  required battery level 34.060108%  checkpoint: 100.000000%   energy consumed from battery: 0.512152% [0m
[0;32mI (33548) CalcDutyFreqFunction: Pushed stack element (2, 1200s, 34.060108%).[0m
[0;32mI (33558) CalcDutyFreqFunction: Day2 sleep time: 1000s  required battery level 34.129047%  checkpoint: 100.000000%   energy consumed from battery: 0.538005% [0m
[0;32mI (33568) CalcDutyFreqFunction: Pushed stack element (2, 1000s, 34.129047%).[0m
[0;32mI (33578) CalcDutyFreqFunction: Day2 sleep time: 800s  required battery level 34.232231%  checkpoint: 100.000000%   energy consumed from battery: 0.576704% [0m
[0;32mI (33598) CalcDutyFreqFunction: Pushed stack element (2, 800s, 34.232231%).[0m
[0;32mI (33598) CalcDutyFreqFunction: Day2 sleep time: 600s  required battery level 34.403622%  checkpoint: 100.000000%   energy consumed from battery: 0.640990% [0m
[0;32mI (33618) CalcDutyFreqFunction: Pushed stack element (2, 600s, 34.403622%).[0m
[0;32mI (33628) CalcDutyFreqFunction: Day2 sleep time: 400s  required battery level 34.744381%  checkpoint: 100.000000%   energy consumed from battery: 0.768769% [0m
[0;32mI (33638) CalcDutyFreqFunction: Pushed stack element (2, 400s, 34.744381%).[0m
[0;32mI (33648) CalcDutyFreqFunction: Day2 sleep time: 200s  required battery level 35.749996%  checkpoint: 100.000000%   energy consumed from battery: 1.145871% [0m
[0;32mI (33658) CalcDutyFreqFunction: Pushed stack element (2, 200s, 35.749996%).[0m
[0;32mI (33668) CalcDutyFreqFunction: Day1 sleep time: 1200s  required battery level 0.512152%  checkpoint: 70.719208%   energy consumed from battery: 0.512152% [0m
[0;32mI (33688) CalcDutyFreqFunction: Pushed stack element (1, 1200s, 0.512152%).[0m
[0;32mI (33688) CalcDutyFreqFunction: Day1 sleep time: 1000s  required battery level 0.538005%  checkpoint: 70.719208%   energy consumed from battery: 0.538005% [0m
[0;32mI (33708) CalcDutyFreqFunction: Pushed stack element (1, 1000s, 0.538005%).[0m
[0;32mI (33718) CalcDutyFreqFunction: Day1 sleep time: 800s  required battery level 0.576704%  checkpoint: 70.719208%   energy consumed from battery: 0.576704% [0m
[0;32mI (33728) CalcDutyFreqFunction: Pushed stack element (1, 800s, 0.576704%).[0m
[0;32mI (33738) CalcDutyFreqFunction: Day1 sleep time: 600s  required battery level 0.640990%  checkpoint: 70.719208%   energy consumed from battery: 0.640990% [0m
[0;32mI (33748) CalcDut.768769%  checkpoint: 20.000000%   energy consumed from battery: 0.768769% [0m
[0;32mI (33908) CalcDutyFreqFunction: Pushed stack element (0, 400s, 0.768769%).[0m
[0;32mI (33908) CalcDutyFreqFunction: Day0 sleep time: 200s  required battery level 1.145871%  checkpoint: 20.000000%   energy consumed from battery: 1.145871% [0m
[0;32mI (33928) CalcDutyFreqFunction: Pushed stack element (0, 200s, 1.145871%).[0m
[0;32mI (33938) energy: Day0: sleep time: 200s  Battery level required at start: 1.145871%[0m
[0;32mI (33948) energy: Day1: sleep time: 200s  Battery level required at start: 1.145871%[0m
[0;32mI (33948) energy: Day2: sleep time: 200s  Battery level required at start: 35.749996%[0m
[0;32mI (33958) energy: Day3: sleep time: 200s  Battery level required at start: 45.879662%[0m
[0;32mI (33968) energy: Day4: sleep time: 200s  Battery level required at start: 42.823997%[0m
New adjustDutyFreqE event with ID: 79
[0;32mI (33978) energy: Create AdjustDutyFreqEvent with 200 seconds[0m
[0;32mI (33988) functions: CalcDutyFreqFunction terminated[0m
[0;32mI (34188) functions: SendToMqttFunction started[0m
[0;32mI (34188) energy: Energy status for hourly reporting retrieved: (1732968025821588, 28725390.0, 107674896.0, 54907948.0)[0m
[0;32mI (34188) mqtt: Sent <{"sensors":[{"name":"temperature","values":[{"timestamp":1732968958804,"temp":27.6}]}]}> to topic 4/230/data[0m
[0;32mI (34218) mqtt: Sent <{"sensors":[{"name":"energy","values":[{"timestamp":1732968958804,"loadPower":516.0,"loadEnergy":7986.4,"batteryPower":37.1,"batteryEnergy":15373.6,"batteryRSOC":95.0,"panelPower":614.9,"panelEnergy":30090.5}]}]}> to topic 4/230/data[0m
[0;32mI (34238) mqtt: Sent <{"sensors":[{"name":"maxGauge","values":[{"timestamp":1732968958804,"voltage":4.0,"rsoc":83.5,"rate":-3.3}]}]}> to topic 4/230/data[0m
hour: 13  lastHour:13
[0;32mI (34248) mqtt: Sent <{"sensors":[{"name":"sleepTime","values":[{"timestamp":1732968958804,"period":200}]}]}> to topic 4/230/data[0m
[0;32mI (34268) functions: SendToMqttFunction terminated[0m
[0;32mI (34288) functions: SetSleepTimeFunction started[0m
[0;32mI (34288) energy: Set sleepTime_s to 200[0m
[0;32mI (34288) functions: SetSleepTimeFunction terminated[0m
[0;32mI (35888) mqtt: MQTT resourceSleep[0m
[0;32mI (35888) energy: Energy manager terminates.[0m
[0;32mI (35888) energy: Energy manager terminated.[0m
[0;32mI (35888) energy: Mean panel power: 788.8 mW  duration duty cycle: 5s[0m
[0;32mI (35898) energy: Mean load power: 181.2 mW  duration duty cycle: 5s[0m
[0;32mI (35908) energy: Load energy: 28751226.0 mWs (diff: 906.0mWs)[0m
[0;32mI (35908) energy: Battery energy: 55345508.0 mWs (diff: 1744.0mWs)[0m
[0;32mI (35918) energy: Panel energy: 108327184.0 mWs (diff: 3944.0mWs)[0m
[0;32mI (35998) energy: Energy Manager saved state: (788.8, 1732968961677014, 181.2, 5, 1732968959767008, 0)[0m
[0;32mI (36018) energy: Energy saved: (28751256.0, 108327272.0, 55345548.0)[0m
Deleting i2c driversif_finalize done
